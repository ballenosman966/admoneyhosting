import{r as Dr,a as Wo,g as Ho}from"./vendor-DavUf6mE.js";import{r as b,R as Ko,a as ms,u as Vt,H as Yo,b as qo,c as Go,d as ce,N as Qe}from"./router-MEQHD06l.js";import{H as Jo,P as Ot,W as ua,G as Ke,U as xs,S as ii,C as Le,a as ni,B as dt,L as Ct,M as ai,X as Ee,b as Xo,I as Pr,A as gt,c as me,d as at,D as ue,e as fs,Z as Zo,f as It,g as ve,h as ke,T as ps,i as el,j as Fe,k as Bs,l as tl,E as We,m as Te,n as ht,o as hr,p as it,q as sl,r as ur,s as Br,t as bt,u as oi,v as kt,w as rl,x as li,y as ci,z as Rr,F as il,J as nl,Y as al,K as ol,R as ut,N as di,O as ma,Q as ll,V as hi,_ as ui,$ as Rs,a0 as mi,a1 as xa,a2 as xi,a3 as fi,a4 as cl,a5 as dl,a6 as hl,a7 as ul,a8 as ml,a9 as xl,aa as fl,ab as pl}from"./icons-C0OOQq97.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var Us={exports:{}},vt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi;function gl(){if(pi)return vt;pi=1;var s=Dr(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,u={},m=null,x=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(x=c.ref);for(h in c)i.call(c,h)&&!a.hasOwnProperty(h)&&(u[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)u[h]===void 0&&(u[h]=c[h]);return{$$typeof:e,type:l,key:m,ref:x,props:u,_owner:n.current}}return vt.Fragment=r,vt.jsx=o,vt.jsxs=o,vt}var gi;function bl(){return gi||(gi=1,Us.exports=gl()),Us.exports}var t=bl(),Kt={},bi;function wl(){if(bi)return Kt;bi=1;var s=Wo();return Kt.createRoot=s.createRoot,Kt.hydrateRoot=s.hydrateRoot,Kt}var yl=wl();class vl{USERS_KEY="cryptoRewardsUsers";CURRENT_USER_KEY="cryptoRewardsCurrentUser";NOTIFICATIONS_KEY="cryptoRewardsNotifications";BACKUP_KEY="cryptoRewardsBackup";SESSIONS_KEY="cryptoRewardsSessions";usersCache=null;currentUserCache=null;cacheTimestamp=0;CACHE_DURATION=1e4;constructor(){try{this.migrateDataFromOldStorage()}catch(e){console.error("UserStorage constructor error:",e)}}migrateDataFromOldStorage(){try{const e=localStorage.getItem(this.USERS_KEY),r=localStorage.getItem(this.CURRENT_USER_KEY);if(e||r){const n={users:e?JSON.parse(e):[],currentUser:r?JSON.parse(r):null,timestamp:Date.now(),port:window.location.port||"3000"};sessionStorage.setItem(this.BACKUP_KEY,JSON.stringify(n)),console.log("Data backed up to sessionStorage for port persistence")}const i=sessionStorage.getItem(this.BACKUP_KEY);if(i&&(!e||!r)){const n=JSON.parse(i);n.users&&n.users.length>0&&(localStorage.setItem(this.USERS_KEY,JSON.stringify(n.users)),console.log("Users data restored from backup"),typeof window<"u"&&setTimeout(()=>{const a=new CustomEvent("dataRestored",{detail:{message:`Your data has been restored from port ${n.port||"3000"}`,userCount:n.users.length}});window.dispatchEvent(a)},1e3)),n.currentUser&&(localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(n.currentUser)),console.log("Current user data restored from backup"))}}catch(e){console.error("Error during data migration:",e)}}getUsers(){const e=Date.now();if(this.usersCache&&e-this.cacheTimestamp<this.CACHE_DURATION)return this.usersCache;try{if(typeof window>"u"||!window.localStorage)return console.warn("localStorage not available"),[];const r=localStorage.getItem(this.USERS_KEY),i=r?JSON.parse(r):[];return this.usersCache=i,this.cacheTimestamp=e,i}catch(r){return console.error("Error reading users from localStorage:",r),[]}}saveUsers(e){try{if(typeof window>"u"||!window.localStorage){console.warn("localStorage not available");return}localStorage.setItem(this.USERS_KEY,JSON.stringify(e)),this.usersCache=e,this.cacheTimestamp=Date.now(),this.backupData()}catch(r){console.error("Error saving users to localStorage:",r)}}clearCache(){this.usersCache=null,this.currentUserCache=null,this.cacheTimestamp=0}backupData(){try{const e=localStorage.getItem(this.USERS_KEY),r=localStorage.getItem(this.CURRENT_USER_KEY),i={users:e?JSON.parse(e):[],currentUser:r?JSON.parse(r):null,timestamp:Date.now(),port:window.location.port||"3000"};sessionStorage.setItem(this.BACKUP_KEY,JSON.stringify(i)),console.log(`Data backed up for port ${window.location.port||"3000"}`)}catch(e){console.error("Error backing up data:",e)}}restoreFromPortBackup(){try{const e=sessionStorage.getItem(this.BACKUP_KEY);if(!e)return console.log("No port backup found in sessionStorage"),!1;const r=JSON.parse(e);return console.log("Restoring from backup:",r),r.users&&r.users.length>0&&(localStorage.setItem(this.USERS_KEY,JSON.stringify(r.users)),console.log(`Restored ${r.users.length} users from backup`)),r.currentUser&&(localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(r.currentUser)),console.log(`Restored current user: ${r.currentUser.username} from backup`)),this.clearCache(),!0}catch(e){return console.error("Error restoring from port backup:",e),!1}}hasPortBackup(){return sessionStorage.getItem(this.BACKUP_KEY)!==null}getBackupInfo(){try{const e=sessionStorage.getItem(this.BACKUP_KEY);return e?{hasBackup:!0,backupData:JSON.parse(e)}:{hasBackup:!1}}catch(e){return console.error("Error getting backup info:",e),{hasBackup:!1}}}checkEmailExists(e){return this.getUsers().some(i=>i.email.toLowerCase()===e.toLowerCase())}checkUsernameExists(e){return this.getUsers().some(i=>i.username.toLowerCase()===e.toLowerCase())}checkReferralCodeExists(e){return!e||e.trim()===""?!1:this.getUsers().some(i=>i.referralCode&&i.referralCode.toLowerCase()===e.toLowerCase())}getUserByReferralCode(e){return!e||e.trim()===""?null:this.getUsers().find(i=>i.referralCode&&i.referralCode.toLowerCase()===e.toLowerCase())||null}checkUserIdExists(e){return this.getUsers().some(i=>i.id===e)}getUserById(e){return this.getUsers().find(i=>i.id===e)||null}getUserByEmail(e){return this.getUsers().find(i=>i.email.toLowerCase()===e.toLowerCase())||null}updateUserPasswordByEmail(e,r){const i=this.getUsers(),n=i.findIndex(a=>a.email.toLowerCase()===e.toLowerCase());if(n!==-1){i[n].password=r,this.saveUsers(i);const a=this.getCurrentUser();a&&a.email.toLowerCase()===e.toLowerCase()&&(this.currentUserCache=i[n],localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(i[n])))}else throw new Error("User not found")}createUser(e){const r=this.getUsers();if(this.checkEmailExists(e.email))throw new Error("An account with this email already exists");if(this.checkUsernameExists(e.username))throw new Error("Username already taken");let i,n=!1;if(e.referrerId){const l=this.getUserById(e.referrerId);l&&(i=l.username,n=!0)}else if(e.referralCode){const l=r.find(c=>c.referralCode===e.referralCode);l&&(i=l.username,n=!0)}r.filter(l=>l.username!=="mhamad").length;const o={id:Date.now().toString(),username:e.username,email:e.email,firstName:e.firstName,lastName:e.lastName,password:e.password,balance:0,totalEarned:0,joinDate:new Date().toISOString(),referralCode:this.generateReferralCode(),referredBy:i,referralEarnings:0,referralCount:0,referralHistory:[],displayName:e.username,bio:"",phone:"",country:e.country||"",timezone:"UTC",language:"en",birthday:e.birthday||"",theme:"dark",emailNotifications:!0,pushNotifications:!0,soundEnabled:!0,autoPlayAds:!0,showEarnings:!0,twoFactorAuth:!1,sessionTimeout:30,newAds:!0,earnings:!0,streak:!0,withdrawals:!0,referrals:!0,promotions:!0,currentStreak:0,totalAdsWatched:0,vipTier:0,vipStartDate:void 0,lastVipReward:void 0,isSubscribed:!1,subscriptionType:void 0,subscriptionStartDate:void 0,subscriptionEndDate:void 0,subscriptionStatus:void 0,subscriptionHistory:[],isEmailVerified:!0,activityLog:[]};return r.push(o),this.saveUsers(r),n&&i&&this.addReferral(i,o),this.createSession(o.id),o}authenticateUser(e,r){const n=this.getUsers().find(o=>o.username.toLowerCase()===e.toLowerCase()||o.email.toLowerCase()===e.toLowerCase());if(!n||n.password!==r)throw new Error("Invalid username/email or password");const a={...n};return this.createSession(a.id),this.setCurrentUser(a),a}getCurrentUser(){if(this.currentUserCache)return console.log("getCurrentUser: Returning from cache:",this.currentUserCache.username),this.currentUserCache;try{const e=localStorage.getItem(this.CURRENT_USER_KEY);if(console.log("getCurrentUser: Raw localStorage data:",e?"exists":"null"),!e)return console.log("getCurrentUser: No user data in localStorage"),null;const r=JSON.parse(e);console.log("getCurrentUser: Parsed user data:",r.username,"balance:",r.balance);const n=this.getUsers().find(o=>o.id===r.id);if(!n)return console.log("getCurrentUser: User not found in users array, clearing current user"),this.setCurrentUser(null),null;const a={...n};return this.currentUserCache=a,console.log("getCurrentUser: Returning latest user data:",a.username,"balance:",a.balance),a}catch(e){return console.error("Error reading current user from localStorage:",e),this.setCurrentUser(null),null}}setCurrentUser(e){try{if(e){const i=this.getUsers().find(a=>a.id===e.id);if(!i){console.log("setCurrentUser: User not found in users array, cannot set as current user");return}const n={...i};localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(n)),this.currentUserCache=n,console.log("setCurrentUser: Set current user:",n.username,"balance:",n.balance)}else localStorage.removeItem(this.CURRENT_USER_KEY),this.currentUserCache=null,console.log("setCurrentUser: Cleared current user");this.backupData()}catch(r){console.error("Error saving current user to localStorage:",r),this.currentUserCache=null}}updateUser(e){const r=this.getUsers(),i=r.findIndex(n=>n.id===e.id);if(i!==-1){r[i]=e,this.saveUsers(r);const n=this.getCurrentUser();n&&n.id===e.id&&(this.currentUserCache=e,localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(e)))}}addEarnings(e,r){const i=this.getUsers(),n=i.findIndex(l=>l.id===e);if(n===-1)throw new Error("User not found");const a=i[n];a.balance+=r,a.totalEarned+=r,a.activityLog||(a.activityLog=[]),a.activityLog.unshift({type:"ad",message:"Watched an ad and earned",amount:r,date:new Date().toISOString()}),i[n]=a,this.saveUsers(i);const o=this.getCurrentUser();return o&&o.id===e&&this.setCurrentUser(a),a}clearAllData(){try{const e=this.getUsers(),r=this.getCurrentUser(),i={users:e,currentUser:r,timestamp:new Date().toISOString()};localStorage.setItem("cryptoRewardsBackup",JSON.stringify(i)),console.log("Backup created before clearing data")}catch(e){console.error("Failed to create backup:",e)}localStorage.removeItem(this.USERS_KEY),localStorage.removeItem(this.CURRENT_USER_KEY),this.clearCache()}cleanupSubscriptionData(){const e=this.getUsers();let r=!1;e.forEach((i,n)=>{if((i.subscriptionStatus==="cancelled"||i.subscriptionStatus==="expired")&&i.subscriptionHistory&&i.subscriptionHistory.length>0&&i.subscriptionHistory.forEach(a=>{a.status==="active"&&i.subscriptionStatus&&(a.status=i.subscriptionStatus,r=!0)}),!i.isSubscribed&&i.subscriptionHistory&&i.subscriptionHistory.length>0){const a=new Date;i.subscriptionHistory.some(l=>{const c=new Date(l.endDate);return l.status==="active"&&c>a})||i.subscriptionHistory.forEach(l=>{l.status==="active"&&(l.status="cancelled",r=!0)})}}),r&&(this.saveUsers(e),this.clearCache(),console.log("Subscription data cleaned up"))}restoreFromBackup(){try{const e=localStorage.getItem("cryptoRewardsBackup");if(!e)return console.log("No backup found"),!1;const r=JSON.parse(e);return r.users&&localStorage.setItem(this.USERS_KEY,JSON.stringify(r.users)),r.currentUser&&localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(r.currentUser)),this.clearCache(),console.log("Data restored from backup"),!0}catch(e){return console.error("Failed to restore from backup:",e),!1}}hasBackup(){return localStorage.getItem("cryptoRewardsBackup")!==null}isFirstUser(){return this.getUsers().filter(i=>i.username!=="mhamad").length===0}getUserCount(){return this.getUsers().length}createDefaultAdmin(){const e=this.getUsers();if(!e.some(i=>i.username==="mhamad")){const i={id:"admin-001",username:"mhamad",email:"admin@cryptorewards.com",firstName:"Admin",lastName:"User",password:"@@mhamad$$",balance:0,totalEarned:0,joinDate:new Date().toISOString(),referralCode:this.generateReferralCode(),referralEarnings:0,referralCount:0,referralHistory:[],displayName:"Admin",bio:"System Administrator",phone:"",country:"",timezone:"UTC",language:"en",theme:"dark",emailNotifications:!0,pushNotifications:!0,soundEnabled:!0,autoPlayAds:!0,showEarnings:!0,twoFactorAuth:!1,sessionTimeout:30,newAds:!0,earnings:!0,streak:!0,withdrawals:!0,referrals:!0,promotions:!0,currentStreak:0,totalAdsWatched:0,vipTier:void 0,vipStartDate:void 0,lastVipReward:void 0,isSubscribed:!1,subscriptionType:void 0,subscriptionStartDate:void 0,subscriptionEndDate:void 0,subscriptionStatus:void 0,subscriptionHistory:[],isEmailVerified:!0,activityLog:[]};e.push(i),this.saveUsers(e)}}generateReferralCode(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let i=0;i<8;i++)r+=e[Math.floor(Math.random()*e.length)];return r}addReferral(e,r){const i=this.getUsers(),n=i.findIndex(d=>d.id===e);if(n===-1)throw new Error("User not found");const a=i[n],o=2,l={id:Date.now().toString(),referredUsername:r.username,referredEmail:r.email,joinDate:new Date().toISOString(),earnings:o,status:"active"};a.referralHistory.push(l),a.referralCount=a.referralHistory.length,a.referralEarnings+=o,a.balance+=o,a.totalEarned+=o,a.activityLog||(a.activityLog=[]),a.activityLog.unshift({type:"referral",message:`Referred ${r.username} and earned $${o.toFixed(2)}`,amount:o,date:new Date().toISOString(),extra:{referredUser:r.username}}),this.addNotification(e,{type:"reward",title:"Referral Reward!",message:`You earned $${o.toFixed(2)} for referring ${r.username}!`}),i[n]=a,this.saveUsers(i);const c=this.getCurrentUser();c&&c.id===e&&this.setCurrentUser(a),console.log(`âœ… Referral processed: ${a.username} referred ${r.username} and earned $${o.toFixed(2)}`)}getReferralHistory(e){const i=this.getUsers().find(n=>n.id===e);if(!i)throw new Error("User not found");return i.referralHistory}updateReferralEarnings(e,r,i){const n=this.getUsers(),a=n.findIndex(d=>d.id===e);if(a===-1)throw new Error("User not found");const o=n[a],l=o.referralHistory.findIndex(d=>d.id===r);if(l===-1)throw new Error("Referral record not found");o.referralHistory[l].earnings=i,this.saveUsers(n);const c=this.getCurrentUser();c&&c.id===e&&this.setCurrentUser(o)}markReferralInactive(e,r){const i=this.getUsers(),n=i.findIndex(c=>c.id===e);if(n===-1)throw new Error("User not found");const a=i[n],o=a.referralHistory.findIndex(c=>c.id===r);if(o===-1)throw new Error("Referral record not found");a.referralHistory[o].status="inactive",this.saveUsers(i);const l=this.getCurrentUser();l&&l.id===e&&this.setCurrentUser(a)}handleDeposit(e,r){const i=this.getUsers(),n=i.findIndex(o=>o.id===e);if(n===-1)throw new Error("User not found");const a=i[n];a.balance+=r,a.activityLog||(a.activityLog=[]),a.activityLog.unshift({type:"deposit",message:"Deposit approved",amount:r,date:new Date().toISOString()}),i[n]=a,this.saveUsers(i)}processVIPRewards(){const e=new Date().toDateString(),r=`vipRewardsProcessed_${e}`;if(sessionStorage.getItem(r))return;const i=this.getUsers();let n=!1;i.forEach(a=>{if(a.vipTier&&a.vipStartDate){if(!a.vipAdProgress||a.vipAdProgress.lastResetDate!==e){const l=this.getVIPTier(a.vipTier);l&&(a.vipAdProgress={adsWatched:0,totalAdsRequired:10,dailyReward:l.dailyReward,lastResetDate:e},n=!0)}const o=this.getCurrentUser();o&&o.id===a.id&&this.setCurrentUser(a)}}),n&&(this.saveUsers(i),sessionStorage.setItem(r,"true"))}getVIPTier(e){return[{id:1,name:"VIP 1",dailyReward:.6},{id:2,name:"VIP 2",dailyReward:2.16},{id:3,name:"VIP 3",dailyReward:5.16},{id:4,name:"VIP 4",dailyReward:7.16},{id:5,name:"VIP 5",dailyReward:11.19},{id:6,name:"VIP 6",dailyReward:21.22},{id:7,name:"VIP 7",dailyReward:47.52}].find(i=>i.id===e)||null}processVIPAdReward(e){const r=this.getUsers(),i=r.findIndex(d=>d.id===e);if(i===-1||!r[i].vipTier||!r[i].vipAdProgress)return null;const n=r[i],a=new Date().toDateString();if(!n.vipAdProgress){const d=this.getVIPTier(n.vipTier);if(d)n.vipAdProgress={adsWatched:0,totalAdsRequired:10,dailyReward:d.dailyReward,lastResetDate:a};else return null}if(n.vipAdProgress.lastResetDate!==a){const d=this.getVIPTier(n.vipTier);d&&(n.vipAdProgress={adsWatched:0,totalAdsRequired:10,dailyReward:d.dailyReward,lastResetDate:a})}const o=n.vipAdProgress.dailyReward/10;n.vipAdProgress.adsWatched+=1;const l=n.vipAdProgress.adsWatched>=n.vipAdProgress.totalAdsRequired;n.balance+=o,n.totalEarned+=o,l&&(n.lastVipReward=new Date().toISOString()),this.saveUsers(r);const c=this.getCurrentUser();return c&&c.id===e&&this.setCurrentUser(n),{reward:o,isComplete:l,progress:n.vipAdProgress.adsWatched}}getAllUsers(){const e=this.getUsers();let r=!1;return e.forEach(i=>{(!i.referralCode||i.referralCode.trim()==="")&&(i.referralCode=this.generateReferralCode(),r=!0)}),r&&this.saveUsers(e),e}resetUserAccount(e){const r=this.getUsers(),i=r.findIndex(a=>a.username===e);if(i===-1)throw new Error(`User with username '${e}' not found`);r[i]={...r[i],balance:0,totalEarned:0,referralEarnings:0,referralCount:0,referralHistory:[],currentStreak:0,totalAdsWatched:0,vipTier:void 0,vipStartDate:void 0,lastVipReward:void 0,id:r[i].id,username:r[i].username,email:r[i].email,password:r[i].password,joinDate:r[i].joinDate,referralCode:r[i].referralCode,referredBy:r[i].referredBy,isSubscribed:!1,subscriptionType:void 0,subscriptionStartDate:void 0,subscriptionEndDate:void 0,subscriptionStatus:void 0,subscriptionHistory:[],isEmailVerified:!0,activityLog:[]},this.saveUsers(r);const n=this.getCurrentUser();n&&n.username===e&&this.setCurrentUser(r[i])}resetEarningsAndStats(){const e=this.getUsers();let r=!1;if(e.forEach(i=>{i.totalEarned=i.balance,i.totalAdsWatched=0,i.currentStreak=0,r=!0}),r){this.saveUsers(e);const i=this.getCurrentUser();if(i){const n=e.find(a=>a.id===i.id);n&&this.setCurrentUser(n)}}}addBalanceToUser(e,r){const i=this.getUsers(),n=i.findIndex(o=>o.username===e);if(n===-1)throw new Error(`User with username '${e}' not found`);i[n].balance+=r,i[n].totalEarned+=r,this.saveUsers(i);const a=this.getCurrentUser();a&&a.username===e&&this.setCurrentUser(i[n])}addSubscription(e,r){const i=this.getUsers(),n=i.findIndex(h=>h.id===e);if(n===-1)throw new Error("User not found");const a=i[n];if(r.paymentMethod==="wallet_balance"){if(a.balance<r.amount)throw new Error("Insufficient balance for subscription");a.balance-=r.amount}const o=new Date().toISOString(),l=new Date(Date.now()+r.duration*24*60*60*1e3).toISOString(),c={id:`sub_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:r.type,startDate:o,endDate:l,status:"active",amount:r.amount,paymentMethod:r.paymentMethod,transactionId:r.transactionId,notes:r.notes};a.isSubscribed=!0,a.subscriptionType=r.type,a.subscriptionStartDate=o,a.subscriptionEndDate=l,a.subscriptionStatus="active",a.subscriptionHistory||(a.subscriptionHistory=[]),a.subscriptionHistory.push(c),r.type==="vip"&&(a.vipTier=r.vipTierId||1,a.vipStartDate=o),i[n]=a,this.saveUsers(i);const d=this.getCurrentUser();return d&&d.id===e&&this.setCurrentUser(a),a.activityLog||(a.activityLog=[]),a.activityLog.unshift({type:"vip",message:`Purchased VIP (${r.type})`,amount:r.amount,date:new Date().toISOString(),extra:{duration:r.duration,paymentMethod:r.paymentMethod}}),this.saveUsers(i),a}cancelSubscription(e,r){const i=this.getUsers(),n=i.findIndex(c=>c.id===e);if(n===-1)throw new Error("User not found");const a=i[n];if(!this.hasActiveSubscription(e))throw new Error("User has no active subscription to cancel");if(a.subscriptionStatus="cancelled",a.isSubscribed=!1,a.subscriptionType==="vip"&&(a.vipTier=void 0,a.vipStartDate=void 0,a.lastVipReward=void 0,a.vipAdProgress=void 0),a.subscriptionHistory&&a.subscriptionHistory.length>0){const c=new Date;let d=0;if(a.subscriptionHistory.forEach(h=>{const u=new Date(h.endDate);h.status==="active"&&u>c&&(h.status="cancelled",r&&(h.notes=(h.notes||"")+` | Cancelled: ${r}`),d++)}),d===0&&a.subscriptionHistory.length>0){const h=a.subscriptionHistory[a.subscriptionHistory.length-1];h.status="cancelled",r&&(h.notes=(h.notes||"")+` | Cancelled: ${r}`)}}i[n]=a,this.saveUsers(i),this.clearCache();const l=this.getCurrentUser();return l&&l.id===e&&this.setCurrentUser(a),a}renewSubscription(e,r){return this.cancelSubscription(e,"Renewed"),this.addSubscription(e,r)}hasActiveSubscription(e){const r=this.getUserById(e);if(!r)return!1;if(r.isSubscribed&&r.subscriptionEndDate){const i=new Date;if(new Date(r.subscriptionEndDate)>i&&r.subscriptionStatus==="active")return!0}if(r.subscriptionHistory&&r.subscriptionHistory.length>0){const i=new Date;if(r.subscriptionHistory.find(a=>{const o=new Date(a.endDate);return a.status==="active"&&o>i}))return!0}return!1}getActiveSubscriptionInfo(e){const r=this.getUserById(e);if(!r||!r.isSubscribed||!r.subscriptionEndDate)return null;const i=new Date,n=new Date(r.subscriptionEndDate);if(n<=i||r.subscriptionStatus!=="active")return null;const a=Math.ceil((n.getTime()-i.getTime())/(1e3*60*60*24));return{type:r.subscriptionType||"unknown",endDate:r.subscriptionEndDate,daysRemaining:a,tierName:r.vipTier?`VIP ${r.vipTier}`:void 0}}getSubscriptionStats(){const r=this.getUsers().filter(a=>a.subscriptionHistory&&a.subscriptionHistory.length>0),i={totalSubscribers:r.length,activeSubscriptions:0,expiredSubscriptions:0,cancelledSubscriptions:0,revenueByType:{basic:0,premium:0,vip:0},recentSubscriptions:[]},n=new Date;return r.forEach(a=>{a.subscriptionHistory&&a.subscriptionHistory.forEach(o=>{o.status==="active"?new Date(o.endDate)>n?i.activeSubscriptions++:i.expiredSubscriptions++:o.status==="cancelled"&&i.cancelledSubscriptions++,i.revenueByType[o.type]+=o.amount;const l=new Date(o.startDate),c=new Date(n.getTime()-720*60*60*1e3);l>=c&&i.recentSubscriptions.push(o)})}),i.recentSubscriptions.sort((a,o)=>new Date(o.startDate).getTime()-new Date(a.startDate).getTime()),i}getSubscriptionsByDateRange(e,r){const i=this.getUsers(),n=[];return i.forEach(a=>{a.subscriptionHistory&&a.subscriptionHistory.forEach(o=>{const l=new Date(o.startDate);l>=e&&l<=r&&n.push({...o,username:a.username,email:a.email})})}),n.sort((a,o)=>new Date(o.startDate).getTime()-new Date(a.startDate).getTime())}checkExpiredSubscriptions(){const e=this.getUsers(),r=new Date;let i=!1;e.forEach((n,a)=>{if(n.isSubscribed&&n.subscriptionEndDate&&new Date(n.subscriptionEndDate)<r&&n.subscriptionStatus==="active"){if(e[a].subscriptionStatus="expired",e[a].isSubscribed=!1,e[a].subscriptionHistory&&e[a].subscriptionHistory.length>0){const l=e[a].subscriptionHistory[e[a].subscriptionHistory.length-1];l.status="expired"}i=!0}e[a].subscriptionHistory&&e[a].subscriptionHistory.length>0&&e[a].subscriptionHistory.forEach(o=>{new Date(o.endDate)<r&&o.status==="active"&&(o.status="expired",i=!0)})}),i&&(this.saveUsers(e),this.clearCache())}markEmailVerified(e){const r=this.getUsers(),i=r.findIndex(n=>n.id===e);if(i!==-1){r[i].isEmailVerified=!0,this.saveUsers(r);const n=this.getCurrentUser();n&&n.id===e&&this.setCurrentUser(r[i])}}setWithdrawPasscode(e,r){const i=this.getUsers(),n=i.findIndex(a=>a.id===e);if(n!==-1){i[n].withdrawPasscode=r,this.saveUsers(i);const a=this.getCurrentUser();a&&a.id===e&&this.setCurrentUser(i[n])}}checkWithdrawPasscode(e,r){return this.getUsers().find(n=>n.id===e)?.withdrawPasscode===r}resetAllBalances(){const e=this.getUsers();e.forEach(r=>{r.balance=0,r.totalEarned=0}),this.saveUsers(e),this.clearCache()}syncUserData(e){const i=this.getUsers().find(n=>n.id===e);if(i){const n=this.getCurrentUser();n&&n.id===e&&(this.setCurrentUser(i),console.log("syncUserData: Updated current user with latest data:",i.username,"balance:",i.balance))}}validateCurrentUser(){const e=this.getCurrentUser();if(!e)return console.log("validateCurrentUser: No current user found"),!1;const i=this.getUsers().find(a=>a.id===e.id);return i?e.balance===i.balance&&e.totalEarned===i.totalEarned&&e.vipTier===i.vipTier?(console.log("validateCurrentUser: Current user data is valid and consistent"),!0):(console.log("validateCurrentUser: Data inconsistent, updating current user"),this.setCurrentUser(i),!1):(console.log("validateCurrentUser: Current user not found in users array, clearing"),this.setCurrentUser(null),!1)}getUserNotifications(e){try{const r=localStorage.getItem(this.NOTIFICATIONS_KEY);return r?JSON.parse(r).filter(n=>n.userId===e):[]}catch(r){return console.error("Error reading notifications from localStorage:",r),[]}}addNotification(e,r){try{const i=localStorage.getItem(this.NOTIFICATIONS_KEY),n=i?JSON.parse(i):[],a={...r,id:`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e,timestamp:new Date().toISOString(),read:!1};n.push(a),localStorage.setItem(this.NOTIFICATIONS_KEY,JSON.stringify(n))}catch(i){console.error("Error adding notification to localStorage:",i)}}markNotificationAsRead(e){try{const r=localStorage.getItem(this.NOTIFICATIONS_KEY);if(!r)return;const n=JSON.parse(r).map(a=>a.id===e?{...a,read:!0}:a);localStorage.setItem(this.NOTIFICATIONS_KEY,JSON.stringify(n))}catch(r){console.error("Error marking notification as read:",r)}}markAllNotificationsAsRead(e){try{const r=localStorage.getItem(this.NOTIFICATIONS_KEY);if(!r)return;const n=JSON.parse(r).map(a=>a.userId===e?{...a,read:!0}:a);localStorage.setItem(this.NOTIFICATIONS_KEY,JSON.stringify(n))}catch(r){console.error("Error marking all notifications as read:",r)}}addWithdrawalApprovalNotification(e,r,i){const n=i?`Your withdrawal request for ${r} USDT has been approved and completed. Transaction hash: ${i}`:`Your withdrawal request for ${r} USDT has been approved and is being processed.`;this.addNotification(e,{type:"withdrawal",title:"Withdrawal Approved! ðŸ’°",message:n});const a=this.getUsers(),o=a.findIndex(l=>l.id===e);if(o!==-1){const l=a[o];l.activityLog||(l.activityLog=[]),l.activityLog.unshift({type:"withdrawal",message:"Withdrawal approved",amount:r,date:new Date().toISOString(),extra:{transactionHash:i}}),a[o]=l,this.saveUsers(a)}}addWithdrawalRejectionNotification(e,r,i){const n=i?`Your withdrawal request for ${r} USDT has been rejected. Reason: ${i}`:`Your withdrawal request for ${r} USDT has been rejected.`;this.addNotification(e,{type:"warning",title:"Withdrawal Rejected",message:n})}createTestBallenUser(){console.warn("createTestBallenUser is disabled - demo accounts not allowed in production")}ensureBallenUser(){console.warn("ensureBallenUser is disabled - demo accounts not allowed in production")}getSessions(){try{const e=localStorage.getItem(this.SESSIONS_KEY);console.log("ðŸ”§ Reading sessions from localStorage key:",this.SESSIONS_KEY),console.log("ðŸ”§ Raw sessions data:",e);const r=e?JSON.parse(e):[];return console.log("ðŸ”§ Parsed sessions:",r),r}catch(e){return console.error("Error reading sessions from localStorage:",e),[]}}saveSessions(e){try{localStorage.setItem(this.SESSIONS_KEY,JSON.stringify(e))}catch(r){console.error("Error saving sessions to localStorage:",r)}}createSession(e){console.log("ðŸ”§ Creating session for user:",e),console.log("ðŸ”§ User Agent:",navigator.userAgent);const r=this.getSessions();console.log("ðŸ”§ Existing sessions:",r.length),this.removeDuplicateSessions(e);const i=this.getSessions(),n=this.createDeviceFingerprint();console.log("ðŸ”§ Device fingerprint:",n);const a=i.find(u=>u.userId===e&&this.createDeviceFingerprintFromSession(u)===n);if(a)return console.log("ðŸ”§ Found existing session with same device fingerprint:",a.id),a.lastActive=new Date().toISOString(),a.isCurrentSession=!0,i.forEach(u=>{u.userId===e&&u.id!==a.id&&(u.isCurrentSession=!1)}),this.saveSessions(i),a;const o=i.find(u=>u.userId===e&&u.isCurrentSession&&u.userAgent===navigator.userAgent);if(o)return console.log("ðŸ”§ Updating existing current session:",o.id),o.lastActive=new Date().toISOString(),this.saveSessions(i),o;i.forEach(u=>{u.userId===e&&(u.isCurrentSession=!1)});const l=navigator.userAgent,c=this.detectDeviceInfo(l);console.log("ðŸ”§ Device info detected:",c);const d=this.getIPInfo();console.log("ðŸ”§ IP info:",d);const h={id:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e,deviceName:c.deviceName,deviceType:c.deviceType,browser:c.browser,os:c.os,ipAddress:d.ip,location:d.location,lastActive:new Date().toISOString(),isCurrentSession:!0,userAgent:l,loginTime:new Date().toISOString()};return console.log("ðŸ”§ New session created:",h),i.push(h),this.saveSessions(i),console.log("ðŸ”§ Total sessions after creation:",i.length),this.updateSessionWithIP(h.id),h}createDeviceFingerprint(){const e=navigator.userAgent,r=`${screen.width}x${screen.height}`,i=screen.colorDepth,n=Intl.DateTimeFormat().resolvedOptions().timeZone,a=navigator.language,o=`${e}|${r}|${i}|${n}|${a}`;return btoa(o).slice(0,32)}createDeviceFingerprintFromSession(e){const r=e.userAgent,i=`${screen.width}x${screen.height}`,n=screen.colorDepth,a=Intl.DateTimeFormat().resolvedOptions().timeZone,o=navigator.language,l=`${r}|${i}|${n}|${a}|${o}`;return btoa(l).slice(0,32)}getUserSessions(e){const r=this.getSessions(),i=r.filter(n=>n.userId===e);if(console.log("ðŸ”§ Getting sessions for user:",e),console.log("ðŸ”§ Found sessions:",i.length),i.length>1){console.log("ðŸ”§ Auto-cleaning duplicates for user:",e),this.removeDuplicateSessions(e);const a=this.getSessions().filter(o=>o.userId===e);return console.log("ðŸ”§ After auto-cleanup - user sessions:",a.length),a}return console.log("ðŸ”§ All sessions in storage:",r),i}updateSessionActivity(e){const r=this.getSessions(),i=r.findIndex(n=>n.id===e);if(i!==-1){r[i].lastActive=new Date().toISOString(),this.saveSessions(r);const n=r[i].userId;r.filter(o=>o.userId===n).length>1&&(console.log("ðŸ”§ Auto-cleaning duplicates during activity update for user:",n),this.removeDuplicateSessions(n))}}terminateSession(e){const i=this.getSessions().filter(n=>n.id!==e);this.saveSessions(i)}terminateAllOtherSessions(e){const i=this.getSessions().find(a=>a.userId===e&&a.isCurrentSession),n=i?[i]:[];this.saveSessions(n)}terminateAllSessions(e){const i=this.getSessions().filter(n=>n.userId!==e);this.saveSessions(i)}cleanupOldSessions(){const e=this.getSessions(),r=new Date;r.setDate(r.getDate()-30);const i=e.filter(n=>new Date(n.lastActive)>r);i.length!==e.length&&this.saveSessions(i)}removeDuplicateSessions(e){const r=this.getSessions(),i=r.filter(d=>d.userId===e);if(i.length<=1)return;console.log("ðŸ”§ Removing duplicate sessions for user:",e),console.log("ðŸ”§ Before cleanup - user sessions:",i.length);const n=new Map;i.forEach(d=>{const h=this.createDeviceFingerprintFromSession(d);n.has(h)||n.set(h,[]),n.get(h).push(d)});const a=[];let o=0;n.forEach((d,h)=>{d.length>1?(d.sort((u,m)=>new Date(m.lastActive).getTime()-new Date(u.lastActive).getTime()),a.push(d[0]),o+=d.length-1,console.log("ðŸ”§ Removed",d.length-1,"duplicate sessions for device fingerprint:",h.slice(0,8)+"...")):a.push(d[0])});const c=[...r.filter(d=>d.userId!==e),...a];this.saveSessions(c),console.log("ðŸ”§ After cleanup - user sessions:",a.length),console.log("ðŸ”§ Total duplicates removed:",o)}cleanupAllDuplicateSessions(){console.log("ðŸ”§ Starting cleanup of all duplicate sessions...");const e=this.getSessions();if(e.length===0){console.log("ðŸ”§ No sessions to clean up");return}const r=[...new Set(e.map(n=>n.userId))];console.log("ðŸ”§ Found",r.length,"users with sessions");let i=0;r.forEach(n=>{const o=e.filter(h=>h.userId===n).length;this.removeDuplicateSessions(n);const c=this.getSessions().filter(h=>h.userId===n).length,d=o-c;d>0&&(i+=d,console.log("ðŸ”§ User",n,": removed",d,"duplicate sessions"))}),console.log("ðŸ”§ Total duplicate sessions removed:",i)}getCurrentSession(e){return this.getSessions().find(i=>i.userId===e&&i.isCurrentSession)||null}detectDeviceInfo(e){const r=e.toLowerCase();let i="desktop",n="Desktop Computer";const a=r.includes("mobile")||r.includes("android")||r.includes("iphone")||r.includes("ipod")||r.includes("blackberry")||r.includes("windows phone")||/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(r),o=r.includes("tablet")||r.includes("ipad")&&!r.includes("mobile")||r.includes("playbook")||r.includes("kindle");a&&!o?(i="mobile",n="Mobile Device"):o&&(i="tablet",n="Tablet Device");let l="Unknown Browser";r.includes("chrome")?l=r.includes("mobile")?"Chrome Mobile":"Chrome":r.includes("firefox")?l=r.includes("mobile")?"Firefox Mobile":"Firefox":r.includes("safari")&&!r.includes("chrome")?l=r.includes("mobile")?"Safari Mobile":"Safari":r.includes("edge")?l=r.includes("mobile")?"Edge Mobile":"Edge":r.includes("opera")?l=r.includes("mobile")?"Opera Mobile":"Opera":r.includes("samsung")&&(l="Samsung Internet");let c="Unknown OS";return r.includes("windows")?c=r.includes("phone")?"Windows Phone":"Windows":r.includes("mac os")?c=r.includes("iphone")||r.includes("ipad")?"iOS":"macOS":r.includes("linux")?c="Linux":r.includes("android")?c="Android":r.includes("ios")||r.includes("iphone")||r.includes("ipad")?c="iOS":r.includes("blackberry")&&(c="BlackBerry OS"),r.includes("iphone")?(n="iPhone",i="mobile"):r.includes("ipad")?(n="iPad",i="tablet"):r.includes("android")?r.includes("samsung")?n="Samsung Device":r.includes("huawei")?n="Huawei Device":r.includes("xiaomi")?n="Xiaomi Device":r.includes("oneplus")?n="OnePlus Device":r.includes("google")?n="Google Device":n="Android Device":r.includes("blackberry")&&(n="BlackBerry",i="mobile"),{deviceName:n,deviceType:i,browser:l,os:c}}getIPInfo(){const e=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("192.168."),r=window.location.hostname,i=window.location.port;return e?{ip:`${r}:${i} (Local)`,location:"Local Development"}:{ip:"Detecting...",location:"Unknown"}}async updateSessionWithIP(e){console.log("ðŸ”§ Updating session with timezone-based location:",e);try{const r=Intl.DateTimeFormat().resolvedOptions().timeZone;console.log("ðŸ”§ Detected timezone:",r);const n={"Asia/Baghdad":"Baghdad, Iraq","America/New_York":"New York, United States","America/Los_Angeles":"Los Angeles, United States","Europe/London":"London, United Kingdom","Europe/Berlin":"Berlin, Germany","Europe/Paris":"Paris, France","Asia/Tokyo":"Tokyo, Japan","Asia/Dubai":"Dubai, United Arab Emirates"}[r]||"Unknown Location";console.log("ðŸ”§ Timezone-based location:",n);const a=this.getSessions(),o=a.findIndex(l=>l.id===e);o!==-1&&(a[o].ipAddress="Private Network",a[o].location=n,console.log("ðŸ”§ Updated session with timezone-based location:",a[o].location),this.saveSessions(a))}catch(r){console.log("ðŸ”§ IP geolocation services disabled (rate limiting), using timezone fallback...",r);try{const i=Intl.DateTimeFormat().resolvedOptions().timeZone,n={"Asia/Baghdad":"Baghdad, Iraq","America/New_York":"New York, United States","America/Los_Angeles":"Los Angeles, United States","Europe/London":"London, United Kingdom","Europe/Berlin":"Berlin, Germany","Asia/Tokyo":"Tokyo, Japan"},a=this.getSessions(),o=a.findIndex(l=>l.id===e);o!==-1&&(a[o].ipAddress="Private Network",a[o].location=n[i]||"Unknown Location",console.log("ðŸ”§ Updated session with timezone-based location:",a[o].location),this.saveSessions(a))}catch(i){console.log("ðŸ”§ Timezone detection failed, using default...",i);try{const n=await this.getLocalNetworkIP(),a=this.getSessions(),o=a.findIndex(l=>l.id===e);o!==-1&&(a[o].ipAddress=n||"Local Network",a[o].location="Local Network",console.log("ðŸ”§ Updated session with local network:",n),this.saveSessions(a))}catch(n){console.log("ðŸ”§ All location methods failed, using fallback...",n);const a=this.getSessions(),o=a.findIndex(l=>l.id===e);o!==-1&&(a[o].ipAddress="Unknown IP",a[o].location="Location unavailable",console.log("ðŸ”§ Updated session with fallback values"),this.saveSessions(a))}}}}async updateAllSessionsWithLocation(){console.log("ðŸ”§ Updating all existing sessions with location data...");const r=this.getSessions().filter(i=>i.location==="Detected via API"||i.location==="Unknown"||!i.location);console.log("ðŸ”§ Found sessions to update:",r.length);for(const i of r)await this.updateSessionWithIP(i.id),await new Promise(n=>setTimeout(n,100))}async getLocalNetworkIP(){try{const e=new RTCPeerConnection({iceServers:[]});e.createDataChannel("");const r=await e.createOffer();return await e.setLocalDescription(r),new Promise(i=>{e.onicecandidate=n=>{if(n.candidate){const a=n.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3})/);if(a){const o=a[1];if(o.startsWith("192.168.")||o.startsWith("10.")||o.startsWith("172.")){i(o);return}}}i(null)},setTimeout(()=>i(null),1e3)})}catch{return null}}formatRelativeTime(e){const r=new Date,i=new Date(e),n=Math.floor((r.getTime()-i.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:n<2592e3?`${Math.floor(n/86400)}d ago`:i.toLocaleDateString()}testSessionFunctionality(){console.log("ðŸ§ª Testing session functionality...");const e="test-user-123";this.terminateAllSessions(e),["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPad; CPU OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; SM-G991B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.120 Mobile Safari/537.36"].forEach((a,o)=>{const l=this.createTestSession(e,a,`Test Device ${o+1}`);console.log(`ðŸ§ª Created test session ${o+1}:`,l)});const i=this.getUserSessions(e);console.log("ðŸ§ª All sessions for test user:",i);const n=i.filter(a=>a.isCurrentSession);console.log("ðŸ§ª Current sessions count:",n.length),n.length!==1?console.error("âŒ ERROR: Multiple current sessions found!"):console.log("âœ… SUCCESS: Only one current session as expected"),this.terminateAllSessions(e),console.log("ðŸ§ª Test sessions cleaned up")}createTestSession(e,r,i){const n=this.getSessions();n.forEach(l=>{l.userId===e&&(l.isCurrentSession=!1)});const a=this.detectDeviceInfo(r),o={id:`test_session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e,deviceName:i,deviceType:a.deviceType,browser:a.browser,os:a.os,ipAddress:"Test IP",location:"Test Location",lastActive:new Date().toISOString(),isCurrentSession:!0,userAgent:r,loginTime:new Date().toISOString()};return n.push(o),this.saveSessions(n),o}getSessionStats(){const e=this.getSessions(),r=new Date,i=new Date(r.getTime()-300*1e3),n=e.filter(c=>new Date(c.lastActive)>i),a={},o={},l={};return e.forEach(c=>{a[c.deviceType]=(a[c.deviceType]||0)+1,o[c.browser]=(o[c.browser]||0)+1,l[c.os]=(l[c.os]||0)+1}),{totalSessions:e.length,activeSessions:n.length,sessionsByDeviceType:a,sessionsByBrowser:o,sessionsByOS:l}}}const V=new vl,jl=({currentPage:s,onNavigate:e,onLogout:r,user:i})=>{const[n,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[h,u]=b.useState([]),m=b.useRef(null),x=b.useRef(null),[p,f]=b.useState(!1),y=[{id:"dashboard",label:"Dashboard",icon:Jo,shortLabel:"Home"},{id:"ads",label:"Ads",icon:Ot,shortLabel:"Ads"},{id:"withdraw",label:"Wallet",icon:ua,shortLabel:"Wallet"},...i?[]:[{id:"features",label:"Features",icon:Ke,shortLabel:"Features"}],{id:"profile",label:"Profile",icon:xs,shortLabel:"Profile"},{id:"settings",label:"Settings",icon:ii,shortLabel:"Settings"},{id:"vip",label:"VIP",icon:Le,shortLabel:"VIP"}];i.username==="mhamad"&&console.log("Admin user navItems:",y),b.useEffect(()=>{const S=()=>{const T=V.getUserNotifications(i.id);u(T)};S();const U=setInterval(S,5e3);return()=>clearInterval(U)},[i.id]),b.useEffect(()=>{const S=U=>{m.current&&!m.current.contains(U.target)&&a(!1),x.current&&!x.current.contains(U.target)&&l(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const w=h.filter(S=>!S.read).length,A=S=>{V.markNotificationAsRead(S);const U=V.getUserNotifications(i.id);u(U)},g=()=>{V.markAllNotificationsAsRead(i.id);const S=V.getUserNotifications(i.id);u(S)},j=S=>{switch(S){case"success":return t.jsx(me,{className:"w-5 h-5 text-green-400"});case"warning":return t.jsx(gt,{className:"w-5 h-5 text-yellow-400"});case"info":return t.jsx(Pr,{className:"w-5 h-5 text-blue-400"});case"reward":return t.jsx(Ke,{className:"w-5 h-5 text-purple-400"});default:return t.jsx(dt,{className:"w-5 h-5 text-white/60"})}},C=S=>{switch(S){case"success":return"border-green-500/30 bg-green-500/10";case"warning":return"border-yellow-500/30 bg-yellow-500/10";case"info":return"border-blue-500/30 bg-blue-500/10";case"reward":return"border-purple-500/30 bg-purple-500/10";default:return"border-white/20 bg-white/5"}},k=S=>{const U=new Date(S),L=Math.floor((new Date().getTime()-U.getTime())/(1e3*60));return L<1?"Just now":L<60?`${L}m ago`:L<1440?`${Math.floor(L/60)}h ago`:`${Math.floor(L/1440)}d ago`};if(s==="admin")return null;const[P,I]=b.useState(window.innerWidth<=768);b.useEffect(()=>{const S=()=>I(window.innerWidth<=768);return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const O=[{id:"settings",label:"Settings",icon:ii},{id:"vip",label:"VIP",icon:Le}];return t.jsxs(t.Fragment,{children:[t.jsx("header",{className:"hidden md:block fixed top-0 left-0 right-0 z-50 w-full max-w-full px-3 sm:px-4 bg-transparent mt-6",style:{background:"transparent"},children:t.jsx("div",{className:"max-w-full sm:max-w-7xl mx-auto px-0 sm:px-4 bg-transparent",style:{background:"transparent"},children:t.jsxs("div",{className:"flex items-center justify-between h-16 min-w-0 w-full px-4",style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"16px",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.2)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.20)"},children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shadow-lg",style:{background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #ea580c 100%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:t.jsx(ni,{className:"w-6 h-6 text-white drop-shadow-sm"})}),t.jsx("span",{className:"text-white font-bold text-lg text-responsive",children:"Ad money"})]}),t.jsx("nav",{className:"hidden xl:flex flex-1 justify-center items-center",children:t.jsx("div",{className:"flex space-x-2",children:y.map(({id:S,label:U,icon:T})=>t.jsxs("button",{onClick:()=>e(S),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 font-bold text-base whitespace-nowrap min-w-[44px] min-h-[44px] text-responsive ${s===S?"text-yellow-400 bg-white/10":"text-white/90 hover:text-yellow-300 hover:bg-white/5"}`,children:[t.jsx(T,{className:"w-5 h-5"}),t.jsx("span",{children:U})]},S))})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"hidden xl:block text-yellow-400 font-semibold text-base px-2",children:["$",i.balance.toFixed(2)," ",t.jsx("span",{className:"text-white/70 font-normal",children:"USDT"})]}),t.jsxs("div",{className:"relative",ref:m,children:[t.jsxs("button",{onClick:()=>{console.log("Bell clicked"),a(!n)},className:"relative flex items-center justify-center w-10 h-10 rounded-lg transition-all duration-200 hover:bg-white/20",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:[t.jsx(dt,{className:"w-5 h-5 text-white"}),w>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:w>9?"9+":w})]}),n&&t.jsx("div",{className:"absolute right-0 mt-2 w-80 rounded-xl z-[9999] overflow-hidden",style:{background:"linear-gradient(135deg, rgba(88, 28, 135, 0.95) 0%, rgba(147, 51, 234, 0.9) 100%)",backdropFilter:"blur(50px)",WebkitBackdropFilter:"blur(50px)",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:t.jsxs("div",{className:"p-4 border-b border-white/20",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-white font-bold text-lg",children:"Notifications"}),w>0&&t.jsx("button",{onClick:g,className:"text-yellow-400 text-sm hover:text-yellow-300 transition-colors",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-64 overflow-y-auto",children:h.length===0?t.jsxs("div",{className:"p-6 text-center",children:[t.jsx(dt,{className:"w-8 h-8 text-white/40 mx-auto mb-2"}),t.jsx("p",{className:"text-white/60 text-sm",children:"No notifications yet"})]}):t.jsxs("div",{className:"p-2",children:[h.map(S=>t.jsx("div",{className:`p-3 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-white/5 ${S.read?"opacity-60":""} ${C(S.type)}`,onClick:()=>A(S.id),children:t.jsxs("div",{className:"flex items-start space-x-3",children:[j(S.type),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("h4",{className:"text-white font-medium text-sm",children:S.title}),!S.read&&t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full ml-2 flex-shrink-0"})]}),t.jsx("p",{className:"text-white/70 text-xs mt-1 line-clamp-2",children:S.message}),t.jsx("p",{className:"text-white/50 text-xs mt-2",children:k(S.timestamp)})]})]})},S.id)),h.length>3&&t.jsx("div",{className:"p-4 text-center",children:t.jsxs("p",{className:"text-white/60 text-sm",children:["Scroll to see all ",h.length," notifications"]})})]})})]})})]}),t.jsx("button",{onClick:()=>f(!0),className:"flex items-center justify-center w-10 h-10 rounded-lg transition-all duration-200 hover:bg-red-500/20",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",backdropFilter:"blur(10px)"},"aria-label":"Logout",children:t.jsx(Ct,{className:"w-5 h-5 text-red-400"})}),t.jsxs("div",{className:"xl:hidden relative",ref:x,children:[t.jsx("button",{onClick:()=>d(!c),className:"flex items-center justify-center w-10 h-10 rounded-lg transition-all duration-200 hover:bg-white/20",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:t.jsx(ai,{className:"w-5 h-5 text-white"})}),c&&t.jsx("div",{className:"absolute right-0 mt-2 w-64 rounded-xl z-50 overflow-hidden",style:{background:"linear-gradient(135deg, rgba(88, 28, 135, 0.95) 0%, rgba(147, 51, 234, 0.9) 100%)",backdropFilter:"blur(50px)",WebkitBackdropFilter:"blur(50px)",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:t.jsxs("div",{className:"p-2 space-y-1",children:[y.map(({id:S,label:U,icon:T})=>t.jsxs("button",{onClick:()=>{e(S),d(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-300 font-medium text-sm ${s===S?"text-yellow-400":"text-white/90 hover:text-white"}`,style:{background:s===S?"linear-gradient(135deg, rgba(255, 193, 7, 0.4) 0%, rgba(255, 152, 0, 0.3) 100%)":"rgba(88, 28, 135, 0.8)",border:s===S?"1px solid rgba(255, 193, 7, 0.6)":"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(20px)"},onMouseEnter:L=>{s!==S&&(L.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.03) 100%)",L.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.15)")},onMouseLeave:L=>{s!==S&&(L.currentTarget.style.background="rgba(88, 28, 135, 0.8)",L.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)")},children:[t.jsx("div",{className:`w-8 h-8 rounded-md flex items-center justify-center transition-all duration-300 ${s===S?"bg-yellow-400/15":"bg-white/08"}`,style:{backdropFilter:"blur(10px)"},children:t.jsx(T,{className:`w-4 h-4 ${s===S?"text-yellow-400":"text-white/80"}`})}),t.jsx("span",{className:"font-medium",children:U})]},S)),t.jsx("div",{className:"pt-2 border-t border-white/15",children:t.jsxs("button",{onClick:()=>{d(!1),f(!0)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-300 font-medium text-sm text-red-200",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.4) 0%, rgba(220, 38, 38, 0.3) 100%)",border:"1px solid rgba(239, 68, 68, 0.5)",backdropFilter:"blur(20px)"},onMouseEnter:S=>{S.currentTarget.style.background="linear-gradient(135deg, rgba(239, 68, 68, 0.25) 0%, rgba(220, 38, 38, 0.15) 100%)",S.currentTarget.style.border="1px solid rgba(239, 68, 68, 0.3)"},onMouseLeave:S=>{S.currentTarget.style.background="linear-gradient(135deg, rgba(239, 68, 68, 0.4) 0%, rgba(220, 38, 38, 0.3) 100%)",S.currentTarget.style.border="1px solid rgba(239, 68, 68, 0.5)"},children:[t.jsx("div",{className:"w-8 h-8 rounded-md flex items-center justify-center bg-red-500/15",style:{backdropFilter:"blur(10px)"},children:t.jsx(Ct,{className:"w-4 h-4 text-red-300"})}),t.jsx("span",{className:"font-medium",children:"Logout"})]})})]})})]}),t.jsxs("button",{onClick:()=>f(!0),className:"hidden xl:flex items-center justify-center gap-2 px-5 py-2 rounded-xl bg-red-500/80 text-white font-bold text-lg shadow hover:bg-red-600 transition-colors border border-red-500/30",style:{minWidth:"120px"},children:[t.jsx(Ct,{className:"w-5 h-5"}),t.jsx("span",{children:"Logout"})]})]})]})})}),t.jsxs("div",{className:"md:hidden fixed left-4 right-4 bottom-4 z-50 rounded-2xl",children:[t.jsxs("div",{className:"flex items-center justify-around px-2 py-2 rounded-2xl bg-white/10 border border-white/20 shadow-2xl backdrop-blur-lg",style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.18)",WebkitBackdropFilter:"blur(16px)",backdropFilter:"blur(16px)"},children:[y.slice(0,4).map(({id:S,icon:U,shortLabel:T})=>t.jsxs("button",{onClick:()=>e(S),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${s===S?"text-yellow-400":"text-white/80 hover:text-white"}`,style:{background:s===S?"linear-gradient(135deg, rgba(255, 193, 7, 0.3) 0%, rgba(255, 152, 0, 0.2) 100%)":"transparent",border:s===S?"1px solid rgba(255, 193, 7, 0.5)":"1px solid transparent"},children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mb-1 transition-all duration-300 ${s===S?"bg-yellow-400/20":"bg-white/10"}`,style:{backdropFilter:"blur(10px)"},children:t.jsx(U,{className:`w-4 h-4 ${s===S?"text-yellow-400":"text-white/80"}`})}),t.jsx("span",{className:"text-xs font-medium",children:T})]},S)),t.jsxs("button",{onClick:()=>l(!o),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-300 ${o?"text-yellow-400":"text-white/80 hover:text-white"}`,style:{background:o?"linear-gradient(135deg, rgba(255, 193, 7, 0.3) 0%, rgba(255, 152, 0, 0.2) 100%)":"transparent",border:o?"1px solid rgba(255, 193, 7, 0.5)":"1px solid transparent"},children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mb-1 transition-all duration-300 ${o?"bg-yellow-400/20":"bg-white/10"}`,style:{backdropFilter:"blur(10px)"},children:t.jsx(ai,{className:`w-4 h-4 ${o?"text-yellow-400":"text-white/80"}`})}),t.jsx("span",{className:"text-xs font-medium",children:"More"})]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-[99999] bg-black/50 backdrop-blur-sm flex items-center justify-center pointer-events-auto",children:t.jsxs("div",{className:"absolute left-4 right-4 rounded-2xl overflow-hidden max-w-sm mx-auto z-[99999] pointer-events-auto",style:{background:"linear-gradient(135deg, rgba(88, 28, 135, 0.98) 0%, rgba(147, 51, 234, 0.95) 100%)",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.1)",pointerEvents:"auto"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20",children:[t.jsx("h3",{className:"text-white font-bold text-lg",children:"Menu"}),t.jsx("button",{onClick:()=>l(!1),className:"w-8 h-8 rounded-lg flex items-center justify-center bg-white/10",style:{backdropFilter:"blur(10px)"},children:t.jsx(Ee,{className:"w-4 h-4 text-white"})})]}),t.jsx("div",{className:"p-2 space-y-1 max-h-64 overflow-y-auto",children:O.map(({id:S,label:U,icon:T})=>t.jsxs("button",{onClick:()=>{console.log("Mobile menu navigation clicked:",S),e(S),l(!1)},className:`w-full flex items-center space-x-3 px-4 py-4 rounded-lg transition-all duration-300 font-medium text-sm min-h-[56px] ${s===S?"text-yellow-400":"text-white/90 hover:text-white active:bg-white/20"}`,style:{background:s===S?"linear-gradient(135deg, rgba(255, 193, 7, 0.4) 0%, rgba(255, 152, 0, 0.3) 100%)":"rgba(88, 28, 135, 0.8)",border:s===S?"1px solid rgba(255, 193, 7, 0.6)":"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(20px)"},children:[t.jsx("div",{className:`w-8 h-8 rounded-md flex items-center justify-center transition-all duration-300 ${s===S?"bg-yellow-400/15":"bg-white/08"}`,style:{backdropFilter:"blur(10px)"},children:t.jsx(T,{className:`w-4 h-4 ${s===S?"text-yellow-400":"text-white/80"}`})}),t.jsx("span",{className:"font-medium",children:U}),t.jsx(Xo,{className:"w-4 h-4 text-white/40 ml-auto"})]},S))})]})})]}),t.jsx("div",{className:"mobile-top-bar fixed top-0 left-0 right-0 z-50 px-4 py-3 md:hidden",style:{visibility:"visible",opacity:"1",pointerEvents:"auto",height:"auto",minHeight:"auto",maxHeight:"80px",overflow:"hidden"},children:t.jsxs("div",{className:"flex items-center justify-between rounded-xl px-4 py-2",style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.20)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shadow-lg",style:{background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #ea580c 100%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:t.jsx(ni,{className:"w-4 h-4 text-white drop-shadow-sm"})}),t.jsx("span",{className:"text-white font-bold text-sm",children:"Ad money"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"text-yellow-400 font-semibold text-sm",children:["$",i.balance.toFixed(2)]}),t.jsxs("div",{className:"relative",ref:m,children:[t.jsxs("button",{onClick:()=>a(!n),className:"relative flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-200 hover:bg-white/20",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:[t.jsx(dt,{className:"w-4 h-4 text-white"}),w>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:w>9?"9+":w})]}),n&&Ko.createPortal(t.jsx("div",{className:"rounded-xl overflow-hidden z-[9999] "+(P?"fixed top-14 right-4 w-72":"absolute right-0 mt-2 w-72"),style:{background:"linear-gradient(135deg, rgba(88, 28, 135, 0.95) 0%, rgba(147, 51, 234, 0.9) 100%)",backdropFilter:"blur(50px)",WebkitBackdropFilter:"blur(50px)",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.1)",pointerEvents:"auto"},children:t.jsxs("div",{className:"p-3 border-b border-white/20",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-white font-bold text-base",children:"Notifications"}),w>0&&t.jsx("button",{onClick:g,className:"text-yellow-400 text-xs hover:text-yellow-300 transition-colors",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-48 overflow-y-auto",children:h.length===0?t.jsxs("div",{className:"p-4 text-center",children:[t.jsx(dt,{className:"w-6 h-6 text-white/40 mx-auto mb-2"}),t.jsx("p",{className:"text-white/60 text-xs",children:"No notifications yet"})]}):t.jsxs("div",{className:"p-2",children:[h.slice(0,3).map(S=>t.jsx("div",{className:`p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-white/5 ${S.read?"opacity-60":""} ${C(S.type)}`,onClick:()=>A(S.id),children:t.jsxs("div",{className:"flex items-start space-x-2",children:[j(S.type),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("h4",{className:"text-white font-medium text-xs",children:S.title}),!S.read&&t.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full ml-1 flex-shrink-0"})]}),t.jsx("p",{className:"text-white/70 text-xs mt-1 line-clamp-2",children:S.message}),t.jsx("p",{className:"text-white/50 text-xs mt-1",children:k(S.timestamp)})]})]})},S.id)),h.length>3&&t.jsx("div",{className:"p-2 text-center",children:t.jsxs("p",{className:"text-white/60 text-xs",children:["+",h.length-3," more notifications"]})})]})})]})}),document.body)]}),t.jsx("button",{onClick:()=>f(!0),className:"flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-200 hover:bg-red-500/20",style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",backdropFilter:"blur(10px)"},"aria-label":"Logout",children:t.jsx(Ct,{className:"w-4 h-4 text-red-400"})})]})]})}),p&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 logout-modal-visible",children:t.jsxs("div",{className:"glass-card border border-white/20 rounded-2xl p-8 max-w-sm w-full shadow-2xl backdrop-blur-xl",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Confirm Logout"}),t.jsx("p",{className:"text-white/80 mb-6",children:"Are you sure you want to log out?"}),t.jsxs("div",{className:"flex gap-3 justify-end",children:[t.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-4 rounded-xl shadow hover:bg-white/10 transition",onClick:()=>f(!1),children:"Cancel"}),t.jsx("button",{className:"glass-card border border-red-500/30 bg-red-500/20 text-red-300 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-500/40 hover:text-white transition",onClick:()=>{f(!1),r()},children:"Logout"})]})]})})]})},Ur=b.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"}),gs=b.createContext({}),Mr=b.createContext(null),bs=typeof document<"u",Ir=bs?b.useLayoutEffect:b.useEffect,fa=b.createContext({strict:!1}),Lr=s=>s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Nl="framerAppearId",pa="data-"+Lr(Nl);function Al(s,e,r,i){const{visualElement:n}=b.useContext(gs),a=b.useContext(fa),o=b.useContext(Mr),l=b.useContext(Ur).reducedMotion,c=b.useRef();i=i||a.renderer,!c.current&&i&&(c.current=i(s,{visualState:e,parent:n,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;b.useInsertionEffect(()=>{d&&d.update(r,o)});const h=b.useRef(!!(r[pa]&&!window.HandoffComplete));return Ir(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function mt(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function Sl(s,e,r){return b.useCallback(i=>{i&&s.mount&&s.mount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):mt(r)&&(r.current=i))},[e])}function Lt(s){return typeof s=="string"||Array.isArray(s)}function ws(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const Fr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vr=["initial",...Fr];function ys(s){return ws(s.animate)||Vr.some(e=>Lt(s[e]))}function ga(s){return!!(ys(s)||s.variants)}function Cl(s,e){if(ys(s)){const{initial:r,animate:i}=s;return{initial:r===!1||Lt(r)?r:void 0,animate:Lt(i)?i:void 0}}return s.inherit!==!1?e:{}}function El(s){const{initial:e,animate:r}=Cl(s,b.useContext(gs));return b.useMemo(()=>({initial:e,animate:r}),[wi(e),wi(r)])}function wi(s){return Array.isArray(s)?s.join(" "):s}const yi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ft={};for(const s in yi)Ft[s]={isEnabled:e=>yi[s].some(r=>!!e[r])};function kl(s){for(const e in s)Ft[e]={...Ft[e],...s[e]}}const ba=b.createContext({}),wa=b.createContext({}),Tl=Symbol.for("motionComponentSymbol");function Dl({preloadedFeatures:s,createVisualElement:e,useRender:r,useVisualState:i,Component:n}){s&&kl(s);function a(l,c){let d;const h={...b.useContext(Ur),...l,layoutId:Pl(l)},{isStatic:u}=h,m=El(l),x=i(l,u);if(!u&&bs){m.visualElement=Al(n,x,h,e);const p=b.useContext(wa),f=b.useContext(fa).strict;m.visualElement&&(d=m.visualElement.loadFeatures(h,f,s,p))}return b.createElement(gs.Provider,{value:m},d&&m.visualElement?b.createElement(d,{visualElement:m.visualElement,...h}):null,r(n,l,Sl(x,m.visualElement,c),x,u,m.visualElement))}const o=b.forwardRef(a);return o[Tl]=n,o}function Pl({layoutId:s}){const e=b.useContext(ba).id;return e&&s!==void 0?e+"-"+s:s}function Bl(s){function e(i,n={}){return Dl(s(i,n))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(i,n)=>(r.has(n)||r.set(n,e(n)),r.get(n))})}const Rl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Or(s){return typeof s!="string"||s.includes("-")?!1:!!(Rl.indexOf(s)>-1||/[A-Z]/.test(s))}const is={};function Ul(s){Object.assign(is,s)}const _t=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ot=new Set(_t);function ya(s,{layout:e,layoutId:r}){return ot.has(s)||s.startsWith("origin")||(e||r!==void 0)&&(!!is[s]||s==="opacity")}const ge=s=>!!(s&&s.getVelocity),Ml={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Il=_t.length;function Ll(s,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},i,n){let a="";for(let o=0;o<Il;o++){const l=_t[o];if(s[l]!==void 0){const c=Ml[l]||l;a+=`${c}(${s[l]}) `}}return e&&!s.z&&(a+="translateZ(0)"),a=a.trim(),n?a=n(s,i?"":a):r&&i&&(a="none"),a}const va=s=>e=>typeof e=="string"&&e.startsWith(s),ja=va("--"),mr=va("var(--"),Fl=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Vl=(s,e)=>e&&typeof s=="number"?e.transform(s):s,Ye=(s,e,r)=>Math.min(Math.max(r,s),e),lt={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Tt={...lt,transform:s=>Ye(0,1,s)},Yt={...lt,default:1},Dt=s=>Math.round(s*1e5)/1e5,vs=/(-)?([\d]*\.?[\d])+/g,Na=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ol=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $t(s){return typeof s=="string"}const zt=s=>({test:e=>$t(e)&&e.endsWith(s)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${s}`}),_e=zt("deg"),De=zt("%"),W=zt("px"),_l=zt("vh"),$l=zt("vw"),vi={...De,parse:s=>De.parse(s)/100,transform:s=>De.transform(s*100)},ji={...lt,transform:Math.round},Aa={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,size:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,rotate:_e,rotateX:_e,rotateY:_e,rotateZ:_e,scale:Yt,scaleX:Yt,scaleY:Yt,scaleZ:Yt,skew:_e,skewX:_e,skewY:_e,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:Tt,originX:vi,originY:vi,originZ:W,zIndex:ji,fillOpacity:Tt,strokeOpacity:Tt,numOctaves:ji};function _r(s,e,r,i){const{style:n,vars:a,transform:o,transformOrigin:l}=s;let c=!1,d=!1,h=!0;for(const u in e){const m=e[u];if(ja(u)){a[u]=m;continue}const x=Aa[u],p=Vl(m,x);if(ot.has(u)){if(c=!0,o[u]=p,!h)continue;m!==(x.default||0)&&(h=!1)}else u.startsWith("origin")?(d=!0,l[u]=p):n[u]=p}if(e.transform||(c||i?n.transform=Ll(s.transform,r,h,i):n.transform&&(n.transform="none")),d){const{originX:u="50%",originY:m="50%",originZ:x=0}=l;n.transformOrigin=`${u} ${m} ${x}`}}const $r=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sa(s,e,r){for(const i in e)!ge(e[i])&&!ya(i,r)&&(s[i]=e[i])}function zl({transformTemplate:s},e,r){return b.useMemo(()=>{const i=$r();return _r(i,e,{enableHardwareAcceleration:!r},s),Object.assign({},i.vars,i.style)},[e])}function Ql(s,e,r){const i=s.style||{},n={};return Sa(n,i,s),Object.assign(n,zl(s,e,r)),s.transformValues?s.transformValues(n):n}function Wl(s,e,r){const i={},n=Ql(s,e,r);return s.drag&&s.dragListener!==!1&&(i.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(i.tabIndex=0),i.style=n,i}const Hl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ns(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||Hl.has(s)}let Ca=s=>!ns(s);function Kl(s){s&&(Ca=e=>e.startsWith("on")?!ns(e):s(e))}try{Kl(require("@emotion/is-prop-valid").default)}catch{}function Yl(s,e,r){const i={};for(const n in s)n==="values"&&typeof s.values=="object"||(Ca(n)||r===!0&&ns(n)||!e&&!ns(n)||s.draggable&&n.startsWith("onDrag"))&&(i[n]=s[n]);return i}function Ni(s,e,r){return typeof s=="string"?s:W.transform(e+r*s)}function ql(s,e,r){const i=Ni(e,s.x,s.width),n=Ni(r,s.y,s.height);return`${i} ${n}`}const Gl={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jl={offset:"strokeDashoffset",array:"strokeDasharray"};function Xl(s,e,r=1,i=0,n=!0){s.pathLength=1;const a=n?Gl:Jl;s[a.offset]=W.transform(-i);const o=W.transform(e),l=W.transform(r);s[a.array]=`${o} ${l}`}function zr(s,{attrX:e,attrY:r,attrScale:i,originX:n,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,u,m){if(_r(s,d,h,m),u){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:x,style:p,dimensions:f}=s;x.transform&&(f&&(p.transform=x.transform),delete x.transform),f&&(n!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=ql(f,n!==void 0?n:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),r!==void 0&&(x.y=r),i!==void 0&&(x.scale=i),o!==void 0&&Xl(x,o,l,c,!1)}const Ea=()=>({...$r(),attrs:{}}),Qr=s=>typeof s=="string"&&s.toLowerCase()==="svg";function Zl(s,e,r,i){const n=b.useMemo(()=>{const a=Ea();return zr(a,e,{enableHardwareAcceleration:!1},Qr(i),s.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(s.style){const a={};Sa(a,s.style,s),n.style={...a,...n.style}}return n}function ec(s=!1){return(r,i,n,{latestValues:a},o)=>{const c=(Or(r)?Zl:Wl)(i,a,o,r),h={...Yl(i,typeof r=="string",s),...c,ref:n},{children:u}=i,m=b.useMemo(()=>ge(u)?u.get():u,[u]);return b.createElement(r,{...h,children:m})}}function ka(s,{style:e,vars:r},i,n){Object.assign(s.style,e,n&&n.getProjectionStyles(i));for(const a in r)s.style.setProperty(a,r[a])}const Ta=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Da(s,e,r,i){ka(s,e,void 0,i);for(const n in e.attrs)s.setAttribute(Ta.has(n)?n:Lr(n),e.attrs[n])}function Wr(s,e){const{style:r}=s,i={};for(const n in r)(ge(r[n])||e.style&&ge(e.style[n])||ya(n,s))&&(i[n]=r[n]);return i}function Pa(s,e){const r=Wr(s,e);for(const i in s)if(ge(s[i])||ge(e[i])){const n=_t.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[n]=s[i]}return r}function Hr(s,e,r,i={},n={}){return typeof e=="function"&&(e=e(r!==void 0?r:s.custom,i,n)),typeof e=="string"&&(e=s.variants&&s.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:s.custom,i,n)),e}function js(s){const e=b.useRef(null);return e.current===null&&(e.current=s()),e.current}const as=s=>Array.isArray(s),tc=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),sc=s=>as(s)?s[s.length-1]||0:s;function es(s){const e=ge(s)?s.get():s;return tc(e)?e.toValue():e}function rc({scrapeMotionValuesFromProps:s,createRenderState:e,onMount:r},i,n,a){const o={latestValues:ic(i,n,a,s),renderState:e()};return r&&(o.mount=l=>r(i,l,o)),o}const Ba=s=>(e,r)=>{const i=b.useContext(gs),n=b.useContext(Mr),a=()=>rc(s,e,i,n);return r?a():js(a)};function ic(s,e,r,i){const n={},a=i(s,{});for(const m in a)n[m]=es(a[m]);let{initial:o,animate:l}=s;const c=ys(s),d=ga(s);e&&d&&!c&&s.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const u=h?l:o;return u&&typeof u!="boolean"&&!ws(u)&&(Array.isArray(u)?u:[u]).forEach(x=>{const p=Hr(s,x);if(!p)return;const{transitionEnd:f,transition:y,...w}=p;for(const A in w){let g=w[A];if(Array.isArray(g)){const j=h?g.length-1:0;g=g[j]}g!==null&&(n[A]=g)}for(const A in f)n[A]=f[A]}),n}const se=s=>s;class Ai{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function nc(s){let e=new Ai,r=new Ai,i=0,n=!1,a=!1;const o=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const u=h&&n,m=u?e:r;return d&&o.add(c),m.add(c)&&u&&n&&(i=e.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(n){a=!0;return}if(n=!0,[e,r]=[r,e],r.clear(),i=e.order.length,i)for(let d=0;d<i;d++){const h=e.order[d];h(c),o.has(h)&&(l.schedule(h),s())}n=!1,a&&(a=!1,l.process(c))}};return l}const qt=["prepare","read","update","preRender","render","postRender"],ac=40;function oc(s,e){let r=!1,i=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=qt.reduce((u,m)=>(u[m]=nc(()=>r=!0),u),{}),o=u=>a[u].process(n),l=()=>{const u=performance.now();r=!1,n.delta=i?1e3/60:Math.max(Math.min(u-n.timestamp,ac),1),n.timestamp=u,n.isProcessing=!0,qt.forEach(o),n.isProcessing=!1,r&&e&&(i=!1,s(l))},c=()=>{r=!0,i=!0,n.isProcessing||s(l)};return{schedule:qt.reduce((u,m)=>{const x=a[m];return u[m]=(p,f=!1,y=!1)=>(r||c(),x.schedule(p,f,y)),u},{}),cancel:u=>qt.forEach(m=>a[m].cancel(u)),state:n,steps:a}}const{schedule:G,cancel:Ce,state:de,steps:Ms}=oc(typeof requestAnimationFrame<"u"?requestAnimationFrame:se,!0),lc={useVisualState:Ba({scrapeMotionValuesFromProps:Pa,createRenderState:Ea,onMount:(s,e,{renderState:r,latestValues:i})=>{G.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),G.render(()=>{zr(r,i,{enableHardwareAcceleration:!1},Qr(e.tagName),s.transformTemplate),Da(e,r)})}})},cc={useVisualState:Ba({scrapeMotionValuesFromProps:Wr,createRenderState:$r})};function dc(s,{forwardMotionProps:e=!1},r,i){return{...Or(s)?lc:cc,preloadedFeatures:r,useRender:ec(e),createVisualElement:i,Component:s}}function Ue(s,e,r,i={passive:!0}){return s.addEventListener(e,r,i),()=>s.removeEventListener(e,r)}const Ra=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1;function Ns(s,e="page"){return{point:{x:s[e+"X"],y:s[e+"Y"]}}}const hc=s=>e=>Ra(e)&&s(e,Ns(e));function Me(s,e,r,i){return Ue(s,e,hc(r),i)}const uc=(s,e)=>r=>e(s(r)),He=(...s)=>s.reduce(uc);function Ua(s){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=s,r):!1}}const Si=Ua("dragHorizontal"),Ci=Ua("dragVertical");function Ma(s){let e=!1;if(s==="y")e=Ci();else if(s==="x")e=Si();else{const r=Si(),i=Ci();r&&i?e=()=>{r(),i()}:(r&&r(),i&&i())}return e}function Ia(){const s=Ma(!0);return s?(s(),!1):!0}class Ge{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ei(s,e){const r="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),n=(a,o)=>{if(a.pointerType==="touch"||Ia())return;const l=s.getProps();s.animationState&&l.whileHover&&s.animationState.setActive("whileHover",e),l[i]&&G.update(()=>l[i](a,o))};return Me(s.current,r,n,{passive:!s.getProps()[i]})}class mc extends Ge{mount(){this.unmount=He(Ei(this.node,!0),Ei(this.node,!1))}unmount(){}}class xc extends Ge{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=He(Ue(this.node.current,"focus",()=>this.onFocus()),Ue(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const La=(s,e)=>e?s===e?!0:La(s,e.parentElement):!1;function Is(s,e){if(!e)return;const r=new PointerEvent("pointer"+s);e(r,Ns(r))}class fc extends Ge{constructor(){super(...arguments),this.removeStartListeners=se,this.removeEndListeners=se,this.removeAccessibleListeners=se,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),a=Me(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:u}=this.node.getProps();G.update(()=>{!u&&!La(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(i.onTap||i.onPointerUp)}),o=Me(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=He(a,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Is("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&G.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=Ue(this.node.current,"keyup",o),Is("down",(l,c)=>{this.startPress(l,c)})},r=Ue(this.node.current,"keydown",e),i=()=>{this.isPressing&&Is("cancel",(a,o)=>this.cancelPress(a,o))},n=Ue(this.node.current,"blur",i);this.removeAccessibleListeners=He(r,n)}}startPress(e,r){this.isPressing=!0;const{onTapStart:i,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&G.update(()=>i(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ia()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&G.update(()=>i(e,r))}mount(){const e=this.node.getProps(),r=Me(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Ue(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=He(r,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const xr=new WeakMap,Ls=new WeakMap,pc=s=>{const e=xr.get(s.target);e&&e(s)},gc=s=>{s.forEach(pc)};function bc({root:s,...e}){const r=s||document;Ls.has(r)||Ls.set(r,{});const i=Ls.get(r),n=JSON.stringify(e);return i[n]||(i[n]=new IntersectionObserver(gc,{root:s,...e})),i[n]}function wc(s,e,r){const i=bc(e);return xr.set(s,r),i.observe(s),()=>{xr.delete(s),i.unobserve(s)}}const yc={some:0,all:1};class vc extends Ge{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:n="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:i,threshold:typeof n=="number"?n:yc[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:u}=this.node.getProps(),m=d?h:u;m&&m(c)};return wc(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(jc(e,r))&&this.startObserver()}unmount(){}}function jc({viewport:s={}},{viewport:e={}}={}){return r=>s[r]!==e[r]}const Nc={inView:{Feature:vc},tap:{Feature:fc},focus:{Feature:xc},hover:{Feature:mc}};function Fa(s,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==s.length)return!1;for(let i=0;i<r;i++)if(e[i]!==s[i])return!1;return!0}function Ac(s){const e={};return s.values.forEach((r,i)=>e[i]=r.get()),e}function Sc(s){const e={};return s.values.forEach((r,i)=>e[i]=r.getVelocity()),e}function As(s,e,r){const i=s.getProps();return Hr(i,e,r!==void 0?r:i.custom,Ac(s),Sc(s))}let Cc=se,Kr=se;const nt=s=>s*1e3,Ie=s=>s/1e3,Ec={current:!1},Va=s=>Array.isArray(s)&&typeof s[0]=="number";function Oa(s){return!!(!s||typeof s=="string"&&_a[s]||Va(s)||Array.isArray(s)&&s.every(Oa))}const Et=([s,e,r,i])=>`cubic-bezier(${s}, ${e}, ${r}, ${i})`,_a={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Et([0,.65,.55,1]),circOut:Et([.55,0,1,.45]),backIn:Et([.31,.01,.66,-.59]),backOut:Et([.33,1.53,.69,.99])};function $a(s){if(s)return Va(s)?Et(s):Array.isArray(s)?s.map($a):_a[s]}function kc(s,e,r,{delay:i=0,duration:n,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const d={[e]:r};c&&(d.offset=c);const h=$a(l);return Array.isArray(h)&&(d.easing=h),s.animate(d,{delay:i,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function Tc(s,{repeat:e,repeatType:r="loop"}){const i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}const za=(s,e,r)=>(((1-3*r+3*e)*s+(3*r-6*e))*s+3*e)*s,Dc=1e-7,Pc=12;function Bc(s,e,r,i,n){let a,o,l=0;do o=e+(r-e)/2,a=za(o,i,n)-s,a>0?r=o:e=o;while(Math.abs(a)>Dc&&++l<Pc);return o}function Qt(s,e,r,i){if(s===e&&r===i)return se;const n=a=>Bc(a,0,1,s,r);return a=>a===0||a===1?a:za(n(a),e,i)}const Rc=Qt(.42,0,1,1),Uc=Qt(0,0,.58,1),Qa=Qt(.42,0,.58,1),Mc=s=>Array.isArray(s)&&typeof s[0]!="number",Wa=s=>e=>e<=.5?s(2*e)/2:(2-s(2*(1-e)))/2,Ha=s=>e=>1-s(1-e),Yr=s=>1-Math.sin(Math.acos(s)),Ka=Ha(Yr),Ic=Wa(Yr),Ya=Qt(.33,1.53,.69,.99),qr=Ha(Ya),Lc=Wa(qr),Fc=s=>(s*=2)<1?.5*qr(s):.5*(2-Math.pow(2,-10*(s-1))),Vc={linear:se,easeIn:Rc,easeInOut:Qa,easeOut:Uc,circIn:Yr,circInOut:Ic,circOut:Ka,backIn:qr,backInOut:Lc,backOut:Ya,anticipate:Fc},ki=s=>{if(Array.isArray(s)){Kr(s.length===4);const[e,r,i,n]=s;return Qt(e,r,i,n)}else if(typeof s=="string")return Vc[s];return s},Gr=(s,e)=>r=>!!($t(r)&&Ol.test(r)&&r.startsWith(s)||e&&Object.prototype.hasOwnProperty.call(r,e)),qa=(s,e,r)=>i=>{if(!$t(i))return i;const[n,a,o,l]=i.match(vs);return{[s]:parseFloat(n),[e]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Oc=s=>Ye(0,255,s),Fs={...lt,transform:s=>Math.round(Oc(s))},rt={test:Gr("rgb","red"),parse:qa("red","green","blue"),transform:({red:s,green:e,blue:r,alpha:i=1})=>"rgba("+Fs.transform(s)+", "+Fs.transform(e)+", "+Fs.transform(r)+", "+Dt(Tt.transform(i))+")"};function _c(s){let e="",r="",i="",n="";return s.length>5?(e=s.substring(1,3),r=s.substring(3,5),i=s.substring(5,7),n=s.substring(7,9)):(e=s.substring(1,2),r=s.substring(2,3),i=s.substring(3,4),n=s.substring(4,5),e+=e,r+=r,i+=i,n+=n),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}}const fr={test:Gr("#"),parse:_c,transform:rt.transform},xt={test:Gr("hsl","hue"),parse:qa("hue","saturation","lightness"),transform:({hue:s,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(s)+", "+De.transform(Dt(e))+", "+De.transform(Dt(r))+", "+Dt(Tt.transform(i))+")"},fe={test:s=>rt.test(s)||fr.test(s)||xt.test(s),parse:s=>rt.test(s)?rt.parse(s):xt.test(s)?xt.parse(s):fr.parse(s),transform:s=>$t(s)?s:s.hasOwnProperty("red")?rt.transform(s):xt.transform(s)},ee=(s,e,r)=>-r*s+r*e+s;function Vs(s,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?s+(e-s)*6*r:r<1/2?e:r<2/3?s+(e-s)*(2/3-r)*6:s}function $c({hue:s,saturation:e,lightness:r,alpha:i}){s/=360,e/=100,r/=100;let n=0,a=0,o=0;if(!e)n=a=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;n=Vs(c,l,s+1/3),a=Vs(c,l,s),o=Vs(c,l,s-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}const Os=(s,e,r)=>{const i=s*s;return Math.sqrt(Math.max(0,r*(e*e-i)+i))},zc=[fr,rt,xt],Qc=s=>zc.find(e=>e.test(s));function Ti(s){const e=Qc(s);let r=e.parse(s);return e===xt&&(r=$c(r)),r}const Ga=(s,e)=>{const r=Ti(s),i=Ti(e),n={...r};return a=>(n.red=Os(r.red,i.red,a),n.green=Os(r.green,i.green,a),n.blue=Os(r.blue,i.blue,a),n.alpha=ee(r.alpha,i.alpha,a),rt.transform(n))};function Wc(s){var e,r;return isNaN(s)&&$t(s)&&(((e=s.match(vs))===null||e===void 0?void 0:e.length)||0)+(((r=s.match(Na))===null||r===void 0?void 0:r.length)||0)>0}const Ja={regex:Fl,countKey:"Vars",token:"${v}",parse:se},Xa={regex:Na,countKey:"Colors",token:"${c}",parse:fe.parse},Za={regex:vs,countKey:"Numbers",token:"${n}",parse:lt.parse};function _s(s,{regex:e,countKey:r,token:i,parse:n}){const a=s.tokenised.match(e);a&&(s["num"+r]=a.length,s.tokenised=s.tokenised.replace(e,i),s.values.push(...a.map(n)))}function os(s){const e=s.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&_s(r,Ja),_s(r,Xa),_s(r,Za),r}function eo(s){return os(s).values}function to(s){const{values:e,numColors:r,numVars:i,tokenised:n}=os(s),a=e.length;return o=>{let l=n;for(let c=0;c<a;c++)c<i?l=l.replace(Ja.token,o[c]):c<i+r?l=l.replace(Xa.token,fe.transform(o[c])):l=l.replace(Za.token,Dt(o[c]));return l}}const Hc=s=>typeof s=="number"?0:s;function Kc(s){const e=eo(s);return to(s)(e.map(Hc))}const qe={test:Wc,parse:eo,createTransformer:to,getAnimatableNone:Kc},so=(s,e)=>r=>`${r>0?e:s}`;function ro(s,e){return typeof s=="number"?r=>ee(s,e,r):fe.test(s)?Ga(s,e):s.startsWith("var(")?so(s,e):no(s,e)}const io=(s,e)=>{const r=[...s],i=r.length,n=s.map((a,o)=>ro(a,e[o]));return a=>{for(let o=0;o<i;o++)r[o]=n[o](a);return r}},Yc=(s,e)=>{const r={...s,...e},i={};for(const n in r)s[n]!==void 0&&e[n]!==void 0&&(i[n]=ro(s[n],e[n]));return n=>{for(const a in i)r[a]=i[a](n);return r}},no=(s,e)=>{const r=qe.createTransformer(e),i=os(s),n=os(e);return i.numVars===n.numVars&&i.numColors===n.numColors&&i.numNumbers>=n.numNumbers?He(io(i.values,n.values),r):so(s,e)},wt=(s,e,r)=>{const i=e-s;return i===0?1:(r-s)/i},Di=(s,e)=>r=>ee(s,e,r);function qc(s){return typeof s=="number"?Di:typeof s=="string"?fe.test(s)?Ga:no:Array.isArray(s)?io:typeof s=="object"?Yc:Di}function Gc(s,e,r){const i=[],n=r||qc(s[0]),a=s.length-1;for(let o=0;o<a;o++){let l=n(s[o],s[o+1]);if(e){const c=Array.isArray(e)?e[o]||se:e;l=He(c,l)}i.push(l)}return i}function Ss(s,e,{clamp:r=!0,ease:i,mixer:n}={}){const a=s.length;if(Kr(a===e.length),a===1)return()=>e[0];s[0]>s[a-1]&&(s=[...s].reverse(),e=[...e].reverse());const o=Gc(e,i,n),l=o.length,c=d=>{let h=0;if(l>1)for(;h<s.length-2&&!(d<s[h+1]);h++);const u=wt(s[h],s[h+1],d);return o[h](u)};return r?d=>c(Ye(s[0],s[a-1],d)):c}function Jc(s,e){const r=s[s.length-1];for(let i=1;i<=e;i++){const n=wt(0,e,i);s.push(ee(r,1,n))}}function ao(s){const e=[0];return Jc(e,s.length-1),e}function Xc(s,e){return s.map(r=>r*e)}function Zc(s,e){return s.map(()=>e||Qa).splice(0,s.length-1)}function ls({duration:s=300,keyframes:e,times:r,ease:i="easeInOut"}){const n=Mc(i)?i.map(ki):ki(i),a={done:!1,value:e[0]},o=Xc(r&&r.length===e.length?r:ao(e),s),l=Ss(o,e,{ease:Array.isArray(n)?n:Zc(e,n)});return{calculatedDuration:s,next:c=>(a.value=l(c),a.done=c>=s,a)}}function Jr(s,e){return e?s*(1e3/e):0}const ed=5;function oo(s,e,r){const i=Math.max(e-ed,0);return Jr(r-s(i),e-i)}const $s=.001,td=.01,sd=10,rd=.05,id=1;function nd({duration:s=800,bounce:e=.25,velocity:r=0,mass:i=1}){let n,a,o=1-e;o=Ye(rd,id,o),s=Ye(td,sd,Ie(s)),o<1?(n=d=>{const h=d*o,u=h*s,m=h-r,x=pr(d,o),p=Math.exp(-u);return $s-m/x*p},a=d=>{const u=d*o*s,m=u*r+r,x=Math.pow(o,2)*Math.pow(d,2)*s,p=Math.exp(-u),f=pr(Math.pow(d,2),o);return(-n(d)+$s>0?-1:1)*((m-x)*p)/f}):(n=d=>{const h=Math.exp(-d*s),u=(d-r)*s+1;return-$s+h*u},a=d=>{const h=Math.exp(-d*s),u=(r-d)*(s*s);return h*u});const l=5/s,c=od(n,a,l);if(s=nt(s),isNaN(c))return{stiffness:100,damping:10,duration:s};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:s}}}const ad=12;function od(s,e,r){let i=r;for(let n=1;n<ad;n++)i=i-s(i)/e(i);return i}function pr(s,e){return s*Math.sqrt(1-e*e)}const ld=["duration","bounce"],cd=["stiffness","damping","mass"];function Pi(s,e){return e.some(r=>s[r]!==void 0)}function dd(s){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...s};if(!Pi(s,cd)&&Pi(s,ld)){const r=nd(s);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function lo({keyframes:s,restDelta:e,restSpeed:r,...i}){const n=s[0],a=s[s.length-1],o={done:!1,value:n},{stiffness:l,damping:c,mass:d,duration:h,velocity:u,isResolvedFromDuration:m}=dd({...i,velocity:-Ie(i.velocity||0)}),x=u||0,p=c/(2*Math.sqrt(l*d)),f=a-n,y=Ie(Math.sqrt(l/d)),w=Math.abs(f)<5;r||(r=w?.01:2),e||(e=w?.005:.5);let A;if(p<1){const g=pr(y,p);A=j=>{const C=Math.exp(-p*y*j);return a-C*((x+p*y*f)/g*Math.sin(g*j)+f*Math.cos(g*j))}}else if(p===1)A=g=>a-Math.exp(-y*g)*(f+(x+y*f)*g);else{const g=y*Math.sqrt(p*p-1);A=j=>{const C=Math.exp(-p*y*j),k=Math.min(g*j,300);return a-C*((x+p*y*f)*Math.sinh(k)+g*f*Math.cosh(k))/g}}return{calculatedDuration:m&&h||null,next:g=>{const j=A(g);if(m)o.done=g>=h;else{let C=x;g!==0&&(p<1?C=oo(A,g,j):C=0);const k=Math.abs(C)<=r,P=Math.abs(a-j)<=e;o.done=k&&P}return o.value=o.done?a:j,o}}}function Bi({keyframes:s,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const u=s[0],m={done:!1,value:u},x=I=>l!==void 0&&I<l||c!==void 0&&I>c,p=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let f=r*e;const y=u+f,w=o===void 0?y:o(y);w!==y&&(f=w-u);const A=I=>-f*Math.exp(-I/i),g=I=>w+A(I),j=I=>{const O=A(I),S=g(I);m.done=Math.abs(O)<=d,m.value=m.done?w:S};let C,k;const P=I=>{x(m.value)&&(C=I,k=lo({keyframes:[m.value,p(m.value)],velocity:oo(g,I,m.value),damping:n,stiffness:a,restDelta:d,restSpeed:h}))};return P(0),{calculatedDuration:null,next:I=>{let O=!1;return!k&&C===void 0&&(O=!0,j(I),P(I)),C!==void 0&&I>C?k.next(I-C):(!O&&j(I),m)}}}const hd=s=>{const e=({timestamp:r})=>s(r);return{start:()=>G.update(e,!0),stop:()=>Ce(e),now:()=>de.isProcessing?de.timestamp:performance.now()}},Ri=2e4;function Ui(s){let e=0;const r=50;let i=s.next(e);for(;!i.done&&e<Ri;)e+=r,i=s.next(e);return e>=Ri?1/0:e}const ud={decay:Bi,inertia:Bi,tween:ls,keyframes:ls,spring:lo};function cs({autoplay:s=!0,delay:e=0,driver:r=hd,keyframes:i,type:n="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:u,...m}){let x=1,p=!1,f,y;const w=()=>{y=new Promise(Y=>{f=Y})};w();let A;const g=ud[n]||ls;let j;g!==ls&&typeof i[0]!="number"&&(j=Ss([0,100],i,{clamp:!1}),i=[0,100]);const C=g({...m,keyframes:i});let k;l==="mirror"&&(k=g({...m,keyframes:[...i].reverse(),velocity:-(m.velocity||0)}));let P="idle",I=null,O=null,S=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=Ui(C));const{calculatedDuration:U}=C;let T=1/0,L=1/0;U!==null&&(T=U+o,L=T*(a+1)-o);let N=0;const E=Y=>{if(O===null)return;x>0&&(O=Math.min(O,Y)),x<0&&(O=Math.min(Y-L/x,O)),I!==null?N=I:N=Math.round(Y-O)*x;const R=N-e*(x>=0?1:-1),D=x>=0?R<0:R>L;N=Math.max(R,0),P==="finished"&&I===null&&(N=L);let F=N,q=C;if(a){const J=Math.min(N,L)/T;let he=Math.floor(J),xe=J%1;!xe&&J>=1&&(xe=1),xe===1&&he--,he=Math.min(he,a+1),!!(he%2)&&(l==="reverse"?(xe=1-xe,o&&(xe-=o/T)):l==="mirror"&&(q=k)),F=Ye(0,1,xe)*T}const X=D?{done:!1,value:i[0]}:q.next(F);j&&(X.value=j(X.value));let{done:Z}=X;!D&&U!==null&&(Z=x>=0?N>=L:N<=0);const le=I===null&&(P==="finished"||P==="running"&&Z);return u&&u(X.value),le&&Q(),X},_=()=>{A&&A.stop(),A=void 0},K=()=>{P="idle",_(),f(),w(),O=S=null},Q=()=>{P="finished",h&&h(),_(),f()},te=()=>{if(p)return;A||(A=r(E));const Y=A.now();c&&c(),I!==null?O=Y-I:(!O||P==="finished")&&(O=Y),P==="finished"&&w(),S=O,I=null,P="running",A.start()};s&&te();const re={then(Y,R){return y.then(Y,R)},get time(){return Ie(N)},set time(Y){Y=nt(Y),N=Y,I!==null||!A||x===0?I=Y:O=A.now()-Y/x},get duration(){const Y=C.calculatedDuration===null?Ui(C):C.calculatedDuration;return Ie(Y)},get speed(){return x},set speed(Y){Y===x||!A||(x=Y,re.time=Ie(N))},get state(){return P},play:te,pause:()=>{P="paused",I=N},stop:()=>{p=!0,P!=="idle"&&(P="idle",d&&d(),K())},cancel:()=>{S!==null&&E(S),K()},complete:()=>{P="finished"},sample:Y=>(O=0,E(Y))};return re}function md(s){let e;return()=>(e===void 0&&(e=s()),e)}const xd=md(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fd=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Gt=10,pd=2e4,gd=(s,e)=>e.type==="spring"||s==="backgroundColor"||!Oa(e.ease);function bd(s,e,{onUpdate:r,onComplete:i,...n}){if(!(xd()&&fd.has(e)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0&&n.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const h=()=>{c=new Promise(g=>{l=g})};h();let{keyframes:u,duration:m=300,ease:x,times:p}=n;if(gd(e,n)){const g=cs({...n,repeat:0,delay:0});let j={done:!1,value:u[0]};const C=[];let k=0;for(;!j.done&&k<pd;)j=g.sample(k),C.push(j.value),k+=Gt;p=void 0,u=C,m=k-Gt,x="linear"}const f=kc(s.owner.current,e,u,{...n,duration:m,ease:x,times:p}),y=()=>{d=!1,f.cancel()},w=()=>{d=!0,G.update(y),l(),h()};return f.onfinish=()=>{d||(s.set(Tc(u,n)),i&&i(),w())},{then(g,j){return c.then(g,j)},attachTimeline(g){return f.timeline=g,f.onfinish=null,se},get time(){return Ie(f.currentTime||0)},set time(g){f.currentTime=nt(g)},get speed(){return f.playbackRate},set speed(g){f.playbackRate=g},get duration(){return Ie(m)},play:()=>{o||(f.play(),Ce(y))},pause:()=>f.pause(),stop:()=>{if(o=!0,f.playState==="idle")return;const{currentTime:g}=f;if(g){const j=cs({...n,autoplay:!1});s.setWithVelocity(j.sample(g-Gt).value,j.sample(g).value,Gt)}w()},complete:()=>{d||f.finish()},cancel:w}}function wd({keyframes:s,delay:e,onUpdate:r,onComplete:i}){const n=()=>(r&&r(s[s.length-1]),i&&i(),{time:0,speed:1,duration:0,play:se,pause:se,stop:se,then:a=>(a(),Promise.resolve()),cancel:se,complete:se});return e?cs({keyframes:[0,1],duration:0,delay:e,onComplete:n}):n()}const yd={type:"spring",stiffness:500,damping:25,restSpeed:10},vd=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),jd={type:"keyframes",duration:.8},Nd={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ad=(s,{keyframes:e})=>e.length>2?jd:ot.has(s)?s.startsWith("scale")?vd(e[1]):yd:Nd,gr=(s,e)=>s==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qe.test(e)||e==="0")&&!e.startsWith("url(")),Sd=new Set(["brightness","contrast","saturate","opacity"]);function Cd(s){const[e,r]=s.slice(0,-1).split("(");if(e==="drop-shadow")return s;const[i]=r.match(vs)||[];if(!i)return s;const n=r.replace(i,"");let a=Sd.has(e)?1:0;return i!==r&&(a*=100),e+"("+a+n+")"}const Ed=/([a-z-]*)\(.*?\)/g,br={...qe,getAnimatableNone:s=>{const e=s.match(Ed);return e?e.map(Cd).join(" "):s}},kd={...Aa,color:fe,backgroundColor:fe,outlineColor:fe,fill:fe,stroke:fe,borderColor:fe,borderTopColor:fe,borderRightColor:fe,borderBottomColor:fe,borderLeftColor:fe,filter:br,WebkitFilter:br},Xr=s=>kd[s];function co(s,e){let r=Xr(s);return r!==br&&(r=qe),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const ho=s=>/^0[^.\s]+$/.test(s);function Td(s){if(typeof s=="number")return s===0;if(s!==null)return s==="none"||s==="0"||ho(s)}function Dd(s,e,r,i){const n=gr(e,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=i.from!==void 0?i.from:s.get();let l;const c=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),Td(a[d])&&c.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(n&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];a[h]=co(e,l)}return a}function Pd({when:s,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:n,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function Zr(s,e){return s[e]||s.default||s}const Bd={skipAnimations:!1},ei=(s,e,r,i={})=>n=>{const a=Zr(i,s)||{},o=a.delay||i.delay||0;let{elapsed:l=0}=i;l=l-nt(o);const c=Dd(e,s,r,a),d=c[0],h=c[c.length-1],u=gr(s,d),m=gr(s,h);let x={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{n(),a.onComplete&&a.onComplete()}};if(Pd(a)||(x={...x,...Ad(s,x)}),x.duration&&(x.duration=nt(x.duration)),x.repeatDelay&&(x.repeatDelay=nt(x.repeatDelay)),!u||!m||Ec.current||a.type===!1||Bd.skipAnimations)return wd(x);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=bd(e,s,x);if(p)return p}return cs(x)};function ds(s){return!!(ge(s)&&s.add)}const uo=s=>/^\-?\d*\.?\d+$/.test(s);function ti(s,e){s.indexOf(e)===-1&&s.push(e)}function si(s,e){const r=s.indexOf(e);r>-1&&s.splice(r,1)}class ri{constructor(){this.subscriptions=[]}add(e){return ti(this.subscriptions,e),()=>si(this.subscriptions,e)}notify(e,r,i){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,r,i);else for(let a=0;a<n;a++){const o=this.subscriptions[a];o&&o(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rd=s=>!isNaN(parseFloat(s)),Pt={current:void 0};class Ud{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,n=!0)=>{this.prev=this.current,this.current=i;const{delta:a,timestamp:o}=de;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,G.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>G.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Rd(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new ri);const i=this.events[e].add(r);return e==="change"?()=>{i(),G.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Pt.current&&Pt.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Jr(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ae(s,e){return new Ud(s,e)}const mo=s=>e=>e.test(s),Md={test:s=>s==="auto",parse:s=>s},xo=[lt,W,De,_e,$l,_l,Md],jt=s=>xo.find(mo(s)),Id=[...xo,fe,qe],Ld=s=>Id.find(mo(s));function Fd(s,e,r){s.hasValue(e)?s.getValue(e).set(r):s.addValue(e,Ae(r))}function Vd(s,e){const r=As(s,e);let{transitionEnd:i={},transition:n={},...a}=r?s.makeTargetAnimatable(r,!1):{};a={...a,...i};for(const o in a){const l=sc(a[o]);Fd(s,o,l)}}function Od(s,e,r){var i,n;const a=Object.keys(e).filter(l=>!s.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(n=(i=r[c])!==null&&i!==void 0?i:s.readValue(c))!==null&&n!==void 0?n:e[c]),h!=null&&(typeof h=="string"&&(uo(h)||ho(h))?h=parseFloat(h):!Ld(h)&&qe.test(d)&&(h=co(c,d)),s.addValue(c,Ae(h,{owner:s})),r[c]===void 0&&(r[c]=h),h!==null&&s.setBaseTarget(c,h))}}function _d(s,e){return e?(e[s]||e.default||e).from:void 0}function $d(s,e,r){const i={};for(const n in s){const a=_d(n,e);if(a!==void 0)i[n]=a;else{const o=r.getValue(n);o&&(i[n]=o.get())}}return i}function zd({protectedKeys:s,needsAnimating:e},r){const i=s.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function Qd(s,e){const r=s.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==r)return!0}else return r!==e}function fo(s,e,{delay:r=0,transitionOverride:i,type:n}={}){let{transition:a=s.getDefaultTransition(),transitionEnd:o,...l}=s.makeTargetAnimatable(e);const c=s.getValue("willChange");i&&(a=i);const d=[],h=n&&s.animationState&&s.animationState.getState()[n];for(const u in l){const m=s.getValue(u),x=l[u];if(!m||x===void 0||h&&zd(h,u))continue;const p={delay:r,elapsed:0,...Zr(a||{},u)};if(window.HandoffAppearAnimations){const w=s.getProps()[pa];if(w){const A=window.HandoffAppearAnimations(w,u,m,G);A!==null&&(p.elapsed=A,p.isHandoff=!0)}}let f=!p.isHandoff&&!Qd(m,x);if(p.type==="spring"&&(m.getVelocity()||p.velocity)&&(f=!1),m.animation&&(f=!1),f)continue;m.start(ei(u,m,x,s.shouldReduceMotion&&ot.has(u)?{type:!1}:p));const y=m.animation;ds(c)&&(c.add(u),y.then(()=>c.remove(u))),d.push(y)}return o&&Promise.all(d).then(()=>{o&&Vd(s,o)}),d}function wr(s,e,r={}){const i=As(s,e,r.custom);let{transition:n=s.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(n=r.transitionOverride);const a=i?()=>Promise.all(fo(s,i,r)):()=>Promise.resolve(),o=s.variantChildren&&s.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:u}=n;return Wd(s,e,d+c,h,u,r)}:()=>Promise.resolve(),{when:l}=n;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function Wd(s,e,r=0,i=0,n=1,a){const o=[],l=(s.variantChildren.size-1)*i,c=n===1?(d=0)=>d*i:(d=0)=>l-d*i;return Array.from(s.variantChildren).sort(Hd).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(wr(d,e,{...a,delay:r+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function Hd(s,e){return s.sortNodePosition(e)}function Kd(s,e,r={}){s.notify("AnimationStart",e);let i;if(Array.isArray(e)){const n=e.map(a=>wr(s,a,r));i=Promise.all(n)}else if(typeof e=="string")i=wr(s,e,r);else{const n=typeof e=="function"?As(s,e,r.custom):e;i=Promise.all(fo(s,n,r))}return i.then(()=>s.notify("AnimationComplete",e))}const Yd=[...Fr].reverse(),qd=Fr.length;function Gd(s){return e=>Promise.all(e.map(({animation:r,options:i})=>Kd(s,r,i)))}function Jd(s){let e=Gd(s);const r=Zd();let i=!0;const n=(c,d)=>{const h=As(s,d);if(h){const{transition:u,transitionEnd:m,...x}=h;c={...c,...x,...m}}return c};function a(c){e=c(s)}function o(c,d){const h=s.getProps(),u=s.getVariantContext(!0)||{},m=[],x=new Set;let p={},f=1/0;for(let w=0;w<qd;w++){const A=Yd[w],g=r[A],j=h[A]!==void 0?h[A]:u[A],C=Lt(j),k=A===d?g.isActive:null;k===!1&&(f=w);let P=j===u[A]&&j!==h[A]&&C;if(P&&i&&s.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...p},!g.isActive&&k===null||!j&&!g.prevProp||ws(j)||typeof j=="boolean")continue;let O=Xd(g.prevProp,j)||A===d&&g.isActive&&!P&&C||w>f&&C,S=!1;const U=Array.isArray(j)?j:[j];let T=U.reduce(n,{});k===!1&&(T={});const{prevResolvedValues:L={}}=g,N={...L,...T},E=_=>{O=!0,x.has(_)&&(S=!0,x.delete(_)),g.needsAnimating[_]=!0};for(const _ in N){const K=T[_],Q=L[_];if(p.hasOwnProperty(_))continue;let te=!1;as(K)&&as(Q)?te=!Fa(K,Q):te=K!==Q,te?K!==void 0?E(_):x.add(_):K!==void 0&&x.has(_)?E(_):g.protectedKeys[_]=!0}g.prevProp=j,g.prevResolvedValues=T,g.isActive&&(p={...p,...T}),i&&s.blockInitialAnimation&&(O=!1),O&&(!P||S)&&m.push(...U.map(_=>({animation:_,options:{type:A,...c}})))}if(x.size){const w={};x.forEach(A=>{const g=s.getBaseTarget(A);g!==void 0&&(w[A]=g)}),m.push({animation:w})}let y=!!m.length;return i&&(h.initial===!1||h.initial===h.animate)&&!s.manuallyAnimateOnMount&&(y=!1),i=!1,y?e(m):Promise.resolve()}function l(c,d,h){var u;if(r[c].isActive===d)return Promise.resolve();(u=s.variantChildren)===null||u===void 0||u.forEach(x=>{var p;return(p=x.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),r[c].isActive=d;const m=o(h,c);for(const x in r)r[x].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r}}function Xd(s,e){return typeof e=="string"?e!==s:Array.isArray(e)?!Fa(e,s):!1}function et(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zd(){return{animate:et(!0),whileInView:et(),whileHover:et(),whileTap:et(),whileDrag:et(),whileFocus:et(),exit:et()}}class eh extends Ge{constructor(e){super(e),e.animationState||(e.animationState=Jd(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ws(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let th=0;class sh extends Ge{constructor(){super(...arguments),this.id=th++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:i}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rh={animation:{Feature:eh},exit:{Feature:sh}},Mi=(s,e)=>Math.abs(s-e);function ih(s,e){const r=Mi(s.x,e.x),i=Mi(s.y,e.y);return Math.sqrt(r**2+i**2)}class po{constructor(e,r,{transformPagePoint:i,contextWindow:n,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Qs(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=ih(u.offset,{x:0,y:0})>=3;if(!m&&!x)return;const{point:p}=u,{timestamp:f}=de;this.history.push({...p,timestamp:f});const{onStart:y,onMove:w}=this.handlers;m||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,u)},this.handlePointerMove=(u,m)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=zs(m,this.transformPagePoint),G.update(this.updatePoint,!0)},this.handlePointerUp=(u,m)=>{this.end();const{onEnd:x,onSessionEnd:p,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Qs(u.type==="pointercancel"?this.lastMoveEventInfo:zs(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(u,y),p&&p(u,y)},!Ra(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=i,this.contextWindow=n||window;const o=Ns(e),l=zs(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=de;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=r;h&&h(e,Qs(l,this.history)),this.removeListeners=He(Me(this.contextWindow,"pointermove",this.handlePointerMove),Me(this.contextWindow,"pointerup",this.handlePointerUp),Me(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ce(this.updatePoint)}}function zs(s,e){return e?{point:e(s.point)}:s}function Ii(s,e){return{x:s.x-e.x,y:s.y-e.y}}function Qs({point:s},e){return{point:s,delta:Ii(s,go(e)),offset:Ii(s,nh(e)),velocity:ah(e,.1)}}function nh(s){return s[0]}function go(s){return s[s.length-1]}function ah(s,e){if(s.length<2)return{x:0,y:0};let r=s.length-1,i=null;const n=go(s);for(;r>=0&&(i=s[r],!(n.timestamp-i.timestamp>nt(e)));)r--;if(!i)return{x:0,y:0};const a=Ie(n.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(n.x-i.x)/a,y:(n.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function be(s){return s.max-s.min}function yr(s,e=0,r=.01){return Math.abs(s-e)<=r}function Li(s,e,r,i=.5){s.origin=i,s.originPoint=ee(e.min,e.max,s.origin),s.scale=be(r)/be(e),(yr(s.scale,1,1e-4)||isNaN(s.scale))&&(s.scale=1),s.translate=ee(r.min,r.max,s.origin)-s.originPoint,(yr(s.translate)||isNaN(s.translate))&&(s.translate=0)}function Bt(s,e,r,i){Li(s.x,e.x,r.x,i?i.originX:void 0),Li(s.y,e.y,r.y,i?i.originY:void 0)}function Fi(s,e,r){s.min=r.min+e.min,s.max=s.min+be(e)}function oh(s,e,r){Fi(s.x,e.x,r.x),Fi(s.y,e.y,r.y)}function Vi(s,e,r){s.min=e.min-r.min,s.max=s.min+be(e)}function Rt(s,e,r){Vi(s.x,e.x,r.x),Vi(s.y,e.y,r.y)}function lh(s,{min:e,max:r},i){return e!==void 0&&s<e?s=i?ee(e,s,i.min):Math.max(s,e):r!==void 0&&s>r&&(s=i?ee(r,s,i.max):Math.min(s,r)),s}function Oi(s,e,r){return{min:e!==void 0?s.min+e:void 0,max:r!==void 0?s.max+r-(s.max-s.min):void 0}}function ch(s,{top:e,left:r,bottom:i,right:n}){return{x:Oi(s.x,r,n),y:Oi(s.y,e,i)}}function _i(s,e){let r=e.min-s.min,i=e.max-s.max;return e.max-e.min<s.max-s.min&&([r,i]=[i,r]),{min:r,max:i}}function dh(s,e){return{x:_i(s.x,e.x),y:_i(s.y,e.y)}}function hh(s,e){let r=.5;const i=be(s),n=be(e);return n>i?r=wt(e.min,e.max-i,s.min):i>n&&(r=wt(s.min,s.max-n,e.min)),Ye(0,1,r)}function uh(s,e){const r={};return e.min!==void 0&&(r.min=e.min-s.min),e.max!==void 0&&(r.max=e.max-s.min),r}const vr=.35;function mh(s=vr){return s===!1?s=0:s===!0&&(s=vr),{x:$i(s,"left","right"),y:$i(s,"top","bottom")}}function $i(s,e,r){return{min:zi(s,e),max:zi(s,r)}}function zi(s,e){return typeof s=="number"?s:s[e]||0}const Qi=()=>({translate:0,scale:1,origin:0,originPoint:0}),ft=()=>({x:Qi(),y:Qi()}),Wi=()=>({min:0,max:0}),ae=()=>({x:Wi(),y:Wi()});function ye(s){return[s("x"),s("y")]}function bo({top:s,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:s,max:i}}}function xh({x:s,y:e}){return{top:e.min,right:s.max,bottom:e.max,left:s.min}}function fh(s,e){if(!e)return s;const r=e({x:s.left,y:s.top}),i=e({x:s.right,y:s.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Ws(s){return s===void 0||s===1}function jr({scale:s,scaleX:e,scaleY:r}){return!Ws(s)||!Ws(e)||!Ws(r)}function tt(s){return jr(s)||wo(s)||s.z||s.rotate||s.rotateX||s.rotateY}function wo(s){return Hi(s.x)||Hi(s.y)}function Hi(s){return s&&s!=="0%"}function hs(s,e,r){const i=s-r,n=e*i;return r+n}function Ki(s,e,r,i,n){return n!==void 0&&(s=hs(s,n,i)),hs(s,r,i)+e}function Nr(s,e=0,r=1,i,n){s.min=Ki(s.min,e,r,i,n),s.max=Ki(s.max,e,r,i,n)}function yo(s,{x:e,y:r}){Nr(s.x,e.translate,e.scale,e.originPoint),Nr(s.y,r.translate,r.scale,r.originPoint)}function ph(s,e,r,i=!1){const n=r.length;if(!n)return;e.x=e.y=1;let a,o;for(let l=0;l<n;l++){a=r[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&pt(s,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yo(s,o)),i&&tt(a.latestValues)&&pt(s,a.latestValues))}e.x=Yi(e.x),e.y=Yi(e.y)}function Yi(s){return Number.isInteger(s)||s>1.0000000000001||s<.999999999999?s:1}function ze(s,e){s.min=s.min+e,s.max=s.max+e}function qi(s,e,[r,i,n]){const a=e[n]!==void 0?e[n]:.5,o=ee(s.min,s.max,a);Nr(s,e[r],e[i],o,e.scale)}const gh=["x","scaleX","originX"],bh=["y","scaleY","originY"];function pt(s,e){qi(s.x,e,gh),qi(s.y,e,bh)}function vo(s,e){return bo(fh(s.getBoundingClientRect(),e))}function wh(s,e,r){const i=vo(s,r),{scroll:n}=e;return n&&(ze(i.x,n.offset.x),ze(i.y,n.offset.y)),i}const jo=({current:s})=>s?s.ownerDocument.defaultView:null,yh=new WeakMap;class vh{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ae(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const n=h=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ns(h,"page").point)},a=(h,u)=>{const{drag:m,dragPropagation:x,onDragStart:p}=this.getProps();if(m&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Ma(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ye(y=>{let w=this.getAxisMotionValue(y).get()||0;if(De.test(w)){const{projection:A}=this.visualElement;if(A&&A.layout){const g=A.layout.layoutBox[y];g&&(w=be(g)*(parseFloat(w)/100))}}this.originPoint[y]=w}),p&&G.update(()=>p(h,u),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(h,u)=>{const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:p,onDrag:f}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:y}=u;if(x&&this.currentDirection===null){this.currentDirection=jh(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,y),this.updateAxis("y",u.point,y),this.visualElement.render(),f&&f(h,u)},l=(h,u)=>this.stop(h,u),c=()=>ye(h=>{var u;return this.getAnimationState(h)==="paused"&&((u=this.getAxisMotionValue(h).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new po(e,{onSessionStart:n,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:jo(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:n}=r;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&G.update(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:n}=this.getProps();if(!i||!Jt(e,n,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=lh(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&mt(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&n?this.constraints=ch(n.layoutBox,r):this.constraints=!1,this.elastic=mh(i),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ye(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=uh(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!mt(e))return!1;const i=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=wh(i,n.root,this.visualElement.getTransformPagePoint());let o=dh(n.layout.layoutBox,a);if(r){const l=r(xh(o));this.hasMutatedConstraints=!!l,l&&(o=bo(l))}return o}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:n,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ye(h=>{if(!Jt(h,r,this.currentDirection))return;let u=c&&c[h]||{};o&&(u={min:0,max:0});const m=n?200:1e6,x=n?40:1e7,p={type:"inertia",velocity:i?e[h]:0,bounceStiffness:m,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...u};return this.startAxisValueAnimation(h,p)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return i.start(ei(e,i,0,r))}stopAnimation(){ye(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ye(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),n=i[r];return n||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ye(r=>{const{drag:i}=this.getProps();if(!Jt(r,i,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(r);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[r];a.set(e[r]-ee(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!mt(r)||!i||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ye(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();n[o]=hh({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ye(o=>{if(!Jt(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ee(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;yh.set(this.visualElement,this);const e=this.visualElement.current,r=Me(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();mt(c)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",i);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),i();const o=Ue(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ye(h=>{const u=this.getAxisMotionValue(h);u&&(this.originPoint[h]+=c[h].translate,u.set(u.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:o=vr,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:n,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Jt(s,e,r){return(e===!0||e===s)&&(r===null||r===s)}function jh(s,e=10){let r=null;return Math.abs(s.y)>e?r="y":Math.abs(s.x)>e&&(r="x"),r}class Nh extends Ge{constructor(e){super(e),this.removeGroupControls=se,this.removeListeners=se,this.controls=new vh(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||se}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gi=s=>(e,r)=>{s&&G.update(()=>s(e,r))};class Ah extends Ge{constructor(){super(...arguments),this.removePointerDownListener=se}onPointerDown(e){this.session=new po(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jo(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:n}=this.node.getProps();return{onSessionStart:Gi(e),onStart:Gi(r),onMove:i,onEnd:(a,o)=>{delete this.session,n&&G.update(()=>n(a,o))}}}mount(){this.removePointerDownListener=Me(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Sh(){const s=b.useContext(Mr);if(s===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:i}=s,n=b.useId();return b.useEffect(()=>i(n),[]),!e&&r?[!1,()=>r&&r(n)]:[!0]}const ts={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ji(s,e){return e.max===e.min?0:s/(e.max-e.min)*100}const Nt={correct:(s,e)=>{if(!e.target)return s;if(typeof s=="string")if(W.test(s))s=parseFloat(s);else return s;const r=Ji(s,e.target.x),i=Ji(s,e.target.y);return`${r}% ${i}%`}},Ch={correct:(s,{treeScale:e,projectionDelta:r})=>{const i=s,n=qe.parse(s);if(n.length>5)return i;const a=qe.createTransformer(s),o=typeof n[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;n[0+o]/=l,n[1+o]/=c;const d=ee(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),a(n)}};class Eh extends ms.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:n}=this.props,{projection:a}=e;Ul(kh),a&&(r.group&&r.group.add(a),i&&i.register&&n&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ts.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:n,isPresent:a}=this.props,o=i.projection;return o&&(o.isPresent=a,n||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||G.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),i&&i.deregister&&i.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function No(s){const[e,r]=Sh(),i=b.useContext(ba);return ms.createElement(Eh,{...s,layoutGroup:i,switchLayoutGroup:b.useContext(wa),isPresent:e,safeToRemove:r})}const kh={borderRadius:{...Nt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nt,borderTopRightRadius:Nt,borderBottomLeftRadius:Nt,borderBottomRightRadius:Nt,boxShadow:Ch},Ao=["TopLeft","TopRight","BottomLeft","BottomRight"],Th=Ao.length,Xi=s=>typeof s=="string"?parseFloat(s):s,Zi=s=>typeof s=="number"||W.test(s);function Dh(s,e,r,i,n,a){n?(s.opacity=ee(0,r.opacity!==void 0?r.opacity:1,Ph(i)),s.opacityExit=ee(e.opacity!==void 0?e.opacity:1,0,Bh(i))):a&&(s.opacity=ee(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let o=0;o<Th;o++){const l=`border${Ao[o]}Radius`;let c=en(e,l),d=en(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Zi(c)===Zi(d)?(s[l]=Math.max(ee(Xi(c),Xi(d),i),0),(De.test(d)||De.test(c))&&(s[l]+="%")):s[l]=d}(e.rotate||r.rotate)&&(s.rotate=ee(e.rotate||0,r.rotate||0,i))}function en(s,e){return s[e]!==void 0?s[e]:s.borderRadius}const Ph=So(0,.5,Ka),Bh=So(.5,.95,se);function So(s,e,r){return i=>i<s?0:i>e?1:r(wt(s,e,i))}function tn(s,e){s.min=e.min,s.max=e.max}function we(s,e){tn(s.x,e.x),tn(s.y,e.y)}function sn(s,e,r,i,n){return s-=e,s=hs(s,1/r,i),n!==void 0&&(s=hs(s,1/n,i)),s}function Rh(s,e=0,r=1,i=.5,n,a=s,o=s){if(De.test(e)&&(e=parseFloat(e),e=ee(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=ee(a.min,a.max,i);s===a&&(l-=e),s.min=sn(s.min,e,r,l,n),s.max=sn(s.max,e,r,l,n)}function rn(s,e,[r,i,n],a,o){Rh(s,e[r],e[i],e[n],e.scale,a,o)}const Uh=["x","scaleX","originX"],Mh=["y","scaleY","originY"];function nn(s,e,r,i){rn(s.x,e,Uh,r?r.x:void 0,i?i.x:void 0),rn(s.y,e,Mh,r?r.y:void 0,i?i.y:void 0)}function an(s){return s.translate===0&&s.scale===1}function Co(s){return an(s.x)&&an(s.y)}function Ih(s,e){return s.x.min===e.x.min&&s.x.max===e.x.max&&s.y.min===e.y.min&&s.y.max===e.y.max}function Eo(s,e){return Math.round(s.x.min)===Math.round(e.x.min)&&Math.round(s.x.max)===Math.round(e.x.max)&&Math.round(s.y.min)===Math.round(e.y.min)&&Math.round(s.y.max)===Math.round(e.y.max)}function on(s){return be(s.x)/be(s.y)}class Lh{constructor(){this.members=[]}add(e){ti(this.members,e),e.scheduleRender()}remove(e){if(si(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(n=>e===n);if(r===0)return!1;let i;for(let n=r;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;n===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ln(s,e,r){let i="";const n=s.x.translate/e.x,a=s.y.translate/e.y;if((n||a)&&(i=`translate3d(${n}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:c,rotateX:d,rotateY:h}=r;c&&(i+=`rotate(${c}deg) `),d&&(i+=`rotateX(${d}deg) `),h&&(i+=`rotateY(${h}deg) `)}const o=s.x.scale*e.x,l=s.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const Fh=(s,e)=>s.depth-e.depth;class Vh{constructor(){this.children=[],this.isDirty=!1}add(e){ti(this.children,e),this.isDirty=!0}remove(e){si(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Fh),this.isDirty=!1,this.children.forEach(e)}}function Oh(s,e){const r=performance.now(),i=({timestamp:n})=>{const a=n-r;a>=e&&(Ce(i),s(a-e))};return G.read(i,!0),()=>Ce(i)}function _h(s){window.MotionDebug&&window.MotionDebug.record(s)}function $h(s){return s instanceof SVGElement&&s.tagName!=="svg"}function zh(s,e,r){const i=ge(s)?s:Ae(s);return i.start(ei("",i,e,r)),i.animation}const cn=["","X","Y","Z"],Qh={visibility:"hidden"},dn=1e3;let Wh=0;const st={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ko({attachResizeListener:s,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(o={},l=e?.()){this.id=Wh++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,st.totalNodes=st.resolvedTargetDeltas=st.recalculatedProjection=0,this.nodes.forEach(Yh),this.nodes.forEach(Zh),this.nodes.forEach(eu),this.nodes.forEach(qh),_h(st)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vh)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ri),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$h(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),s){let u;const m=()=>this.root.updateBlockedByResize=!1;s(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Oh(m,250),ts.hasAnimatedSinceResize&&(ts.hasAnimatedSinceResize=!1,this.nodes.forEach(un))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeTargetChanged:x,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||h.getDefaultTransition()||nu,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=h.getProps(),A=!this.targetLayout||!Eo(this.targetLayout,p)||x,g=!m&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||m&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,g);const j={...Zr(f,"layout"),onPlay:y,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||un(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ce(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tu),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const u=this.path[h];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hn);return}this.isUpdating||this.nodes.forEach(Jh),this.isUpdating=!1,this.nodes.forEach(Xh),this.nodes.forEach(Hh),this.nodes.forEach(Kh),this.clearAllSnapshots();const l=performance.now();de.delta=Ye(0,1e3/60,l-de.timestamp),de.timestamp=l,de.isProcessing=!0,Ms.update.process(de),Ms.preRender.process(de),Ms.render.process(de),de.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Gh),this.sharedNodes.forEach(su)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,G.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){G.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Co(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||tt(this.latestValues)||h)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),au(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ae();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(ze(l.x,c.offset.x),ze(l.y,c.offset.y)),l}removeElementScroll(o){const l=ae();we(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:u}=d;if(d!==this.root&&h&&u.layoutScroll){if(h.isRoot){we(l,o);const{scroll:m}=this.root;m&&(ze(l.x,-m.offset.x),ze(l.y,-m.offset.y))}ze(l.x,h.offset.x),ze(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const c=ae();we(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&pt(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),tt(h.latestValues)&&pt(c,h.latestValues)}return tt(this.latestValues)&&pt(c,this.latestValues),c}removeTransform(o){const l=ae();we(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!tt(d.latestValues))continue;jr(d.latestValues)&&d.updateSnapshot();const h=ae(),u=d.measurePageBox();we(h,u),nn(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return tt(this.latestValues)&&nn(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==de.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=de.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Rt(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),we(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ae(),this.targetWithTransforms=ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oh(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):we(this.target,this.layout.layoutBox),yo(this.target,this.targetDelta)):we(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Rt(this.relativeTargetOrigin,this.target,x.target),we(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}st.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jr(this.parent.latestValues)||wo(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===de.timestamp&&(d=!1),d)return;const{layout:h,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||u))return;we(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;ph(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:p}=l;if(!p){this.projectionTransform&&(this.projectionDelta=ft(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ft(),this.projectionDeltaWithTransform=ft());const f=this.projectionTransform;Bt(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=ln(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==m||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),st.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},u=ft();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ae(),x=c?c.source:void 0,p=this.layout?this.layout.source:void 0,f=x!==p,y=this.getStack(),w=!y||y.members.length<=1,A=!!(f&&!w&&this.options.crossfade===!0&&!this.path.some(iu));this.animationProgress=0;let g;this.mixTargetDelta=j=>{const C=j/1e3;mn(u.x,o.x,C),mn(u.y,o.y,C),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rt(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ru(this.relativeTarget,this.relativeTargetOrigin,m,C),g&&Ih(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ae()),we(g,this.relativeTarget)),f&&(this.animationValues=h,Dh(h,d,this.latestValues,C,A,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ce(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=G.update(()=>{ts.hasAnimatedSinceResize=!0,this.currentAnimation=zh(0,dn,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dn),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&To(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ae();const u=be(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+u;const m=be(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}we(l,c),pt(l,h),Bt(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Lh),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<cn.length;h++){const u="rotate"+cn[h];c[u]&&(d[u]=c[u],o.setStaticValue(u,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qh;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=es(o?.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=es(o?.pointerEvents)||""),this.hasProjected&&!tt(this.latestValues)&&(f.transform=h?h({},""):"none",this.hasProjected=!1),f}const m=u.animationValues||u.latestValues;this.applyTransformsToTarget(),d.transform=ln(this.projectionDeltaWithTransform,this.treeScale,m),h&&(d.transform=h(m,d.transform));const{x,y:p}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${p.origin*100}% 0`,u.animationValues?d.opacity=u===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=u===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const f in is){if(m[f]===void 0)continue;const{correct:y,applyTo:w}=is[f],A=d.transform==="none"?m[f]:y(m[f],u);if(w){const g=w.length;for(let j=0;j<g;j++)d[w[j]]=A}else d[f]=A}return this.options.layoutId&&(d.pointerEvents=u===this?es(o?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(hn),this.root.sharedNodes.clear()}}}function Hh(s){s.updateLayout()}function Kh(s){var e;const r=((e=s.resumeFrom)===null||e===void 0?void 0:e.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&r&&s.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:n}=s.layout,{animationType:a}=s.options,o=r.source!==s.layout.source;a==="size"?ye(u=>{const m=o?r.measuredBox[u]:r.layoutBox[u],x=be(m);m.min=i[u].min,m.max=m.min+x}):To(a,r.layoutBox,i)&&ye(u=>{const m=o?r.measuredBox[u]:r.layoutBox[u],x=be(i[u]);m.max=m.min+x,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[u].max=s.relativeTarget[u].min+x)});const l=ft();Bt(l,i,r.layoutBox);const c=ft();o?Bt(c,s.applyTransform(n,!0),r.measuredBox):Bt(c,i,r.layoutBox);const d=!Co(l);let h=!1;if(!s.resumeFrom){const u=s.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:m,layout:x}=u;if(m&&x){const p=ae();Rt(p,r.layoutBox,m.layoutBox);const f=ae();Rt(f,i,x.layoutBox),Eo(p,f)||(h=!0),u.options.layoutRoot&&(s.relativeTarget=f,s.relativeTargetOrigin=p,s.relativeParent=u)}}}s.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(s.isLead()){const{onExitComplete:i}=s.options;i&&i()}s.options.transition=void 0}function Yh(s){st.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function qh(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function Gh(s){s.clearSnapshot()}function hn(s){s.clearMeasurements()}function Jh(s){s.isLayoutDirty=!1}function Xh(s){const{visualElement:e}=s.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),s.resetTransform()}function un(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function Zh(s){s.resolveTargetDelta()}function eu(s){s.calcProjection()}function tu(s){s.resetRotation()}function su(s){s.removeLeadSnapshot()}function mn(s,e,r){s.translate=ee(e.translate,0,r),s.scale=ee(e.scale,1,r),s.origin=e.origin,s.originPoint=e.originPoint}function xn(s,e,r,i){s.min=ee(e.min,r.min,i),s.max=ee(e.max,r.max,i)}function ru(s,e,r,i){xn(s.x,e.x,r.x,i),xn(s.y,e.y,r.y,i)}function iu(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const nu={duration:.45,ease:[.4,0,.1,1]},fn=s=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(s),pn=fn("applewebkit/")&&!fn("chrome/")?Math.round:se;function gn(s){s.min=pn(s.min),s.max=pn(s.max)}function au(s){gn(s.x),gn(s.y)}function To(s,e,r){return s==="position"||s==="preserve-aspect"&&!yr(on(e),on(r),.2)}const ou=ko({attachResizeListener:(s,e)=>Ue(s,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hs={current:void 0},Do=ko({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Hs.current){const s=new ou({});s.mount(window),s.setOptions({layoutScroll:!0}),Hs.current=s}return Hs.current},resetTransform:(s,e)=>{s.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),lu={pan:{Feature:Ah},drag:{Feature:Nh,ProjectionNode:Do,MeasureLayout:No}},cu=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function du(s){const e=cu.exec(s);if(!e)return[,];const[,r,i]=e;return[r,i]}function Ar(s,e,r=1){const[i,n]=du(s);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const o=a.trim();return uo(o)?parseFloat(o):o}else return mr(n)?Ar(n,e,r+1):n}function hu(s,{...e},r){const i=s.current;if(!(i instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),s.values.forEach(n=>{const a=n.get();if(!mr(a))return;const o=Ar(a,i);o&&n.set(o)});for(const n in e){const a=e[n];if(!mr(a))continue;const o=Ar(a,i);o&&(e[n]=o,r||(r={}),r[n]===void 0&&(r[n]=a))}return{target:e,transitionEnd:r}}const uu=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Po=s=>uu.has(s),mu=s=>Object.keys(s).some(Po),bn=s=>s===lt||s===W,wn=(s,e)=>parseFloat(s.split(", ")[e]),yn=(s,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const n=i.match(/^matrix3d\((.+)\)$/);if(n)return wn(n[1],e);{const a=i.match(/^matrix\((.+)\)$/);return a?wn(a[1],s):0}},xu=new Set(["x","y","z"]),fu=_t.filter(s=>!xu.has(s));function pu(s){const e=[];return fu.forEach(r=>{const i=s.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e.length&&s.render(),e}const yt={width:({x:s},{paddingLeft:e="0",paddingRight:r="0"})=>s.max-s.min-parseFloat(e)-parseFloat(r),height:({y:s},{paddingTop:e="0",paddingBottom:r="0"})=>s.max-s.min-parseFloat(e)-parseFloat(r),top:(s,{top:e})=>parseFloat(e),left:(s,{left:e})=>parseFloat(e),bottom:({y:s},{top:e})=>parseFloat(e)+(s.max-s.min),right:({x:s},{left:e})=>parseFloat(e)+(s.max-s.min),x:yn(4,13),y:yn(5,14)};yt.translateX=yt.x;yt.translateY=yt.y;const gu=(s,e,r)=>{const i=e.measureViewportBox(),n=e.current,a=getComputedStyle(n),{display:o}=a,l={};o==="none"&&e.setStaticValue("display",s.display||"block"),r.forEach(d=>{l[d]=yt[d](i,a)}),e.render();const c=e.measureViewportBox();return r.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),s[d]=yt[d](c,a)}),s},bu=(s,e,r={},i={})=>{e={...e},i={...i};const n=Object.keys(e).filter(Po);let a=[],o=!1;const l=[];if(n.forEach(c=>{const d=s.getValue(c);if(!s.hasValue(c))return;let h=r[c],u=jt(h);const m=e[c];let x;if(as(m)){const p=m.length,f=m[0]===null?1:0;h=m[f],u=jt(h);for(let y=f;y<p&&m[y]!==null;y++)x?Kr(jt(m[y])===x):x=jt(m[y])}else x=jt(m);if(u!==x)if(bn(u)&&bn(x)){const p=d.get();typeof p=="string"&&d.set(parseFloat(p)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&x===W&&(e[c]=m.map(parseFloat))}else u?.transform&&x?.transform&&(h===0||m===0)?h===0?d.set(x.transform(h)):e[c]=u.transform(m):(o||(a=pu(s),o=!0),l.push(c),i[c]=i[c]!==void 0?i[c]:e[c],d.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=gu(e,s,l);return a.length&&a.forEach(([h,u])=>{s.getValue(h).set(u)}),s.render(),bs&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:i}}else return{target:e,transitionEnd:i}};function wu(s,e,r,i){return mu(e)?bu(s,e,r,i):{target:e,transitionEnd:i}}const yu=(s,e,r,i)=>{const n=hu(s,e,i);return e=n.target,i=n.transitionEnd,wu(s,e,r,i)},Sr={current:null},Bo={current:!1};function vu(){if(Bo.current=!0,!!bs)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sr.current=s.matches;s.addListener(e),e()}else Sr.current=!1}function ju(s,e,r){const{willChange:i}=e;for(const n in e){const a=e[n],o=r[n];if(ge(a))s.addValue(n,a),ds(i)&&i.add(n);else if(ge(o))s.addValue(n,Ae(a,{owner:s})),ds(i)&&i.remove(n);else if(o!==a)if(s.hasValue(n)){const l=s.getValue(n);!l.hasAnimated&&l.set(a)}else{const l=s.getStaticValue(n);s.addValue(n,Ae(l!==void 0?l:a,{owner:s}))}}for(const n in r)e[n]===void 0&&s.removeValue(n);return e}const vn=new WeakMap,Ro=Object.keys(Ft),Nu=Ro.length,jn=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Au=Vr.length;class Su{constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:n,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>G.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.isControllingVariants=ys(r),this.isVariantNode=ga(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(r,{});for(const u in h){const m=h[u];l[u]!==void 0&&ge(m)&&(m.set(l[u],!1),ds(d)&&d.add(u))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,vn.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Bo.current||vu(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sr.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vn.delete(this.current),this.projection&&this.projection.unmount(),Ce(this.notifyUpdate),Ce(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const i=ot.has(e),n=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&G.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{n(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},i,n,a){let o,l;for(let c=0;c<Nu;c++){const d=Ro[c],{isEnabled:h,Feature:u,ProjectionNode:m,MeasureLayout:x}=Ft[d];m&&(o=m),h(r)&&(!this.features[d]&&u&&(this.features[d]=new u(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:u,layoutScroll:m,layoutRoot:x}=r;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||u&&mt(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:x})}return l}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ae()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<jn.length;i++){const n=jn[i];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a=e["on"+n];a&&(this.propEventSubscriptions[n]=this.on(n,a))}this.prevMotionValues=ju(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const r={};for(let i=0;i<Au;i++){const n=Vr[i],a=this.props[n];(Lt(a)||a===!1)&&(r[n]=a)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Ae(r,{owner:this}),this.addValue(e,i)),i}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props,n=typeof i=="string"||typeof i=="object"?(r=Hr(this.props,i))===null||r===void 0?void 0:r[e]:void 0;if(i&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ge(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new ri),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Uo extends Su{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...i},{transformValues:n},a){let o=$d(i,e||{},this);if(n&&(r&&(r=n(r)),i&&(i=n(i)),o&&(o=n(o))),a){Od(this,i,o);const l=yu(this,i,o,r);r=l.transitionEnd,i=l.target}return{transition:e,transitionEnd:r,...i}}}function Cu(s){return window.getComputedStyle(s)}class Eu extends Uo{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(ot.has(r)){const i=Xr(r);return i&&i.default||0}else{const i=Cu(e),n=(ja(r)?i.getPropertyValue(r):i[r])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:r}){return vo(e,r)}build(e,r,i,n){_r(e,r,i,n.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Wr(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ge(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,i,n){ka(e,r,i,n)}}class ku extends Uo{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ot.has(r)){const i=Xr(r);return i&&i.default||0}return r=Ta.has(r)?r:Lr(r),e.getAttribute(r)}measureInstanceViewportBox(){return ae()}scrapeMotionValuesFromProps(e,r){return Pa(e,r)}build(e,r,i,n){zr(e,r,i,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,i,n){Da(e,r,i,n)}mount(e){this.isSVGTag=Qr(e.tagName),super.mount(e)}}const Tu=(s,e)=>Or(s)?new ku(e,{enableHardwareAcceleration:!1}):new Eu(e,{enableHardwareAcceleration:!0}),Du={layout:{ProjectionNode:Do,MeasureLayout:No}},Pu={...rh,...Nc,...lu,...Du},oe=Bl((s,e)=>dc(s,e,Pu,Tu));function Bu(s){const e=js(()=>Ae(s)),{isStatic:r}=b.useContext(Ur);if(r){const[,i]=b.useState(s);b.useEffect(()=>e.on("change",i),[])}return e}const Ru=s=>s&&typeof s=="object"&&s.mix,Uu=s=>Ru(s)?s.mix:void 0;function Mu(...s){const e=!Array.isArray(s[0]),r=e?0:-1,i=s[0+r],n=s[1+r],a=s[2+r],o=s[3+r],l=Ss(n,a,{mixer:Uu(a[0]),...o});return e?l(i):l}function Mo(s,e){const r=Bu(e()),i=()=>r.set(e());return i(),Ir(()=>{const n=()=>G.update(i,!1,!0),a=s.map(o=>o.on("change",n));return()=>{a.forEach(o=>o()),Ce(i)}}),r}function Iu(s){Pt.current=[],s();const e=Mo(Pt.current,s);return Pt.current=void 0,e}function Nn(s,e,r,i){if(typeof s=="function")return Iu(s);const n=typeof e=="function"?e:Mu(e,r,i);return Array.isArray(s)?An(s,n):An([s],([a])=>n(a))}function An(s,e){const r=js(()=>[]);return Mo(s,()=>{r.length=0;const i=s.length;for(let n=0;n<i;n++)r[n]=s[n].get();return e(r)})}function Lu(s,e,r){return typeof s=="string"?s=document.querySelectorAll(s):s instanceof Element&&(s=[s]),Array.from(s||[])}const ss=new WeakMap;let $e;function Fu(s,e){if(e){const{inlineSize:r,blockSize:i}=e[0];return{width:r,height:i}}else return s instanceof SVGElement&&"getBBox"in s?s.getBBox():{width:s.offsetWidth,height:s.offsetHeight}}function Vu({target:s,contentRect:e,borderBoxSize:r}){var i;(i=ss.get(s))===null||i===void 0||i.forEach(n=>{n({target:s,contentSize:e,get size(){return Fu(s,r)}})})}function Ou(s){s.forEach(Vu)}function _u(){typeof ResizeObserver>"u"||($e=new ResizeObserver(Ou))}function $u(s,e){$e||_u();const r=Lu(s);return r.forEach(i=>{let n=ss.get(i);n||(n=new Set,ss.set(i,n)),n.add(e),$e?.observe(i)}),()=>{r.forEach(i=>{const n=ss.get(i);n?.delete(e),n?.size||$e?.unobserve(i)})}}const rs=new Set;let Ut;function zu(){Ut=()=>{const s={width:window.innerWidth,height:window.innerHeight},e={target:window,size:s,contentSize:s};rs.forEach(r=>r(e))},window.addEventListener("resize",Ut)}function Qu(s){return rs.add(s),Ut||zu(),()=>{rs.delete(s),!rs.size&&Ut&&(Ut=void 0)}}function Wu(s,e){return typeof s=="function"?Qu(s):$u(s,e)}const Hu=50,Sn=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Ku=()=>({time:0,x:Sn(),y:Sn()}),Yu={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Cn(s,e,r,i){const n=r[e],{length:a,position:o}=Yu[e],l=n.current,c=r.time;n.current=s["scroll"+o],n.scrollLength=s["scroll"+a]-s["client"+a],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=wt(0,n.scrollLength,n.current);const d=i-c;n.velocity=d>Hu?0:Jr(n.current-l,d)}function qu(s,e,r){Cn(s,"x",e,r),Cn(s,"y",e,r),e.time=r}function Gu(s,e){const r={x:0,y:0};let i=s;for(;i&&i!==e;)if(i instanceof HTMLElement)r.x+=i.offsetLeft,r.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const n=i.getBoundingClientRect();i=i.parentElement;const a=i.getBoundingClientRect();r.x+=n.left-a.left,r.y+=n.top-a.top}else if(i instanceof SVGGraphicsElement){const{x:n,y:a}=i.getBBox();r.x+=n,r.y+=a;let o=null,l=i.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=i.parentNode;i=o}else break;return r}const Ju={All:[[0,0],[1,1]]},Cr={start:0,center:.5,end:1};function En(s,e,r=0){let i=0;if(Cr[s]!==void 0&&(s=Cr[s]),typeof s=="string"){const n=parseFloat(s);s.endsWith("px")?i=n:s.endsWith("%")?s=n/100:s.endsWith("vw")?i=n/100*document.documentElement.clientWidth:s.endsWith("vh")?i=n/100*document.documentElement.clientHeight:s=n}return typeof s=="number"&&(i=e*s),r+i}const Xu=[0,0];function Zu(s,e,r,i){let n=Array.isArray(s)?s:Xu,a=0,o=0;return typeof s=="number"?n=[s,s]:typeof s=="string"&&(s=s.trim(),s.includes(" ")?n=s.split(" "):n=[s,Cr[s]?s:"0"]),a=En(n[0],r,i),o=En(n[1],e),a-o}const em={x:0,y:0};function tm(s){return"getBBox"in s&&s.tagName!=="svg"?s.getBBox():{width:s.clientWidth,height:s.clientHeight}}function sm(s,e,r){let{offset:i=Ju.All}=r;const{target:n=s,axis:a="y"}=r,o=a==="y"?"height":"width",l=n!==s?Gu(n,s):em,c=n===s?{width:s.scrollWidth,height:s.scrollHeight}:tm(n),d={width:s.clientWidth,height:s.clientHeight};e[a].offset.length=0;let h=!e[a].interpolate;const u=i.length;for(let m=0;m<u;m++){const x=Zu(i[m],d[o],c[o],l[a]);!h&&x!==e[a].interpolatorOffsets[m]&&(h=!0),e[a].offset[m]=x}h&&(e[a].interpolate=Ss(e[a].offset,ao(i)),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=e[a].interpolate(e[a].current)}function rm(s,e=s,r){if(r.x.targetOffset=0,r.y.targetOffset=0,e!==s){let i=e;for(;i&&i!==s;)r.x.targetOffset+=i.offsetLeft,r.y.targetOffset+=i.offsetTop,i=i.offsetParent}r.x.targetLength=e===s?e.scrollWidth:e.clientWidth,r.y.targetLength=e===s?e.scrollHeight:e.clientHeight,r.x.containerLength=s.clientWidth,r.y.containerLength=s.clientHeight}function im(s,e,r,i={}){return{measure:()=>rm(s,i.target,r),update:n=>{qu(s,r,n),(i.offset||i.target)&&sm(s,r,i)},notify:()=>e(r)}}const At=new WeakMap,kn=new WeakMap,Ks=new WeakMap,Tn=s=>s===document.documentElement?window:s;function nm(s,{container:e=document.documentElement,...r}={}){let i=Ks.get(e);i||(i=new Set,Ks.set(e,i));const n=Ku(),a=im(e,s,n,r);if(i.add(a),!At.has(e)){const l=()=>{for(const m of i)m.measure()},c=()=>{for(const m of i)m.update(de.timestamp)},d=()=>{for(const m of i)m.notify()},h=()=>{G.read(l,!1,!0),G.read(c,!1,!0),G.update(d,!1,!0)};At.set(e,h);const u=Tn(e);window.addEventListener("resize",h,{passive:!0}),e!==document.documentElement&&kn.set(e,Wu(e,h)),u.addEventListener("scroll",h,{passive:!0})}const o=At.get(e);return G.read(o,!1,!0),()=>{var l;Ce(o);const c=Ks.get(e);if(!c||(c.delete(a),c.size))return;const d=At.get(e);At.delete(e),d&&(Tn(e).removeEventListener("scroll",d),(l=kn.get(e))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function Dn(s,e){Cc(!!(!e||e.current))}const am=()=>({scrollX:Ae(0),scrollY:Ae(0),scrollXProgress:Ae(0),scrollYProgress:Ae(0)});function om({container:s,target:e,layoutEffect:r=!0,...i}={}){const n=js(am);return(r?Ir:b.useEffect)(()=>(Dn("target",e),Dn("container",s),nm(({x:o,y:l})=>{n.scrollX.set(o.current),n.scrollXProgress.set(o.progress),n.scrollY.set(l.current),n.scrollYProgress.set(l.progress)},{...i,container:s?.current||void 0,target:e?.current||void 0})),[s,e,JSON.stringify(i.offset)]),n}const lm=({onBack:s})=>{const[e,r]=b.useState(0),{scrollY:i}=om(),n=Nn(i,[0,300],[0,-100]),a=Nn(i,[0,300],[0,100]),o=[{number:"01",title:"Sign Up",description:"Create your account and verify your email address",icon:fs,details:["Quick registration with email","Instant email verification","No personal documents required","Secure account setup"],color:"from-purple-500 to-pink-500"},{number:"02",title:"Watch Ads",description:"Enjoy short video ads and complete simple tasks",icon:Ot,details:["25-30 second video ads","Gaming, tech, and app content","Simple engagement tasks","Earn while you learn"],color:"from-blue-500 to-cyan-500"},{number:"03",title:"Earn & Withdraw",description:"Get paid instantly and withdraw to your wallet",icon:ua,details:["Instant USDT payments","No minimum withdrawal","Multiple wallet support","24/7 withdrawal access"],color:"from-green-500 to-emerald-500"}],l=[{icon:Zo,title:"Instant Payouts",desc:"Get paid within seconds"},{icon:It,title:"Secure Platform",desc:"Bank-level security"},{icon:ve,title:"Global Access",desc:"Available worldwide"},{icon:Ke,title:"Daily Bonuses",desc:"Earn extra rewards"},{icon:ke,title:"Referral Program",desc:"Invite friends & earn"},{icon:ps,title:"Real-time Stats",desc:"Track your earnings"}];return t.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-[#0f0c29] via-[#302b63] to-[#24243e] overflow-hidden",children:[t.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[t.jsx(oe.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-3xl",style:{y:n},animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(oe.div,{className:"absolute top-3/4 right-1/4 w-64 h-64 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-full blur-2xl",style:{y:a},animate:{scale:[1,1.1,1],opacity:[.2,.5,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}})]}),t.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-transparent backdrop-blur-xl border-b border-white/10",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-20 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(oe.button,{className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",onClick:s,whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx(at,{className:"w-5 h-5"}),t.jsx("span",{children:"Back to Home"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:t.jsx(ue,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-white",children:"AdMoney"})]})]})})}),t.jsx("div",{className:"relative z-10 pt-24 pb-16 px-6 lg:px-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs(oe.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[t.jsx(oe.h1,{className:"text-4xl lg:text-6xl font-bold text-white mb-6",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},children:"How It Works"}),t.jsx(oe.p,{className:"text-xl text-white/80 max-w-3xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},children:"Get started in three simple steps and begin earning crypto rewards"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20",children:o.map((c,d)=>t.jsx(oe.div,{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 h-full cursor-pointer",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:d*.2},whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},onClick:()=>r(d),children:t.jsxs("div",{className:"text-center",children:[t.jsx(oe.div,{className:`w-16 h-16 bg-gradient-to-br ${c.color} rounded-2xl flex items-center justify-center mx-auto mb-6 text-2xl font-bold text-white`,whileHover:{scale:1.1,rotate:360},transition:{duration:.5},children:c.number}),t.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:c.title}),t.jsx("p",{className:"text-white/70 leading-relaxed mb-6",children:c.description}),t.jsx("div",{className:"space-y-3",children:c.details.map((h,u)=>t.jsxs(oe.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:u*.1},children:[t.jsx(me,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),t.jsx("span",{className:"text-white/80 text-sm",children:h})]},u))})]})},d))}),t.jsxs(oe.div,{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-8 border border-white/10 mb-20",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Interactive Demo"}),t.jsx("p",{className:"text-white/80",children:"Click on any step above to see detailed information"})]}),e!==null&&t.jsxs(oe.div,{className:"text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:ms.createElement(o[e].icon,{className:"w-12 h-12 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:o[e].title}),t.jsx("p",{className:"text-white/80 text-lg max-w-2xl mx-auto",children:o[e].description})]})]}),t.jsxs(oe.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6",children:"Why Choose AdMoney?"}),t.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Discover the features that make us the leading choice for crypto earnings"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map((c,d)=>t.jsxs(oe.div,{className:"text-center p-6 bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 hover:border-white/20 transition-all duration-300",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:d*.1},whileHover:{scale:1.05,boxShadow:"0 15px 35px rgba(0,0,0,0.2)"},children:[t.jsx(oe.div,{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-4",whileHover:{scale:1.1,rotate:360},transition:{duration:.5},children:t.jsx(c.icon,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"text-white font-semibold text-sm mb-2",children:c.title}),t.jsx("p",{className:"text-white/70 text-xs",children:c.desc})]},d))})]})}),t.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20 bg-gradient-to-r from-purple-900/30 to-pink-900/30",children:t.jsxs(oe.div,{className:"max-w-5xl mx-auto text-center",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[t.jsx(oe.h2,{className:"text-3xl lg:text-4xl font-bold text-white mb-6",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},children:"Ready to Start Earning?"}),t.jsx(oe.p,{className:"text-xl text-white/80 mb-8 max-w-3xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},children:"Join thousands of users already earning passive income with AdMoney"}),t.jsx(oe.button,{onClick:s,className:"bg-gradient-to-r from-green-400 to-emerald-500 text-black font-bold px-12 py-6 rounded-2xl text-xl hover:from-green-300 hover:to-emerald-400 transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-green-500/50",whileHover:{scale:1.1,boxShadow:"0 25px 50px rgba(34, 197, 94, 0.5)"},whileTap:{scale:.95},initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:"Get Started Now"})]})})]})};function Mt(s){let e=s[0],r=s[1],i=s[2];return Math.sqrt(e*e+r*r+i*i)}function Er(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s}function cm(s,e,r,i){return s[0]=e,s[1]=r,s[2]=i,s}function Pn(s,e,r){return s[0]=e[0]+r[0],s[1]=e[1]+r[1],s[2]=e[2]+r[2],s}function Bn(s,e,r){return s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],s}function dm(s,e,r){return s[0]=e[0]*r[0],s[1]=e[1]*r[1],s[2]=e[2]*r[2],s}function hm(s,e,r){return s[0]=e[0]/r[0],s[1]=e[1]/r[1],s[2]=e[2]/r[2],s}function Ys(s,e,r){return s[0]=e[0]*r,s[1]=e[1]*r,s[2]=e[2]*r,s}function um(s,e){let r=e[0]-s[0],i=e[1]-s[1],n=e[2]-s[2];return Math.sqrt(r*r+i*i+n*n)}function mm(s,e){let r=e[0]-s[0],i=e[1]-s[1],n=e[2]-s[2];return r*r+i*i+n*n}function Rn(s){let e=s[0],r=s[1],i=s[2];return e*e+r*r+i*i}function xm(s,e){return s[0]=-e[0],s[1]=-e[1],s[2]=-e[2],s}function fm(s,e){return s[0]=1/e[0],s[1]=1/e[1],s[2]=1/e[2],s}function kr(s,e){let r=e[0],i=e[1],n=e[2],a=r*r+i*i+n*n;return a>0&&(a=1/Math.sqrt(a)),s[0]=e[0]*a,s[1]=e[1]*a,s[2]=e[2]*a,s}function Io(s,e){return s[0]*e[0]+s[1]*e[1]+s[2]*e[2]}function Un(s,e,r){let i=e[0],n=e[1],a=e[2],o=r[0],l=r[1],c=r[2];return s[0]=n*c-a*l,s[1]=a*o-i*c,s[2]=i*l-n*o,s}function pm(s,e,r,i){let n=e[0],a=e[1],o=e[2];return s[0]=n+i*(r[0]-n),s[1]=a+i*(r[1]-a),s[2]=o+i*(r[2]-o),s}function gm(s,e,r,i,n){const a=Math.exp(-i*n);let o=e[0],l=e[1],c=e[2];return s[0]=r[0]+(o-r[0])*a,s[1]=r[1]+(l-r[1])*a,s[2]=r[2]+(c-r[2])*a,s}function bm(s,e,r){let i=e[0],n=e[1],a=e[2],o=r[3]*i+r[7]*n+r[11]*a+r[15];return o=o||1,s[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/o,s[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/o,s[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/o,s}function wm(s,e,r){let i=e[0],n=e[1],a=e[2],o=r[3]*i+r[7]*n+r[11]*a+r[15];return o=o||1,s[0]=(r[0]*i+r[4]*n+r[8]*a)/o,s[1]=(r[1]*i+r[5]*n+r[9]*a)/o,s[2]=(r[2]*i+r[6]*n+r[10]*a)/o,s}function ym(s,e,r){let i=e[0],n=e[1],a=e[2];return s[0]=i*r[0]+n*r[3]+a*r[6],s[1]=i*r[1]+n*r[4]+a*r[7],s[2]=i*r[2]+n*r[5]+a*r[8],s}function vm(s,e,r){let i=e[0],n=e[1],a=e[2],o=r[0],l=r[1],c=r[2],d=r[3],h=l*a-c*n,u=c*i-o*a,m=o*n-l*i,x=l*m-c*u,p=c*h-o*m,f=o*u-l*h,y=d*2;return h*=y,u*=y,m*=y,x*=2,p*=2,f*=2,s[0]=i+h+x,s[1]=n+u+p,s[2]=a+m+f,s}const jm=function(){const s=[0,0,0],e=[0,0,0];return function(r,i){Er(s,r),Er(e,i),kr(s,s),kr(e,e);let n=Io(s,e);return n>1?0:n<-1?Math.PI:Math.acos(n)}}();function Nm(s,e){return s[0]===e[0]&&s[1]===e[1]&&s[2]===e[2]}class Se extends Array{constructor(e=0,r=e,i=e){return super(e,r,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,r=e,i=e){return e.length?this.copy(e):(cm(this,e,r,i),this)}copy(e){return Er(this,e),this}add(e,r){return r?Pn(this,e,r):Pn(this,this,e),this}sub(e,r){return r?Bn(this,e,r):Bn(this,this,e),this}multiply(e){return e.length?dm(this,this,e):Ys(this,this,e),this}divide(e){return e.length?hm(this,this,e):Ys(this,this,1/e),this}inverse(e=this){return fm(this,e),this}len(){return Mt(this)}distance(e){return e?um(this,e):Mt(this)}squaredLen(){return Rn(this)}squaredDistance(e){return e?mm(this,e):Rn(this)}negate(e=this){return xm(this,e),this}cross(e,r){return r?Un(this,e,r):Un(this,this,e),this}scale(e){return Ys(this,this,e),this}normalize(){return kr(this,this),this}dot(e){return Io(this,e)}equals(e){return Nm(this,e)}applyMatrix3(e){return ym(this,this,e),this}applyMatrix4(e){return bm(this,this,e),this}scaleRotateMatrix4(e){return wm(this,this,e),this}applyQuaternion(e){return vm(this,this,e),this}angle(e){return jm(this,e)}lerp(e,r){return pm(this,this,e,r),this}smoothLerp(e,r,i){return gm(this,this,e,r,i),this}clone(){return new Se(this[0],this[1],this[2])}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}transformDirection(e){const r=this[0],i=this[1],n=this[2];return this[0]=e[0]*r+e[4]*i+e[8]*n,this[1]=e[1]*r+e[5]*i+e[9]*n,this[2]=e[2]*r+e[6]*i+e[10]*n,this.normalize()}}const Mn=new Se;let Am=1,Sm=1,In=!1;class Cm{constructor(e,r={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=r,this.id=Am++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in r)this.addAttribute(i,r[i])}addAttribute(e,r){if(this.attributes[e]=r,r.id=Sm++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.usage=r.usage||this.gl.STATIC_DRAW,r.buffer||this.updateAttribute(r),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else e==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(e){const r=!e.buffer;r&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),r?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((r,{name:i,type:n})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const a=this.attributes[i];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let o=1;n===35674&&(o=2),n===35675&&(o=3),n===35676&&(o=4);const l=a.size/o,c=o===1?0:o*o*4,d=o===1?0:o*4;for(let h=0;h<o;h++)this.gl.vertexAttribPointer(r+h,l,a.type,a.normalized,a.stride+c,a.offset+h*d),this.gl.enableVertexAttribArray(r+h),this.gl.renderer.vertexAttribDivisor(r+h,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:r=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((n,{name:a})=>{const o=this.attributes[a];o.needsUpdate&&this.updateAttribute(o)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!In)return console.warn("No position buffer data found to compute bounds"),In=!0}computeBoundingBox(e){e||(e=this.getPosition());const r=e.data,i=e.size;this.bounds||(this.bounds={min:new Se,max:new Se,center:new Se,scale:new Se,radius:1/0});const n=this.bounds.min,a=this.bounds.max,o=this.bounds.center,l=this.bounds.scale;n.set(1/0),a.set(-1/0);for(let c=0,d=r.length;c<d;c+=i){const h=r[c],u=r[c+1],m=r[c+2];n.x=Math.min(h,n.x),n.y=Math.min(u,n.y),n.z=Math.min(m,n.z),a.x=Math.max(h,a.x),a.y=Math.max(u,a.y),a.z=Math.max(m,a.z)}l.sub(a,n),o.add(n,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const r=e.data,i=e.size;this.bounds||this.computeBoundingBox(e);let n=0;for(let a=0,o=r.length;a<o;a+=i)Mn.fromArray(r,a),n=Math.max(n,this.bounds.center.squaredDistance(Mn));this.bounds.radius=Math.sqrt(n)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let Em=1;const Ln={};class km{constructor(e,{vertex:r,fragment:i,uniforms:n={},transparent:a=!1,cullFace:o=e.BACK,frontFace:l=e.CCW,depthTest:c=!0,depthWrite:d=!0,depthFunc:h=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=n,this.id=Em++,r||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=o,this.frontFace=l,this.depthTest=c,this.depthWrite=d,this.depthFunc=h,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:r,fragment:i})}setShaders({vertex:e,fragment:r}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Fn(e)}`)),r&&(this.gl.shaderSource(this.fragmentShader,r),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Fn(r)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<i;o++){let l=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(l,this.gl.getUniformLocation(this.program,l.name));const c=l.name.match(/(\w+)/g);l.uniformName=c[0],l.nameComponents=c.slice(1)}this.attributeLocations=new Map;const n=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<a;o++){const l=this.gl.getActiveAttrib(this.program,o),c=this.gl.getAttribLocation(this.program,l.name);c!==-1&&(n[c]=l.name,this.attributeLocations.set(l,c))}this.attributeOrder=n.join("")}setBlendFunc(e,r,i,n){this.blendFunc.src=e,this.blendFunc.dst=r,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=n,e&&(this.transparent=!0)}setBlendEquation(e,r){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=r}setStencilFunc(e,r,i){this.stencilRef=r,this.stencilFunc.func=e,this.stencilFunc.ref=r,this.stencilFunc.mask=i}setStencilOp(e,r,i){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=r,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let r=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((n,a)=>{let o=this.uniforms[a.uniformName];for(const l of a.nameComponents){if(!o)break;if(l in o)o=o[l];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return Vn(`Active uniform ${a.name} has not been supplied`);if(o&&o.value===void 0)return Vn(`${a.name} uniform is missing a value parameter`);if(o.value.texture)return r=r+1,o.value.update(r),qs(this.gl,a.type,n,r);if(o.value.length&&o.value[0].texture){const l=[];return o.value.forEach(c=>{r=r+1,c.update(r),l.push(r)}),qs(this.gl,a.type,n,l)}qs(this.gl,a.type,n,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function qs(s,e,r,i){i=i.length?Tm(i):i;const n=s.renderer.state.uniformLocations.get(r);if(i.length)if(n===void 0||n.length!==i.length)s.renderer.state.uniformLocations.set(r,i.slice(0));else{if(Dm(n,i))return;n.set?n.set(i):Pm(n,i),s.renderer.state.uniformLocations.set(r,n)}else{if(n===i)return;s.renderer.state.uniformLocations.set(r,i)}switch(e){case 5126:return i.length?s.uniform1fv(r,i):s.uniform1f(r,i);case 35664:return s.uniform2fv(r,i);case 35665:return s.uniform3fv(r,i);case 35666:return s.uniform4fv(r,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?s.uniform1iv(r,i):s.uniform1i(r,i);case 35671:case 35667:return s.uniform2iv(r,i);case 35672:case 35668:return s.uniform3iv(r,i);case 35673:case 35669:return s.uniform4iv(r,i);case 35674:return s.uniformMatrix2fv(r,!1,i);case 35675:return s.uniformMatrix3fv(r,!1,i);case 35676:return s.uniformMatrix4fv(r,!1,i)}}function Fn(s){let e=s.split(`
`);for(let r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join(`
`)}function Tm(s){const e=s.length,r=s[0].length;if(r===void 0)return s;const i=e*r;let n=Ln[i];n||(Ln[i]=n=new Float32Array(i));for(let a=0;a<e;a++)n.set(s[a],a*r);return n}function Dm(s,e){if(s.length!==e.length)return!1;for(let r=0,i=s.length;r<i;r++)if(s[r]!==e[r])return!1;return!0}function Pm(s,e){for(let r=0,i=s.length;r<i;r++)s[r]=e[r]}let Gs=0;function Vn(s){Gs>100||(console.warn(s),Gs++,Gs>100&&console.warn("More than 100 program warnings - stopping logs."))}const Js=new Se;let Bm=1;class Rm{constructor({canvas:e=document.createElement("canvas"),width:r=300,height:i=150,dpr:n=1,alpha:a=!1,depth:o=!0,stencil:l=!1,antialias:c=!1,premultipliedAlpha:d=!1,preserveDrawingBuffer:h=!1,powerPreference:u="default",autoClear:m=!0,webgl:x=2}={}){const p={alpha:a,depth:o,stencil:l,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:h,powerPreference:u};this.dpr=n,this.alpha=a,this.color=!0,this.depth=o,this.stencil=l,this.premultipliedAlpha=d,this.autoClear=m,this.id=Bm++,x===2&&(this.gl=e.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",p)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,r){this.width=e,this.height=r,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=r*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:r+"px"})}setViewport(e,r,i=0,n=0){this.state.viewport.width===e&&this.state.viewport.height===r||(this.state.viewport.width=e,this.state.viewport.height=r,this.state.viewport.x=i,this.state.viewport.y=n,this.gl.viewport(i,n,e,r))}setScissor(e,r,i=0,n=0){this.gl.scissor(i,n,e,r)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,r,i,n){this.state.blendFunc.src===e&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===n||(this.state.blendFunc.src=e,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=n,i!==void 0?this.gl.blendFuncSeparate(e,r,i,n):this.gl.blendFunc(e,r))}setBlendEquation(e,r){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(e,r):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,r,i){this.state.stencilFunc===e&&this.state.stencilRef===r&&this.state.stencilFuncMask===i||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=r||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(e||this.gl.ALWAYS,r||0,i||0))}setStencilOp(e,r,i){this.state.stencilFail===e&&this.state.stencilDepthFail===r&&this.state.stencilDepthPass===i||(this.state.stencilFail=e,this.state.stencilDepthFail=r,this.state.stencilDepthPass=i,this.gl.stencilOp(e,r,i))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(e,r))}getExtension(e,r,i){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),r?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:e.zDepth!==r.zDepth?e.zDepth-r.zDepth:r.id-e.id}sortTransparent(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.zDepth!==r.zDepth?r.zDepth-e.zDepth:r.id-e.id}sortUI(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:r.id-e.id}getRenderList({scene:e,camera:r,frustumCull:i,sort:n}){let a=[];if(r&&i&&r.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(i&&o.frustumCulled&&r&&!r.frustumIntersectsMesh(o)||a.push(o))}),n){const o=[],l=[],c=[];a.forEach(d=>{d.program.transparent?d.program.depthTest?l.push(d):c.push(d):o.push(d),d.zDepth=0,!(d.renderOrder!==0||!d.program.depthTest||!r)&&(d.worldMatrix.getTranslation(Js),Js.applyMatrix4(r.projectionViewMatrix),d.zDepth=Js.z)}),o.sort(this.sortOpaque),l.sort(this.sortTransparent),c.sort(this.sortUI),a=o.concat(l,c)}return a}render({scene:e,camera:r,target:i=null,update:n=!0,sort:a=!0,frustumCull:o=!0,clear:l}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(l||this.autoClear&&l!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),n&&e.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:e,camera:r,frustumCull:o,sort:a}).forEach(d=>{d.draw({camera:r})})}}function Um(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s}function Mm(s,e,r,i,n){return s[0]=e,s[1]=r,s[2]=i,s[3]=n,s}function Im(s,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=r*r+i*i+n*n+a*a;return o>0&&(o=1/Math.sqrt(o)),s[0]=r*o,s[1]=i*o,s[2]=n*o,s[3]=a*o,s}function Lm(s,e){return s[0]*e[0]+s[1]*e[1]+s[2]*e[2]+s[3]*e[3]}function Fm(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=1,s}function Vm(s,e,r){r=r*.5;let i=Math.sin(r);return s[0]=i*e[0],s[1]=i*e[1],s[2]=i*e[2],s[3]=Math.cos(r),s}function On(s,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=r[0],c=r[1],d=r[2],h=r[3];return s[0]=i*h+o*l+n*d-a*c,s[1]=n*h+o*c+a*l-i*d,s[2]=a*h+o*d+i*c-n*l,s[3]=o*h-i*l-n*c-a*d,s}function Om(s,e,r){r*=.5;let i=e[0],n=e[1],a=e[2],o=e[3],l=Math.sin(r),c=Math.cos(r);return s[0]=i*c+o*l,s[1]=n*c+a*l,s[2]=a*c-n*l,s[3]=o*c-i*l,s}function _m(s,e,r){r*=.5;let i=e[0],n=e[1],a=e[2],o=e[3],l=Math.sin(r),c=Math.cos(r);return s[0]=i*c-a*l,s[1]=n*c+o*l,s[2]=a*c+i*l,s[3]=o*c-n*l,s}function $m(s,e,r){r*=.5;let i=e[0],n=e[1],a=e[2],o=e[3],l=Math.sin(r),c=Math.cos(r);return s[0]=i*c+n*l,s[1]=n*c-i*l,s[2]=a*c+o*l,s[3]=o*c-a*l,s}function zm(s,e,r,i){let n=e[0],a=e[1],o=e[2],l=e[3],c=r[0],d=r[1],h=r[2],u=r[3],m,x,p,f,y;return x=n*c+a*d+o*h+l*u,x<0&&(x=-x,c=-c,d=-d,h=-h,u=-u),1-x>1e-6?(m=Math.acos(x),p=Math.sin(m),f=Math.sin((1-i)*m)/p,y=Math.sin(i*m)/p):(f=1-i,y=i),s[0]=f*n+y*c,s[1]=f*a+y*d,s[2]=f*o+y*h,s[3]=f*l+y*u,s}function Qm(s,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=r*r+i*i+n*n+a*a,l=o?1/o:0;return s[0]=-r*l,s[1]=-i*l,s[2]=-n*l,s[3]=a*l,s}function Wm(s,e){return s[0]=-e[0],s[1]=-e[1],s[2]=-e[2],s[3]=e[3],s}function Hm(s,e){let r=e[0]+e[4]+e[8],i;if(r>0)i=Math.sqrt(r+1),s[3]=.5*i,i=.5/i,s[0]=(e[5]-e[7])*i,s[1]=(e[6]-e[2])*i,s[2]=(e[1]-e[3])*i;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[n*3+n]&&(n=2);let a=(n+1)%3,o=(n+2)%3;i=Math.sqrt(e[n*3+n]-e[a*3+a]-e[o*3+o]+1),s[n]=.5*i,i=.5/i,s[3]=(e[a*3+o]-e[o*3+a])*i,s[a]=(e[a*3+n]+e[n*3+a])*i,s[o]=(e[o*3+n]+e[n*3+o])*i}return s}function Km(s,e,r="YXZ"){let i=Math.sin(e[0]*.5),n=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),l=Math.sin(e[2]*.5),c=Math.cos(e[2]*.5);return r==="XYZ"?(s[0]=i*o*c+n*a*l,s[1]=n*a*c-i*o*l,s[2]=n*o*l+i*a*c,s[3]=n*o*c-i*a*l):r==="YXZ"?(s[0]=i*o*c+n*a*l,s[1]=n*a*c-i*o*l,s[2]=n*o*l-i*a*c,s[3]=n*o*c+i*a*l):r==="ZXY"?(s[0]=i*o*c-n*a*l,s[1]=n*a*c+i*o*l,s[2]=n*o*l+i*a*c,s[3]=n*o*c-i*a*l):r==="ZYX"?(s[0]=i*o*c-n*a*l,s[1]=n*a*c+i*o*l,s[2]=n*o*l-i*a*c,s[3]=n*o*c+i*a*l):r==="YZX"?(s[0]=i*o*c+n*a*l,s[1]=n*a*c+i*o*l,s[2]=n*o*l-i*a*c,s[3]=n*o*c-i*a*l):r==="XZY"&&(s[0]=i*o*c-n*a*l,s[1]=n*a*c-i*o*l,s[2]=n*o*l+i*a*c,s[3]=n*o*c+i*a*l),s}const Ym=Um,qm=Mm,Gm=Lm,Jm=Im;class Xm extends Array{constructor(e=0,r=0,i=0,n=1){super(e,r,i,n),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(o,l){const c=Reflect.set(...arguments);return c&&a.includes(l)&&o.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Fm(this._target),this.onChange(),this}set(e,r,i,n){return e.length?this.copy(e):(qm(this._target,e,r,i,n),this.onChange(),this)}rotateX(e){return Om(this._target,this._target,e),this.onChange(),this}rotateY(e){return _m(this._target,this._target,e),this.onChange(),this}rotateZ(e){return $m(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Qm(this._target,e),this.onChange(),this}conjugate(e=this._target){return Wm(this._target,e),this.onChange(),this}copy(e){return Ym(this._target,e),this.onChange(),this}normalize(e=this._target){return Jm(this._target,e),this.onChange(),this}multiply(e,r){return r?On(this._target,e,r):On(this._target,this._target,e),this.onChange(),this}dot(e){return Gm(this._target,e)}fromMatrix3(e){return Hm(this._target,e),this.onChange(),this}fromEuler(e,r){return Km(this._target,e,e.order),r||this.onChange(),this}fromAxisAngle(e,r){return Vm(this._target,e,r),this.onChange(),this}slerp(e,r){return zm(this._target,this._target,e,r),this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this._target[3]=e[r+3],this.onChange(),this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e}}const Zm=1e-6;function ex(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5],s[6]=e[6],s[7]=e[7],s[8]=e[8],s[9]=e[9],s[10]=e[10],s[11]=e[11],s[12]=e[12],s[13]=e[13],s[14]=e[14],s[15]=e[15],s}function tx(s,e,r,i,n,a,o,l,c,d,h,u,m,x,p,f,y){return s[0]=e,s[1]=r,s[2]=i,s[3]=n,s[4]=a,s[5]=o,s[6]=l,s[7]=c,s[8]=d,s[9]=h,s[10]=u,s[11]=m,s[12]=x,s[13]=p,s[14]=f,s[15]=y,s}function sx(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function rx(s,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=e[4],l=e[5],c=e[6],d=e[7],h=e[8],u=e[9],m=e[10],x=e[11],p=e[12],f=e[13],y=e[14],w=e[15],A=r*l-i*o,g=r*c-n*o,j=r*d-a*o,C=i*c-n*l,k=i*d-a*l,P=n*d-a*c,I=h*f-u*p,O=h*y-m*p,S=h*w-x*p,U=u*y-m*f,T=u*w-x*f,L=m*w-x*y,N=A*L-g*T+j*U+C*S-k*O+P*I;return N?(N=1/N,s[0]=(l*L-c*T+d*U)*N,s[1]=(n*T-i*L-a*U)*N,s[2]=(f*P-y*k+w*C)*N,s[3]=(m*k-u*P-x*C)*N,s[4]=(c*S-o*L-d*O)*N,s[5]=(r*L-n*S+a*O)*N,s[6]=(y*j-p*P-w*g)*N,s[7]=(h*P-m*j+x*g)*N,s[8]=(o*T-l*S+d*I)*N,s[9]=(i*S-r*T-a*I)*N,s[10]=(p*k-f*j+w*A)*N,s[11]=(u*j-h*k-x*A)*N,s[12]=(l*O-o*U-c*I)*N,s[13]=(r*U-i*O+n*I)*N,s[14]=(f*g-p*C-y*A)*N,s[15]=(h*C-u*g+m*A)*N,s):null}function Lo(s){let e=s[0],r=s[1],i=s[2],n=s[3],a=s[4],o=s[5],l=s[6],c=s[7],d=s[8],h=s[9],u=s[10],m=s[11],x=s[12],p=s[13],f=s[14],y=s[15],w=e*o-r*a,A=e*l-i*a,g=e*c-n*a,j=r*l-i*o,C=r*c-n*o,k=i*c-n*l,P=d*p-h*x,I=d*f-u*x,O=d*y-m*x,S=h*f-u*p,U=h*y-m*p,T=u*y-m*f;return w*T-A*U+g*S+j*O-C*I+k*P}function _n(s,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=e[4],c=e[5],d=e[6],h=e[7],u=e[8],m=e[9],x=e[10],p=e[11],f=e[12],y=e[13],w=e[14],A=e[15],g=r[0],j=r[1],C=r[2],k=r[3];return s[0]=g*i+j*l+C*u+k*f,s[1]=g*n+j*c+C*m+k*y,s[2]=g*a+j*d+C*x+k*w,s[3]=g*o+j*h+C*p+k*A,g=r[4],j=r[5],C=r[6],k=r[7],s[4]=g*i+j*l+C*u+k*f,s[5]=g*n+j*c+C*m+k*y,s[6]=g*a+j*d+C*x+k*w,s[7]=g*o+j*h+C*p+k*A,g=r[8],j=r[9],C=r[10],k=r[11],s[8]=g*i+j*l+C*u+k*f,s[9]=g*n+j*c+C*m+k*y,s[10]=g*a+j*d+C*x+k*w,s[11]=g*o+j*h+C*p+k*A,g=r[12],j=r[13],C=r[14],k=r[15],s[12]=g*i+j*l+C*u+k*f,s[13]=g*n+j*c+C*m+k*y,s[14]=g*a+j*d+C*x+k*w,s[15]=g*o+j*h+C*p+k*A,s}function ix(s,e,r){let i=r[0],n=r[1],a=r[2],o,l,c,d,h,u,m,x,p,f,y,w;return e===s?(s[12]=e[0]*i+e[4]*n+e[8]*a+e[12],s[13]=e[1]*i+e[5]*n+e[9]*a+e[13],s[14]=e[2]*i+e[6]*n+e[10]*a+e[14],s[15]=e[3]*i+e[7]*n+e[11]*a+e[15]):(o=e[0],l=e[1],c=e[2],d=e[3],h=e[4],u=e[5],m=e[6],x=e[7],p=e[8],f=e[9],y=e[10],w=e[11],s[0]=o,s[1]=l,s[2]=c,s[3]=d,s[4]=h,s[5]=u,s[6]=m,s[7]=x,s[8]=p,s[9]=f,s[10]=y,s[11]=w,s[12]=o*i+h*n+p*a+e[12],s[13]=l*i+u*n+f*a+e[13],s[14]=c*i+m*n+y*a+e[14],s[15]=d*i+x*n+w*a+e[15]),s}function nx(s,e,r){let i=r[0],n=r[1],a=r[2];return s[0]=e[0]*i,s[1]=e[1]*i,s[2]=e[2]*i,s[3]=e[3]*i,s[4]=e[4]*n,s[5]=e[5]*n,s[6]=e[6]*n,s[7]=e[7]*n,s[8]=e[8]*a,s[9]=e[9]*a,s[10]=e[10]*a,s[11]=e[11]*a,s[12]=e[12],s[13]=e[13],s[14]=e[14],s[15]=e[15],s}function ax(s,e,r,i){let n=i[0],a=i[1],o=i[2],l=Math.hypot(n,a,o),c,d,h,u,m,x,p,f,y,w,A,g,j,C,k,P,I,O,S,U,T,L,N,E;return Math.abs(l)<Zm?null:(l=1/l,n*=l,a*=l,o*=l,c=Math.sin(r),d=Math.cos(r),h=1-d,u=e[0],m=e[1],x=e[2],p=e[3],f=e[4],y=e[5],w=e[6],A=e[7],g=e[8],j=e[9],C=e[10],k=e[11],P=n*n*h+d,I=a*n*h+o*c,O=o*n*h-a*c,S=n*a*h-o*c,U=a*a*h+d,T=o*a*h+n*c,L=n*o*h+a*c,N=a*o*h-n*c,E=o*o*h+d,s[0]=u*P+f*I+g*O,s[1]=m*P+y*I+j*O,s[2]=x*P+w*I+C*O,s[3]=p*P+A*I+k*O,s[4]=u*S+f*U+g*T,s[5]=m*S+y*U+j*T,s[6]=x*S+w*U+C*T,s[7]=p*S+A*U+k*T,s[8]=u*L+f*N+g*E,s[9]=m*L+y*N+j*E,s[10]=x*L+w*N+C*E,s[11]=p*L+A*N+k*E,e!==s&&(s[12]=e[12],s[13]=e[13],s[14]=e[14],s[15]=e[15]),s)}function ox(s,e){return s[0]=e[12],s[1]=e[13],s[2]=e[14],s}function Fo(s,e){let r=e[0],i=e[1],n=e[2],a=e[4],o=e[5],l=e[6],c=e[8],d=e[9],h=e[10];return s[0]=Math.hypot(r,i,n),s[1]=Math.hypot(a,o,l),s[2]=Math.hypot(c,d,h),s}function lx(s){let e=s[0],r=s[1],i=s[2],n=s[4],a=s[5],o=s[6],l=s[8],c=s[9],d=s[10];const h=e*e+r*r+i*i,u=n*n+a*a+o*o,m=l*l+c*c+d*d;return Math.sqrt(Math.max(h,u,m))}const Vo=function(){const s=[1,1,1];return function(e,r){let i=s;Fo(i,r);let n=1/i[0],a=1/i[1],o=1/i[2],l=r[0]*n,c=r[1]*a,d=r[2]*o,h=r[4]*n,u=r[5]*a,m=r[6]*o,x=r[8]*n,p=r[9]*a,f=r[10]*o,y=l+u+f,w=0;return y>0?(w=Math.sqrt(y+1)*2,e[3]=.25*w,e[0]=(m-p)/w,e[1]=(x-d)/w,e[2]=(c-h)/w):l>u&&l>f?(w=Math.sqrt(1+l-u-f)*2,e[3]=(m-p)/w,e[0]=.25*w,e[1]=(c+h)/w,e[2]=(x+d)/w):u>f?(w=Math.sqrt(1+u-l-f)*2,e[3]=(x-d)/w,e[0]=(c+h)/w,e[1]=.25*w,e[2]=(m+p)/w):(w=Math.sqrt(1+f-l-u)*2,e[3]=(c-h)/w,e[0]=(x+d)/w,e[1]=(m+p)/w,e[2]=.25*w),e}}();function cx(s,e,r,i){let n=Mt([s[0],s[1],s[2]]);const a=Mt([s[4],s[5],s[6]]),o=Mt([s[8],s[9],s[10]]);Lo(s)<0&&(n=-n),r[0]=s[12],r[1]=s[13],r[2]=s[14];const c=s.slice(),d=1/n,h=1/a,u=1/o;c[0]*=d,c[1]*=d,c[2]*=d,c[4]*=h,c[5]*=h,c[6]*=h,c[8]*=u,c[9]*=u,c[10]*=u,Vo(e,c),i[0]=n,i[1]=a,i[2]=o}function dx(s,e,r,i){const n=s,a=e[0],o=e[1],l=e[2],c=e[3],d=a+a,h=o+o,u=l+l,m=a*d,x=a*h,p=a*u,f=o*h,y=o*u,w=l*u,A=c*d,g=c*h,j=c*u,C=i[0],k=i[1],P=i[2];return n[0]=(1-(f+w))*C,n[1]=(x+j)*C,n[2]=(p-g)*C,n[3]=0,n[4]=(x-j)*k,n[5]=(1-(m+w))*k,n[6]=(y+A)*k,n[7]=0,n[8]=(p+g)*P,n[9]=(y-A)*P,n[10]=(1-(m+f))*P,n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function hx(s,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=r+r,l=i+i,c=n+n,d=r*o,h=i*o,u=i*l,m=n*o,x=n*l,p=n*c,f=a*o,y=a*l,w=a*c;return s[0]=1-u-p,s[1]=h+w,s[2]=m-y,s[3]=0,s[4]=h-w,s[5]=1-d-p,s[6]=x+f,s[7]=0,s[8]=m+y,s[9]=x-f,s[10]=1-d-u,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function ux(s,e,r,i,n){let a=1/Math.tan(e/2),o=1/(i-n);return s[0]=a/r,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=a,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(n+i)*o,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*n*i*o,s[15]=0,s}function mx(s,e,r,i,n,a,o){let l=1/(e-r),c=1/(i-n),d=1/(a-o);return s[0]=-2*l,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*c,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*d,s[11]=0,s[12]=(e+r)*l,s[13]=(n+i)*c,s[14]=(o+a)*d,s[15]=1,s}function xx(s,e,r,i){let n=e[0],a=e[1],o=e[2],l=i[0],c=i[1],d=i[2],h=n-r[0],u=a-r[1],m=o-r[2],x=h*h+u*u+m*m;x===0?m=1:(x=1/Math.sqrt(x),h*=x,u*=x,m*=x);let p=c*m-d*u,f=d*h-l*m,y=l*u-c*h;return x=p*p+f*f+y*y,x===0&&(d?l+=1e-6:c?d+=1e-6:c+=1e-6,p=c*m-d*u,f=d*h-l*m,y=l*u-c*h,x=p*p+f*f+y*y),x=1/Math.sqrt(x),p*=x,f*=x,y*=x,s[0]=p,s[1]=f,s[2]=y,s[3]=0,s[4]=u*y-m*f,s[5]=m*p-h*y,s[6]=h*f-u*p,s[7]=0,s[8]=h,s[9]=u,s[10]=m,s[11]=0,s[12]=n,s[13]=a,s[14]=o,s[15]=1,s}function $n(s,e,r){return s[0]=e[0]+r[0],s[1]=e[1]+r[1],s[2]=e[2]+r[2],s[3]=e[3]+r[3],s[4]=e[4]+r[4],s[5]=e[5]+r[5],s[6]=e[6]+r[6],s[7]=e[7]+r[7],s[8]=e[8]+r[8],s[9]=e[9]+r[9],s[10]=e[10]+r[10],s[11]=e[11]+r[11],s[12]=e[12]+r[12],s[13]=e[13]+r[13],s[14]=e[14]+r[14],s[15]=e[15]+r[15],s}function zn(s,e,r){return s[0]=e[0]-r[0],s[1]=e[1]-r[1],s[2]=e[2]-r[2],s[3]=e[3]-r[3],s[4]=e[4]-r[4],s[5]=e[5]-r[5],s[6]=e[6]-r[6],s[7]=e[7]-r[7],s[8]=e[8]-r[8],s[9]=e[9]-r[9],s[10]=e[10]-r[10],s[11]=e[11]-r[11],s[12]=e[12]-r[12],s[13]=e[13]-r[13],s[14]=e[14]-r[14],s[15]=e[15]-r[15],s}function fx(s,e,r){return s[0]=e[0]*r,s[1]=e[1]*r,s[2]=e[2]*r,s[3]=e[3]*r,s[4]=e[4]*r,s[5]=e[5]*r,s[6]=e[6]*r,s[7]=e[7]*r,s[8]=e[8]*r,s[9]=e[9]*r,s[10]=e[10]*r,s[11]=e[11]*r,s[12]=e[12]*r,s[13]=e[13]*r,s[14]=e[14]*r,s[15]=e[15]*r,s}class us extends Array{constructor(e=1,r=0,i=0,n=0,a=0,o=1,l=0,c=0,d=0,h=0,u=1,m=0,x=0,p=0,f=0,y=1){return super(e,r,i,n,a,o,l,c,d,h,u,m,x,p,f,y),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,r,i,n,a,o,l,c,d,h,u,m,x,p,f,y){return e.length?this.copy(e):(tx(this,e,r,i,n,a,o,l,c,d,h,u,m,x,p,f,y),this)}translate(e,r=this){return ix(this,r,e),this}rotate(e,r,i=this){return ax(this,i,e,r),this}scale(e,r=this){return nx(this,r,typeof e=="number"?[e,e,e]:e),this}add(e,r){return r?$n(this,e,r):$n(this,this,e),this}sub(e,r){return r?zn(this,e,r):zn(this,this,e),this}multiply(e,r){return e.length?r?_n(this,e,r):_n(this,this,e):fx(this,this,e),this}identity(){return sx(this),this}copy(e){return ex(this,e),this}fromPerspective({fov:e,aspect:r,near:i,far:n}={}){return ux(this,e,r,i,n),this}fromOrthogonal({left:e,right:r,bottom:i,top:n,near:a,far:o}){return mx(this,e,r,i,n,a,o),this}fromQuaternion(e){return hx(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return rx(this,e),this}compose(e,r,i){return dx(this,e,r,i),this}decompose(e,r,i){return cx(this,e,r,i),this}getRotation(e){return Vo(e,this),this}getTranslation(e){return ox(e,this),this}getScaling(e){return Fo(e,this),this}getMaxScaleOnAxis(){return lx(this)}lookAt(e,r,i){return xx(this,e,r,i),this}determinant(){return Lo(this)}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this[3]=e[r+3],this[4]=e[r+4],this[5]=e[r+5],this[6]=e[r+6],this[7]=e[r+7],this[8]=e[r+8],this[9]=e[r+9],this[10]=e[r+10],this[11]=e[r+11],this[12]=e[r+12],this[13]=e[r+13],this[14]=e[r+14],this[15]=e[r+15],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e[r+4]=this[4],e[r+5]=this[5],e[r+6]=this[6],e[r+7]=this[7],e[r+8]=this[8],e[r+9]=this[9],e[r+10]=this[10],e[r+11]=this[11],e[r+12]=this[12],e[r+13]=this[13],e[r+14]=this[14],e[r+15]=this[15],e}}function px(s,e,r="YXZ"){return r==="XYZ"?(s[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(s[0]=Math.atan2(-e[9],e[10]),s[2]=Math.atan2(-e[4],e[0])):(s[0]=Math.atan2(e[6],e[5]),s[2]=0)):r==="YXZ"?(s[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(s[1]=Math.atan2(e[8],e[10]),s[2]=Math.atan2(e[1],e[5])):(s[1]=Math.atan2(-e[2],e[0]),s[2]=0)):r==="ZXY"?(s[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(s[1]=Math.atan2(-e[2],e[10]),s[2]=Math.atan2(-e[4],e[5])):(s[1]=0,s[2]=Math.atan2(e[1],e[0]))):r==="ZYX"?(s[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(s[0]=Math.atan2(e[6],e[10]),s[2]=Math.atan2(e[1],e[0])):(s[0]=0,s[2]=Math.atan2(-e[4],e[5]))):r==="YZX"?(s[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(s[0]=Math.atan2(-e[9],e[5]),s[1]=Math.atan2(-e[2],e[0])):(s[0]=0,s[1]=Math.atan2(e[8],e[10]))):r==="XZY"&&(s[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(s[0]=Math.atan2(e[6],e[5]),s[1]=Math.atan2(e[8],e[0])):(s[0]=Math.atan2(-e[9],e[10]),s[1]=0)),s}const Qn=new us;class gx extends Array{constructor(e=0,r=e,i=e,n="YXZ"){super(e,r,i),this.order=n,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(o,l){const c=Reflect.set(...arguments);return c&&a.includes(l)&&o.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,r=e,i=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=r,this._target[2]=i,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,r=this.order){return px(this._target,e,r),this.onChange(),this}fromQuaternion(e,r=this.order,i){return Qn.fromQuaternion(e),this._target.fromRotationMatrix(Qn,r),i||this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}}class bx{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new us,this.worldMatrix=new us,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Se,this.quaternion=new Xm,this.scale=new Se(1),this.rotation=new gx,this.up=new Se(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,r=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,r&&e&&e.addChild(this,!1)}addChild(e,r=!0){~this.children.indexOf(e)||this.children.push(e),r&&e.setParent(this,!1)}removeChild(e,r=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),r&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let r=0,i=this.children.length;r<i;r++)this.children[r].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let r=0,i=this.children.length;r<i;r++)this.children[r].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,r=!1){r?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function wx(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[4],s[4]=e[5],s[5]=e[6],s[6]=e[8],s[7]=e[9],s[8]=e[10],s}function yx(s,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=r+r,l=i+i,c=n+n,d=r*o,h=i*o,u=i*l,m=n*o,x=n*l,p=n*c,f=a*o,y=a*l,w=a*c;return s[0]=1-u-p,s[3]=h-w,s[6]=m+y,s[1]=h+w,s[4]=1-d-p,s[7]=x-f,s[2]=m-y,s[5]=x+f,s[8]=1-d-u,s}function vx(s,e){return s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=e[3],s[4]=e[4],s[5]=e[5],s[6]=e[6],s[7]=e[7],s[8]=e[8],s}function jx(s,e,r,i,n,a,o,l,c,d){return s[0]=e,s[1]=r,s[2]=i,s[3]=n,s[4]=a,s[5]=o,s[6]=l,s[7]=c,s[8]=d,s}function Nx(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s}function Ax(s,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=e[4],l=e[5],c=e[6],d=e[7],h=e[8],u=h*o-l*d,m=-h*a+l*c,x=d*a-o*c,p=r*u+i*m+n*x;return p?(p=1/p,s[0]=u*p,s[1]=(-h*i+n*d)*p,s[2]=(l*i-n*o)*p,s[3]=m*p,s[4]=(h*r-n*c)*p,s[5]=(-l*r+n*a)*p,s[6]=x*p,s[7]=(-d*r+i*c)*p,s[8]=(o*r-i*a)*p,s):null}function Wn(s,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=e[4],c=e[5],d=e[6],h=e[7],u=e[8],m=r[0],x=r[1],p=r[2],f=r[3],y=r[4],w=r[5],A=r[6],g=r[7],j=r[8];return s[0]=m*i+x*o+p*d,s[1]=m*n+x*l+p*h,s[2]=m*a+x*c+p*u,s[3]=f*i+y*o+w*d,s[4]=f*n+y*l+w*h,s[5]=f*a+y*c+w*u,s[6]=A*i+g*o+j*d,s[7]=A*n+g*l+j*h,s[8]=A*a+g*c+j*u,s}function Sx(s,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=e[4],c=e[5],d=e[6],h=e[7],u=e[8],m=r[0],x=r[1];return s[0]=i,s[1]=n,s[2]=a,s[3]=o,s[4]=l,s[5]=c,s[6]=m*i+x*o+d,s[7]=m*n+x*l+h,s[8]=m*a+x*c+u,s}function Cx(s,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=e[4],c=e[5],d=e[6],h=e[7],u=e[8],m=Math.sin(r),x=Math.cos(r);return s[0]=x*i+m*o,s[1]=x*n+m*l,s[2]=x*a+m*c,s[3]=x*o-m*i,s[4]=x*l-m*n,s[5]=x*c-m*a,s[6]=d,s[7]=h,s[8]=u,s}function Ex(s,e,r){let i=r[0],n=r[1];return s[0]=i*e[0],s[1]=i*e[1],s[2]=i*e[2],s[3]=n*e[3],s[4]=n*e[4],s[5]=n*e[5],s[6]=e[6],s[7]=e[7],s[8]=e[8],s}function kx(s,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=e[4],l=e[5],c=e[6],d=e[7],h=e[8],u=e[9],m=e[10],x=e[11],p=e[12],f=e[13],y=e[14],w=e[15],A=r*l-i*o,g=r*c-n*o,j=r*d-a*o,C=i*c-n*l,k=i*d-a*l,P=n*d-a*c,I=h*f-u*p,O=h*y-m*p,S=h*w-x*p,U=u*y-m*f,T=u*w-x*f,L=m*w-x*y,N=A*L-g*T+j*U+C*S-k*O+P*I;return N?(N=1/N,s[0]=(l*L-c*T+d*U)*N,s[1]=(c*S-o*L-d*O)*N,s[2]=(o*T-l*S+d*I)*N,s[3]=(n*T-i*L-a*U)*N,s[4]=(r*L-n*S+a*O)*N,s[5]=(i*S-r*T-a*I)*N,s[6]=(f*P-y*k+w*C)*N,s[7]=(y*j-p*P-w*g)*N,s[8]=(p*k-f*j+w*A)*N,s):null}class Tx extends Array{constructor(e=1,r=0,i=0,n=0,a=1,o=0,l=0,c=0,d=1){return super(e,r,i,n,a,o,l,c,d),this}set(e,r,i,n,a,o,l,c,d){return e.length?this.copy(e):(jx(this,e,r,i,n,a,o,l,c,d),this)}translate(e,r=this){return Sx(this,r,e),this}rotate(e,r=this){return Cx(this,r,e),this}scale(e,r=this){return Ex(this,r,e),this}multiply(e,r){return r?Wn(this,e,r):Wn(this,this,e),this}identity(){return Nx(this),this}copy(e){return vx(this,e),this}fromMatrix4(e){return wx(this,e),this}fromQuaternion(e){return yx(this,e),this}fromBasis(e,r,i){return this.set(e[0],e[1],e[2],r[0],r[1],r[2],i[0],i[1],i[2]),this}inverse(e=this){return Ax(this,e),this}getNormalMatrix(e){return kx(this,e),this}}let Dx=0;class Px extends bx{constructor(e,{geometry:r,program:i,mode:n=e.TRIANGLES,frustumCulled:a=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=Dx++,this.geometry=r,this.program=i,this.mode=n,this.frustumCulled=a,this.renderOrder=o,this.modelViewMatrix=new us,this.normalMatrix=new Tx,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}));let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}))}}const Hn={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function Kn(s){s.length===4&&(s=s[0]+s[1]+s[1]+s[2]+s[2]+s[3]+s[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e||console.warn(`Unable to convert hex string ${s} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function Bx(s){return s=parseInt(s),[(s>>16&255)/255,(s>>8&255)/255,(s&255)/255]}function Yn(s){return s===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(s)?s[0]==="#"?Kn(s):Hn[s.toLowerCase()]?Kn(Hn[s.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Bx(s)}class qn extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...Yn(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(Yn(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class Rx extends Cm{constructor(e,{attributes:r={}}={}){Object.assign(r,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,r)}}const Ux=`#version 300 es
in vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}
`,Mx=`#version 300 es
precision highp float;

uniform float uTime;
uniform float uAmplitude;
uniform vec3 uColorStops[3];
uniform vec2 uResolution;
uniform float uBlend;

out vec4 fragColor;

vec3 permute(vec3 x) {
  return mod(((x * 34.0) + 1.0) * x, 289.0);
}

float snoise(vec2 v){
  const vec4 C = vec4(
      0.211324865405187, 0.366025403784439,
      -0.577350269189626, 0.024390243902439
  );
  vec2 i  = floor(v + dot(v, C.yy));
  vec2 x0 = v - i + dot(i, C.xx);
  vec2 i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);

  vec3 p = permute(
      permute(i.y + vec3(0.0, i1.y, 1.0))
    + i.x + vec3(0.0, i1.x, 1.0)
  );

  vec3 m = max(
      0.5 - vec3(
          dot(x0, x0),
          dot(x12.xy, x12.xy),
          dot(x12.zw, x12.zw)
      ), 
      0.0
  );
  m = m * m;
  m = m * m;

  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);

  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}

struct ColorStop {
  vec3 color;
  float position;
};

#define COLOR_RAMP(colors, factor, finalColor) {                int index = 0;                                              for (int i = 0; i < 2; i++) {                                    ColorStop currentColor = colors[i];                         bool isInBetween = currentColor.position <= factor;         index = int(mix(float(index), float(i), float(isInBetween)));   }                                                           ColorStop currentColor = colors[index];                     ColorStop nextColor = colors[index + 1];                    float range = nextColor.position - currentColor.position;   float lerpFactor = (factor - currentColor.position) / range;   finalColor = mix(currentColor.color, nextColor.color, lerpFactor); }

void main() {
  vec2 uv = gl_FragCoord.xy / uResolution;
  
  ColorStop colors[3];
  colors[0] = ColorStop(uColorStops[0], 0.0);
  colors[1] = ColorStop(uColorStops[1], 0.5);
  colors[2] = ColorStop(uColorStops[2], 1.0);
  
  vec3 rampColor;
  COLOR_RAMP(colors, uv.x, rampColor);
  
  float height = snoise(vec2(uv.x * 2.0 + uTime * 0.1, uTime * 0.25)) * 0.5 * uAmplitude;
  height = exp(height);
  height = (uv.y * 2.0 - height + 0.2);
  float intensity = 0.6 * height;
  
  float midPoint = 0.20;
  float auroraAlpha = smoothstep(midPoint - uBlend * 0.5, midPoint + uBlend * 0.5, intensity);
  
  vec3 auroraColor = intensity * rampColor;
  
  fragColor = vec4(auroraColor * auroraAlpha, auroraAlpha);
}
`;function Ve(s){const{colorStops:e=["#5227FF","#7cff67","#5227FF"],amplitude:r=1,blend:i=.5}=s,n=b.useRef(s);n.current=s;const a=b.useRef(null);return b.useEffect(()=>{const o=a.current;if(!o)return;const l=new Rm({alpha:!0,premultipliedAlpha:!0,antialias:!0}),c=l.gl;c.clearColor(0,0,0,0),c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),c.canvas.style.backgroundColor="transparent";let d;function h(){if(!o)return;const y=o.offsetWidth,w=o.offsetHeight;l.setSize(y,w),d&&(d.uniforms.uResolution.value=[y,w])}window.addEventListener("resize",h);const u=new Rx(c);u.attributes.uv&&delete u.attributes.uv;const m=e.map(y=>{const w=new qn(y);return[w.r,w.g,w.b]});d=new km(c,{vertex:Ux,fragment:Mx,uniforms:{uTime:{value:0},uAmplitude:{value:r},uColorStops:{value:m},uResolution:{value:[o.offsetWidth,o.offsetHeight]},uBlend:{value:i}}});const x=new Px(c,{geometry:u,program:d});o.appendChild(c.canvas);let p=0;const f=y=>{p=requestAnimationFrame(f);const{time:w=y*.01,speed:A=1}=n.current;d.uniforms.uTime.value=w*A*.1,d.uniforms.uAmplitude.value=n.current.amplitude??1,d.uniforms.uBlend.value=n.current.blend??i;const g=n.current.colorStops??e;d.uniforms.uColorStops.value=g.map(j=>{const C=new qn(j);return[C.r,C.g,C.b]}),l.render({scene:x})};return p=requestAnimationFrame(f),h(),()=>{cancelAnimationFrame(p),window.removeEventListener("resize",h),o&&c.canvas.parentNode===o&&o.removeChild(c.canvas),c.getExtension("WEBGL_lose_context")?.loseContext()}},[r]),t.jsx("div",{ref:a,className:"aurora-container"})}const Ix=({onAuth:s})=>{const e=Vt(),[r,i]=b.useState(!1),[n,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[h,u]=b.useState(!1),[m,x]=b.useState(!1),[p,f]=b.useState(!1),[y,w]=b.useState(!1),[A,g]=b.useState({x:0,y:0}),[j,C]=b.useState("home"),P=new URLSearchParams(window.location.search).get("ref"),I=()=>{s(P||void 0)};b.useEffect(()=>{const U=T=>{g({x:T.clientX,y:T.clientY})};return window.addEventListener("mousemove",U),()=>window.removeEventListener("mousemove",U)},[]);const O=["Beginner-Friendly Interface","Worldwide Access","No Hidden Fees","Instant Withdrawals","24/7 Support"],S=[{rate:"22,398+",amount:"Active Users"},{rate:"$5,213+",amount:"Daily Payouts"},{rate:"$2.4M+",amount:"Total Earned"}];return j==="how-it-works"?t.jsx(lm,{onBack:()=>C("home")}):t.jsxs("div",{className:"relative min-h-screen w-full overflow-x-hidden",children:[t.jsx(Ve,{}),t.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-transparent backdrop-blur-xl border-b border-white/10",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-20 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{className:"flex items-center space-x-2",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:t.jsx(ue,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-white",children:"AdMoney"})]}),t.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[t.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"Home"}),t.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>e("/about"),children:"About"}),t.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>C("how-it-works"),children:"How It Works"}),t.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>e("/features"),children:"Features"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>{I()},children:"Login"}),t.jsx("button",{onClick:I,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-2 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-purple-500/25",children:"Sign Up"})]})]})})}),r&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 max-w-lg w-full relative border border-white/20",children:[t.jsx("button",{className:"absolute top-3 right-3 text-white/60 hover:text-white",onClick:()=>i(!1),children:t.jsx(Pr,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Learn More"}),t.jsx("p",{className:"text-white/80 mb-2",children:"AdMoney lets you earn USDT by watching ads, referring friends, and more. Withdraw instantly, no KYC required!"}),t.jsxs("ul",{className:"list-disc pl-6 text-white/80 mb-2",children:[t.jsx("li",{children:"Watch ads, earn crypto"}),t.jsx("li",{children:"Invite friends for bonuses"}),t.jsx("li",{children:"Withdraw to your wallet anytime"})]}),t.jsx("button",{className:"mt-4 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-2 rounded-lg font-semibold",onClick:()=>i(!1),children:"Close"})]})}),n&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 max-w-lg w-full relative border border-white/20",children:[t.jsx("button",{className:"absolute top-3 right-3 text-white/60 hover:text-white",onClick:()=>a(!1),children:t.jsx(el,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"How It Works"}),t.jsxs("ol",{className:"list-decimal pl-6 text-white/80 mb-2",children:[t.jsx("li",{children:"Sign up and verify your email"}),t.jsx("li",{children:"Watch ads and complete simple tasks"}),t.jsx("li",{children:"Earn USDT instantly to your balance"}),t.jsx("li",{children:"Withdraw to your crypto wallet anytime"})]}),t.jsx("button",{className:"mt-4 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-2 rounded-lg font-semibold",onClick:()=>a(!1),children:"Close"})]})}),t.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen w-full px-6 lg:px-20 py-16 text-center",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[t.jsxs("div",{className:"max-w-2xl text-left",children:[t.jsx("h2",{className:"text-sm font-semibold text-white/60 uppercase tracking-wider mb-4",children:"Welcome to AdMoney"}),t.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold leading-tight mb-6 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:["The Future of",t.jsx("br",{}),"Crypto Earnings"]}),t.jsx("p",{className:"text-xl text-white/80 mb-8 leading-relaxed",children:"AdMoney is an ever-expanding ecosystem of interconnected earning opportunities, built for a decentralized future where everyone can earn crypto effortlessly."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx("button",{onClick:I,className:"bg-gradient-to-r from-green-400 to-emerald-500 text-black font-semibold px-8 py-4 rounded-xl hover:from-green-300 hover:to-emerald-400 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-green-500/25",children:"Start Earning Now"}),t.jsx("button",{className:"bg-white/10 backdrop-blur-sm border border-white/30 px-8 py-4 rounded-xl text-white hover:bg-white/20 transition-all duration-300 transform hover:scale-105",onClick:()=>a(!0),children:"How It Works"})]})]}),t.jsx("div",{className:"relative w-full lg:w-1/2 flex items-center justify-center",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-80 h-80 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-full blur-3xl absolute inset-0",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx("div",{className:"relative z-0 w-64 h-64 bg-gradient-to-br from-purple-500/30 to-pink-500/30 rounded-2xl border border-white/20 backdrop-blur-sm flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ue,{className:"w-16 h-16 text-white mx-auto mb-4"}),t.jsx("p",{className:"text-white font-semibold",children:"3D Crypto Vault"}),t.jsx("p",{className:"text-white/60 text-sm",children:"Replace with Spline"})]})}),t.jsx("div",{className:"absolute -top-8 -left-8 flex flex-col gap-4 z-20",children:S.map((U,T)=>t.jsxs("div",{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:T*.2+1},className:"bg-white/10 backdrop-blur-md px-4 py-3 rounded-xl border border-white/20 text-white w-48 shadow-lg",children:[t.jsx("p",{className:"font-bold text-lg",children:U.rate}),t.jsx("p",{className:"text-sm text-white/60",children:U.amount})]},T))})]})})]})})}),t.jsx("section",{id:"benefits-section",className:"relative z-10 py-20 px-6 lg:px-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Why Choose AdMoney?"}),t.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Discover the advantages that make us the leading choice for crypto earnings"})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:O.map((U,T)=>t.jsx("div",{className:"bg-white/5 backdrop-blur-xl rounded-xl p-4 border border-white/10 hover:border-white/20 transition-all duration-300 h-full",children:t.jsxs("div",{className:"flex flex-col items-center text-center space-y-3 h-full",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(me,{className:"w-5 h-5 text-white"})}),t.jsx("div",{className:"flex-1 flex items-center",children:t.jsx("p",{className:"text-white/90 font-medium text-sm leading-relaxed",children:U})})]})},T))}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{icon:Fe,text:"24/7 Availability",desc:"Always accessible"},{icon:ue,text:"Instant Payouts",desc:"Get paid immediately"},{icon:ve,text:"Global Access",desc:"Available worldwide"},{icon:Bs,text:"Premium Support",desc:"Expert assistance"}].map((U,T)=>t.jsxs("div",{className:"text-center p-4 bg-white/5 backdrop-blur-xl rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300 h-full flex flex-col justify-center",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:t.jsx(U.icon,{className:"w-5 h-5 text-white"})}),t.jsx("h3",{className:"text-white font-semibold text-sm mb-1",children:U.text}),t.jsx("p",{className:"text-white/70 text-xs",children:U.desc})]},T))})]})]})}),t.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Trusted by Millions"}),t.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Join the fastest-growing crypto rewards community"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{number:"2.4M+",label:"Total Users",icon:ke},{number:"$15.2M+",label:"Total Payouts",icon:ue},{number:"150+",label:"Countries",icon:ve},{number:"99.9%",label:"Uptime",icon:It}].map((U,T)=>t.jsxs("div",{className:"text-center p-8 bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 hover:border-white/20 transition-all duration-300",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:t.jsx(U.icon,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:U.number}),t.jsx("p",{className:"text-white/70",children:U.label})]},T))})]})}),t.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20 bg-gradient-to-r from-purple-900/20 to-pink-900/20",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"What Our Users Say"}),t.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Real stories from real users earning crypto rewards"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Sarah Chen",role:"Student",text:"I earned my first $50 in USDT within a week! The platform is incredibly user-friendly and the payouts are instant.",avatar:"ðŸ‘©â€ðŸŽ“",earnings:"+$847 USDT"},{name:"Marcus Rodriguez",role:"Freelancer",text:"AdMoney has become my main source of passive income. I love how transparent and secure everything is.",avatar:"ðŸ‘¨â€ðŸ’»",earnings:"+$1,234 USDT"},{name:"Emma Thompson",role:"Entrepreneur",text:"The referral program is amazing! I've earned over $2,000 just by inviting friends. Highly recommended!",avatar:"ðŸ‘©â€ðŸ’¼",earnings:"+$2,156 USDT"}].map((U,T)=>t.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 h-full",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:"text-4xl mr-4",children:U.avatar}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-semibold",children:U.name}),t.jsx("p",{className:"text-white/60 text-sm",children:U.role})]}),t.jsx("div",{className:"ml-auto text-green-400 font-bold text-sm",children:U.earnings})]}),t.jsxs("p",{className:"text-white/80 leading-relaxed mb-4",children:['"',U.text,'"']}),t.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((L,N)=>t.jsx(Bs,{className:"w-4 h-4 fill-current"},N))})]},T))})]})}),t.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Security & Trust"}),t.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Your security is our top priority"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:It,title:"SSL Encryption",desc:"Bank-level security with 256-bit encryption",color:"from-green-500 to-emerald-500"},{icon:Fe,title:"Instant Payouts",desc:"Get your USDT within seconds, not days",color:"from-blue-500 to-cyan-500"},{icon:ve,title:"Global Access",desc:"Available in 150+ countries worldwide",color:"from-purple-500 to-pink-500"},{icon:Bs,title:"24/7 Support",desc:"Round-the-clock customer assistance",color:"from-orange-500 to-red-500"}].map((U,T)=>t.jsxs("div",{className:"text-center p-6 bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 hover:border-white/20 transition-all duration-300",children:[t.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${U.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:t.jsx(U.icon,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"text-white font-semibold text-sm mb-2",children:U.title}),t.jsx("p",{className:"text-white/70 text-xs",children:U.desc})]},T))})]})}),t.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20 bg-gradient-to-r from-purple-900/30 to-pink-900/30",children:t.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[t.jsx("h2",{className:"text-4xl lg:text-6xl font-bold text-white mb-6",children:"Ready to earn while you sleep?"}),t.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-3xl mx-auto",children:"Join thousands of users already earning passive income with AdMoney"}),t.jsxs("button",{onClick:I,className:"bg-gradient-to-r from-green-400 to-emerald-500 text-black font-bold px-12 py-6 rounded-2xl text-xl hover:from-green-300 hover:to-emerald-400 transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-green-500/50",children:["Start Earning Now",t.jsx(tl,{className:"inline-block ml-2 w-6 h-6"})]})]})}),t.jsx("footer",{className:"relative z-10 py-12 px-6 lg:px-20 bg-black/40 backdrop-blur-xl border-t border-white/10",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:t.jsx(ue,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-white",children:"AdMoney"})]}),t.jsx("p",{className:"text-white/60 text-sm",children:"The future of crypto earnings. Earn USDT by watching ads, referring friends, and more."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-semibold mb-4",children:"Platform"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>C("how-it-works"),className:"text-white/60 hover:text-white transition-colors",children:"How It Works"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>{const U=document.querySelector("#features-section");U&&U.scrollIntoView({behavior:"smooth"})},className:"text-white/60 hover:text-white transition-colors",children:"Features"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Pricing"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"API"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-semibold mb-4",children:"Support"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Help Center"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Contact Us"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Status"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Community"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Terms of Service"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Cookie Policy"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"GDPR"})})]})]})]}),t.jsx("div",{className:"border-t border-white/10 mt-8 pt-8 text-center",children:t.jsx("p",{className:"text-white/60 text-sm",children:"Â© 2024 AdMoney. All rights reserved. Made with â¤ï¸ for the crypto community."})})]})})]})},Lx=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"].sort(),Fx=({onAuth:s,onBack:e,onResetPassword:r,isLoading:i,error:n})=>{const[a,o]=b.useState(!0),[l,c]=b.useState(!1),[d,h]=b.useState(!1),[u,m]=b.useState(!1),x=b.useRef(null),p=b.useRef(null),f=b.useRef(null),y=b.useRef(null),w=b.useRef(null),A=b.useRef(null),g=b.useRef(null),j=b.useRef(null),C=b.useRef(null);b.useEffect(()=>{const R=()=>{const D=window.innerWidth<=768,F=window.innerHeight,q=window.screen.height;D&&F<q*.8?m(!0):m(!1)};return window.addEventListener("resize",R),window.addEventListener("orientationchange",R),()=>{window.removeEventListener("resize",R),window.removeEventListener("orientationchange",R)}},[]);const k=(R,D)=>{R.key==="Enter"&&(R.preventDefault(),D.current&&D.current.focus())},P=R=>{if(a){if(R==="username")return j;if(R==="password")return null}else{if(R==="username")return p;if(R==="email")return f;if(R==="firstName")return y;if(R==="lastName")return w;if(R==="birthday")return A;if(R==="country")return g;if(R==="referralCode")return j;if(R==="password")return C;if(R==="confirmPassword")return null}return null},O=new URLSearchParams(window.location.search).get("ref"),[S,U]=b.useState({username:"",password:"",confirmPassword:"",email:"",firstName:"",lastName:"",birthday:"",country:"",referralCode:O||"",referrerId:""}),[T,L]=b.useState({length:!1,characters:!1,available:!0}),[N,E]=b.useState({format:!1,exists:!1}),_=R=>{const D=R.length>=3&&R.length<=20,F=/^[a-zA-Z0-9_]+$/.test(R),q=!V.checkUsernameExists(R);L({length:D,characters:F,available:q})},K=R=>{const F=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R),q=F?V.checkEmailExists(R):!1;E({format:F,exists:q})},Q=R=>{const{name:D,value:F}=R.target;if(U({...S,[D]:F}),D==="username"&&!a&&_(F),D==="email"&&!a&&K(F),D==="referralCode"&&!a&&F){console.log("Checking referral code:",F),V.getAllUsers();const q=V.getAllUsers();console.log("All users:",q.map(Z=>({username:Z.username,referralCode:Z.referralCode}))),console.log("Available referral codes:",q.map(Z=>Z.referralCode)),console.log("Is valid:",V.checkReferralCodeExists(F));const X=q.find(Z=>Z.referralCode&&Z.referralCode.toLowerCase()===F.toLowerCase());X?console.log("Found matching user:",X.username,"with referral code:",X.referralCode):console.log("No matching user found for referral code:",F)}},te=R=>{R.preventDefault(),s(S)},re={length:S.password.length>=6,match:S.password===S.confirmPassword&&S.confirmPassword.length>0},Y=[{label:"3-20 characters",met:T.length},{label:"Letters, numbers, underscores only",met:T.characters},{label:"Username available",met:T.available}];return t.jsxs("div",{className:`min-h-screen flex items-center justify-center px-4 relative transition-all duration-300 ${u?"pt-0 pb-4":""}`,children:[t.jsx(Ve,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 opacity-50"}),t.jsxs("button",{onClick:e,className:`fixed z-50 flex items-center space-x-2 px-4 py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-md text-white font-semibold shadow hover:bg-white/20 transition-all ${u?"top-2 left-2":"top-6 left-6"}`,children:[t.jsx(at,{className:"w-5 h-5"}),t.jsx("span",{className:u?"hidden sm:inline":"",children:"Back"})]}),t.jsx("div",{className:`relative z-10 w-full max-w-md transition-all duration-300 ${u?"mt-8":""}`,children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 shadow-2xl p-6 w-full max-w-md mx-auto mt-16",children:[t.jsxs("div",{className:"flex bg-white/10 rounded-full p-1 mb-6 relative overflow-hidden",children:[t.jsx("div",{className:`absolute top-1 bottom-1 rounded-full bg-gradient-to-r from-yellow-400 to-orange-400 transition-all duration-500 ease-in-out ${a?"left-1 right-1/2":"left-1/2 right-1"}`}),t.jsx("button",{className:`relative flex-1 py-2 px-4 rounded-full font-bold transition-all duration-300 ease-in-out ${a?"text-white shadow-lg":"text-white/70 hover:text-white"}`,onClick:()=>o(!0),children:"Login"}),t.jsx("button",{className:`relative flex-1 py-2 px-4 rounded-full font-bold transition-all duration-300 ease-in-out ${a?"text-white/70 hover:text-white":"text-white shadow-lg"}`,onClick:()=>o(!1),children:"Signup"})]}),t.jsxs("div",{className:`text-center transition-all duration-500 ease-in-out ${u?"mb-4":"mb-6"}`,children:[t.jsx("h1",{className:`font-bold text-white mb-2 transition-all duration-500 ease-in-out ${u?"text-xl":"text-2xl"}`,children:a?"Welcome Back":"Join AdMoney"}),t.jsx("p",{className:`text-white/80 transition-all duration-500 ease-in-out ${u?"text-xs":"text-sm"}`,children:a?"Sign in to continue earning":"Create your account and start earning"})]}),n&&t.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg",children:t.jsx("p",{className:"text-red-400 text-sm",children:n})}),t.jsxs("form",{onSubmit:te,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Username"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{ref:x,type:"text",name:"username",value:S.username,onChange:Q,onKeyDown:R=>{const D=P("username");if(D)k(R,D);else if(R.key==="Enter"){R.preventDefault();const F=document.querySelector('button[type="submit"]');F&&!F.disabled&&F.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm",placeholder:"Enter your username",required:!0,disabled:i,minLength:3,maxLength:20}),t.jsx(xs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50 pointer-events-none"})]}),!a&&S.username&&t.jsxs("div",{className:"mt-2 p-2 bg-white/5 rounded border border-white/10",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(Pr,{className:"w-3 h-3 text-blue-400"}),t.jsx("span",{className:"text-xs font-medium text-white/90",children:"Requirements"})]}),t.jsx("div",{className:"space-y-1",children:Y.map((R,D)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[R.met?t.jsx(me,{className:"w-2.5 h-2.5 text-green-400"}):t.jsx("div",{className:"w-2.5 h-2.5 rounded-full border border-white/40"}),t.jsx("span",{className:`text-xs ${R.met?"text-green-400":"text-white/60"}`,children:R.label})]},D))})]})]}),!a&&t.jsx("div",{className:"transition-all duration-500 max-h-24 opacity-100 overflow-hidden",children:t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{ref:p,type:"email",name:"email",value:S.email,onChange:Q,onKeyDown:R=>{const D=P("email");if(D)k(R,D);else if(R.key==="Enter"){R.preventDefault();const F=document.querySelector('button[type="submit"]');F&&!F.disabled&&F.click()}},className:`w-full bg-white/10 border rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition-all text-sm ${S.email?N.format&&!N.exists?"border-green-400/50 focus:border-green-400":"border-red-400/50 focus:border-red-400":"border-white/20 focus:border-yellow-400"}`,placeholder:"Enter your email",required:!a,disabled:i}),t.jsx(fs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50 pointer-events-none"})]}),S.email&&!N.format&&t.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Please enter a valid email"}),S.email&&N.format&&N.exists&&t.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Email already exists"})]})}),!a&&t.jsx("div",{className:"transition-all duration-500 max-h-32 opacity-100 overflow-hidden",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"First Name"}),t.jsx("input",{ref:f,type:"text",name:"firstName",value:S.firstName,onChange:Q,onKeyDown:R=>{const D=P("firstName");if(D)k(R,D);else if(R.key==="Enter"){R.preventDefault();const F=document.querySelector('button[type="submit"]');F&&!F.disabled&&F.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm",placeholder:"First name",required:!a,disabled:i})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Last Name"}),t.jsx("input",{ref:y,type:"text",name:"lastName",value:S.lastName,onChange:Q,onKeyDown:R=>{const D=P("lastName");if(D)k(R,D);else if(R.key==="Enter"){R.preventDefault();const F=document.querySelector('button[type="submit"]');F&&!F.disabled&&F.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm",placeholder:"Last name",required:!a,disabled:i})]})]})}),!a&&t.jsx("div",{className:"transition-all duration-500 max-h-16 opacity-100 overflow-hidden",children:t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Birthday"}),t.jsx("input",{ref:w,type:"date",name:"birthday",value:S.birthday,onChange:Q,onKeyDown:R=>{const D=P("birthday");if(D)k(R,D);else if(R.key==="Enter"){R.preventDefault();const F=document.querySelector('button[type="submit"]');F&&!F.disabled&&F.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm",required:!a,disabled:i,max:new Date().toISOString().split("T")[0]})]})}),!a&&t.jsx("div",{className:"transition-all duration-500 max-h-16 opacity-100 overflow-hidden",children:t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{ref:A,name:"country",value:S.country,onChange:Q,onKeyDown:R=>{const D=P("country");if(D)k(R,D);else if(R.key==="Enter"){R.preventDefault();const F=document.querySelector('button[type="submit"]');F&&!F.disabled&&F.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm appearance-none",required:!a,disabled:i,children:[t.jsx("option",{value:"",disabled:!0,children:"Select your country"}),Lx.map(R=>t.jsx("option",{value:R,className:"bg-white text-gray-800",children:R},R))]}),t.jsx(ve,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50 pointer-events-none"})]})]})}),!a&&t.jsx("div",{className:"transition-all duration-500 max-h-28 opacity-100 overflow-hidden",children:t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["Invite Code ",t.jsx("span",{className:"text-white/60",children:"(optional)"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{ref:g,type:"text",name:"referralCode",value:S.referralCode,onChange:Q,onKeyDown:R=>{const D=P("referralCode");if(D)k(R,D);else if(R.key==="Enter"){R.preventDefault();const F=document.querySelector('button[type="submit"]');F&&!F.disabled&&F.click()}},className:`w-full bg-white/10 border rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition-all text-sm ${S.referralCode?V.checkReferralCodeExists(S.referralCode)?"border-green-400/50 focus:border-green-400":"border-red-400/50 focus:border-red-400":"border-white/20 focus:border-yellow-400"}`,placeholder:"Enter invite code (optional)",disabled:i}),t.jsx(Ke,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50 pointer-events-none"})]}),S.referralCode&&t.jsx("p",{className:`text-xs mt-1 ${V.checkReferralCodeExists(S.referralCode)?"text-green-400":"text-red-400"}`,children:V.checkReferralCodeExists(S.referralCode)?"âœ“ Valid invite code!":"Invalid invite code"})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{ref:j,type:l?"text":"password",name:"password",value:S.password,onChange:Q,onKeyDown:R=>{const D=P("password");if(D)k(R,D);else if(R.key==="Enter"){R.preventDefault();const F=document.querySelector('button[type="submit"]');F&&!F.disabled&&F.click()}},className:`w-full bg-white/10 border rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all pr-12 text-sm ${S.password?re.length?"border-green-400/50 focus:border-green-400":"border-red-400/50 focus:border-red-400":"border-white/20 focus:border-yellow-400"}`,placeholder:"Enter your password",required:!0,disabled:i,minLength:6}),t.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",disabled:i,children:l?t.jsx(We,{className:"w-4 h-4"}):t.jsx(Te,{className:"w-4 h-4"})})]}),!a&&t.jsx("p",{className:"text-xs text-white/60 mt-1",children:"Password must be at least 6 characters"})]}),t.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${a?"max-h-0 opacity-0":"max-h-20 opacity-100"}`,children:!a&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{ref:C,type:d?"text":"password",name:"confirmPassword",value:S.confirmPassword,onChange:Q,onKeyDown:R=>{const D=P("confirmPassword");if(D)k(R,D);else if(R.key==="Enter"){R.preventDefault();const F=document.querySelector('button[type="submit"]');F&&!F.disabled&&F.click()}},className:`w-full bg-white/10 border rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all pr-12 text-sm ${S.confirmPassword?re.match?"border-green-400/50 focus:border-green-400":"border-red-400/50 focus:border-red-400":"border-white/20 focus:border-yellow-400"}`,placeholder:"Confirm your password",required:!a,disabled:i}),t.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",disabled:i,children:d?t.jsx(We,{className:"w-4 h-4"}):t.jsx(Te,{className:"w-4 h-4"})})]}),S.confirmPassword&&!re.match&&t.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Passwords do not match"})]})}),t.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${a?"max-h-12 opacity-100":"max-h-0 opacity-0"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"flex items-center space-x-2 text-white/80",children:[t.jsx("input",{type:"checkbox",className:"rounded border-white/20 bg-white/10 text-yellow-400 focus:ring-yellow-400/50 w-4 h-4",disabled:i}),t.jsx("span",{className:"text-sm",children:"Remember me"})]}),t.jsx("button",{type:"button",onClick:r,className:"text-sm text-yellow-400 hover:text-yellow-300 transition-colors",disabled:i,children:"Forgot password?"})]})}),t.jsxs("button",{type:"submit",disabled:i||!a&&(!T.length||!T.characters||!T.available||!N.format||N.exists||!re.length||!re.match),className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-3 rounded-lg font-semibold hover:from-yellow-500 hover:to-orange-600 transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:[i&&t.jsx(ht,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{className:"transition-all duration-300 ease-in-out",children:i?"Processing...":a?"Sign In":"Create Account"})]})]})]})})]})},Vx=({onBack:s,onSuccess:e})=>{const[r,i]=b.useState("email"),[n,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(""),[h,u]=b.useState(""),[m,x]=b.useState(""),[p,f]=b.useState(!1),[y,w]=b.useState(!1),[A,g]=b.useState(""),[j,C]=b.useState(!1),[k,P]=b.useState(!1);b.useEffect(()=>{const T=localStorage.getItem("forgotPasswordOtp"),L=localStorage.getItem("forgotPasswordEmail");T&&L&&(l(T),a(L),i("otp"))},[]);const I=async()=>{if(C(!0),g(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){g("Please enter a valid email address"),C(!1);return}if(!V.checkEmailExists(n)){g("No account found with this email address"),C(!1);return}try{const L=Math.floor(1e5+Math.random()*9e5).toString();l(L),localStorage.setItem("forgotPasswordOtp",L),localStorage.setItem("forgotPasswordEmail",n),i("otp"),g("")}catch{g("Failed to send reset code. Please try again.")}finally{C(!1)}},O=()=>{g(""),c===o?(i("password"),g("")):g("Incorrect code. Please try again.")},S=async()=>{if(C(!0),g(""),h.length<6){g("Password must be at least 6 characters"),C(!1);return}if(h!==m){g("Passwords do not match"),C(!1);return}try{V.updateUserPasswordByEmail(n,h),localStorage.removeItem("forgotPasswordOtp"),localStorage.removeItem("forgotPasswordEmail"),P(!0),setTimeout(()=>{e()},2e3)}catch{g("Failed to reset password. Please try again.")}finally{C(!1)}},U=()=>{localStorage.removeItem("forgotPasswordOtp"),localStorage.removeItem("forgotPasswordEmail"),s()};return k?t.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"}),t.jsx("div",{className:"relative w-full max-w-md",children:t.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-8 border border-white/20",children:t.jsxs("div",{className:"text-center",children:[t.jsx(me,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successfully!"}),t.jsx("p",{className:"text-white/70 mb-6",children:"You can now sign in with your new password."}),t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(ht,{className:"w-5 h-5 text-white/60 animate-spin mr-2"}),t.jsx("span",{className:"text-white/60",children:"Redirecting to login..."})]})]})})})]}):t.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"}),t.jsxs("div",{className:"relative w-full max-w-md",children:[t.jsxs("button",{onClick:U,className:"absolute -top-16 left-0 flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[t.jsx(at,{className:"w-5 h-5"}),t.jsx("span",{children:"Back to Login"})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-8 border border-white/20",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(hr,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),t.jsxs("p",{className:"text-white/70",children:[r==="email"&&"Enter your email to receive a reset code",r==="otp"&&"Enter the 6-digit code sent to your email",r==="password"&&"Create your new password"]})]}),A&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(it,{className:"w-5 h-5 text-red-400"}),t.jsx("span",{className:"text-red-400 text-sm",children:A})]})}),r==="email"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email Address"}),t.jsx("input",{type:"email",value:n,onChange:T=>a(T.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"Enter your email",autoFocus:!0})]}),t.jsxs("button",{onClick:I,disabled:j,className:"w-full bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-500/50 text-black font-semibold py-3 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[j&&t.jsx(ht,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Send Reset Code"})]})]}),r==="otp"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Verification Code"}),t.jsxs("div",{className:"text-center",children:[t.jsx("input",{type:"text",maxLength:6,value:c,onChange:T=>d(T.target.value.replace(/\D/g,"")),className:"w-32 text-center text-xl font-mono bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"------",autoFocus:!0}),t.jsxs("p",{className:"text-white/60 text-sm mt-2",children:["Demo code: ",t.jsx("span",{className:"font-mono text-yellow-400",children:o})]})]})]}),t.jsxs("button",{onClick:O,disabled:j||c.length!==6,className:"w-full bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-500/50 text-black font-semibold py-3 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[j&&t.jsx(ht,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Verify Code"})]})]}),r==="password"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:p?"text":"password",value:h,onChange:T=>u(T.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"Enter new password",minLength:6,autoFocus:!0}),t.jsx("button",{type:"button",onClick:()=>f(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white/80",children:p?t.jsx(We,{className:"w-5 h-5"}):t.jsx(Te,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:y?"text":"password",value:m,onChange:T=>x(T.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"Confirm new password",minLength:6}),t.jsx("button",{type:"button",onClick:()=>w(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white/80",children:y?t.jsx(We,{className:"w-5 h-5"}):t.jsx(Te,{className:"w-5 h-5"})})]})]}),t.jsxs("button",{onClick:S,disabled:j||h.length<6||h!==m,className:"w-full bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-500/50 text-black font-semibold py-3 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[j&&t.jsx(ht,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Reset Password"})]})]})]})]})]})},Ox=({amount:s,tierName:e,onClose:r})=>{const[i,n]=b.useState(!0);return b.useEffect(()=>{const a=setTimeout(()=>{n(!1),setTimeout(r,300)},5e3);return()=>clearTimeout(a)},[r]),i?t.jsx("div",{className:"fixed top-20 right-4 z-50 animate-slide-in",children:t.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg p-4 shadow-lg border border-yellow-300",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx(Le,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-white font-semibold",children:"VIP Daily Reward!"}),t.jsxs("p",{className:"text-white/90 text-sm",children:["$",s.toFixed(2)," added to your balance from ",e]})]}),t.jsx("button",{onClick:()=>{n(!1),setTimeout(r,300)},className:"text-white/80 hover:text-white transition-colors",children:t.jsx(Ee,{className:"w-5 h-5"})})]})})}):null},_x=({onNavigate:s,user:e,onUserUpdate:r})=>{const[i,n]=b.useState(!1),[a,o]=b.useState(0),[l,c]=b.useState("");b.useEffect(()=>{(()=>{const m=e.balance;V.processVIPRewards();const x=V.getCurrentUser();if(x&&x.balance>m){const p=x.balance-m,f=V.getVIPTier(x.vipTier);f&&(o(p),c(f.name),n(!0),r(x))}})()},[]),e.username==="mhamad"&&console.log("Admin user in Dashboard:",e.username),console.log("Dashboard rendering for user:",e.username),console.log("Welcome text should show:",`Welcome back, ${e.displayName||e.username}! ðŸ‘‹`);const d=b.useMemo(()=>{const u=Math.floor(e.totalEarned/.25),m=e.currentStreak||0,x=e.referralCount||0,p=e.vipTier?V.getVIPTier(e.vipTier):null;return{adsWatched:u,currentStreak:m,referrals:x,vipTier:p}},[e.totalEarned,e.currentStreak,e.referralCount,e.vipTier]);b.useCallback(u=>{s(u)},[s]);const h=b.useCallback(()=>{n(!1)},[]);return t.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(Ve,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),t.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[i&&t.jsx(Ox,{amount:a,tierName:l,onClose:h}),t.jsxs("div",{className:"mt-8 sm:mt-6 lg:mt-8 xl:mt-10 2xl:mt-12 mb-6 sm:mb-8 lg:mb-12 xl:mb-16 2xl:mb-20 text-center sm:text-left",children:[t.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 lg:mb-4 xl:mb-6 drop-shadow-lg",children:`Welcome back, ${e.displayName||e.username}!`}),t.jsx("p",{className:"text-white/80 text-base sm:text-lg lg:text-xl xl:text-2xl",children:"Ready to earn more USDT today?"})]}),t.jsx("div",{className:"glass-card border border-yellow-400/30 shadow-2xl rounded-2xl p-4 sm:p-6 mb-6 w-full max-w-full backdrop-blur-xl",children:t.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-white/70 text-xs sm:text-sm mb-1",children:"Current Balance"}),t.jsxs("span",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent drop-shadow-xl block",children:["$",e.balance.toFixed(2)]}),t.jsx("p",{className:"text-white/60 text-xs mt-1",children:"USDT"})]}),t.jsxs("div",{className:"flex-1 text-right",children:[t.jsx("p",{className:"text-white/70 text-xs sm:text-sm mb-1",children:"Total Earned"}),t.jsxs("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent drop-shadow-lg block",children:["$",e.totalEarned.toFixed(2)]}),t.jsx("p",{className:"text-white/60 text-xs",children:"Lifetime"})]})]})}),t.jsx("div",{className:"grid grid-cols-4 gap-2 sm:gap-4 mb-8",children:[{icon:t.jsx(Te,{className:"text-yellow-400 drop-shadow-lg shadow-yellow-400/30"}),value:d.adsWatched,label:"Ads Watched"},{icon:t.jsx(sl,{className:"text-green-400 drop-shadow-lg shadow-green-400/30"}),value:d.currentStreak,label:"Day Streak"},{icon:t.jsx(ke,{className:"text-purple-400 drop-shadow-lg shadow-purple-400/30"}),value:d.referrals,label:"Referrals"},{icon:t.jsx(ps,{className:"text-pink-400 drop-shadow-lg shadow-pink-400/30"}),value:`$${e.referralEarnings.toFixed(2)}`,label:"Referral Earnings"}].map((u,m)=>t.jsxs("div",{onClick:()=>{u.label==="Ads Watched"&&s("ads")},className:"glass-card border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-6 text-center hover:scale-105 hover:shadow-2xl transition-all duration-300 cursor-pointer backdrop-blur-lg shadow-xl shadow-black/20 bg-white/5",children:[t.jsx("div",{className:"w-6 h-6 sm:w-12 sm:h-12 mx-auto mb-2 sm:mb-3 text-yellow-400 drop-shadow-lg shadow-yellow-400/30",children:ms.cloneElement(u.icon,{className:"w-full h-full"})}),t.jsx("span",{className:"text-sm sm:text-2xl md:text-3xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent drop-shadow-xl shadow-black/50 block",children:u.value}),t.jsx("p",{className:"text-white/90 text-xs sm:text-sm mt-1 sm:mt-2 font-medium",children:u.label})]},u.label))}),d.vipTier&&t.jsxs("div",{className:"glass-card border border-purple-400/30 shadow-2xl rounded-3xl p-8 mb-8 w-full max-w-full backdrop-blur-xl flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-4 rounded-full shadow-lg",children:t.jsx(Le,{className:"w-12 h-12 text-white drop-shadow-glow"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent drop-shadow-lg",children:d.vipTier.name}),t.jsxs("p",{className:"text-white/70 text-base",children:["Daily reward: $",d.vipTier.dailyReward," USDT"]})]})]}),t.jsx("button",{onClick:()=>s("vip"),className:"mt-6 sm:mt-0 px-6 py-3 rounded-lg bg-yellow-400 text-black font-semibold text-lg hover:bg-yellow-300 transition-colors min-w-[44px] min-h-[44px] shadow-lg",children:"View VIP"})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-4 sm:p-6 w-full max-w-full mb-0 sm:mb-2 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-3 sm:mb-4 drop-shadow-lg",children:"Recent Activity"}),t.jsx("div",{className:"space-y-2 sm:space-y-3",children:e.activityLog&&e.activityLog.length>0?e.activityLog.slice(0,5).map((u,m)=>t.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-white/10 border border-white/10 rounded-2xl shadow-lg hover:scale-[1.02] transition-transform duration-200",children:[t.jsxs("div",{className:`p-2 sm:p-3 rounded-full shadow-lg ${u.type==="ad"?"bg-yellow-400/20":u.type==="referral"?"bg-green-500/20":u.type==="withdrawal"?"bg-red-500/20":u.type==="deposit"?"bg-blue-500/20":u.type==="vip"?"bg-purple-500/20":"bg-gray-500/20"}`,children:[u.type==="ad"&&t.jsx(Ot,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-400"}),u.type==="referral"&&t.jsx(Ke,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-400"}),u.type==="withdrawal"&&t.jsx(ue,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-400"}),u.type==="deposit"&&t.jsx(ue,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-400"}),u.type==="vip"&&t.jsx(Le,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-400"})]}),t.jsxs("div",{className:"flex-1 min-w-0 ml-3 sm:ml-4",children:[t.jsx("p",{className:"text-white text-sm sm:text-base truncate",children:u.message}),t.jsx("p",{className:"text-white/60 text-xs",children:u.date})]})]},m)):t.jsx("p",{className:"text-white/60 text-sm sm:text-base",children:"No recent activity."})})]})]})]})},$x=({user:s})=>{const[e,r]=b.useState({adsWatched:0,totalEarned:0,dailyLimit:10}),[i,n]=b.useState([]),a=b.useRef(null),[o,l]=b.useState(null),c=!!s.vipTier;b.useEffect(()=>{d()},[]),b.useEffect(()=>{c&&s.vipAdProgress&&l({adsWatched:s.vipAdProgress.adsWatched,totalAdsRequired:s.vipAdProgress.totalAdsRequired,dailyReward:s.vipAdProgress.dailyReward,rewardPerAd:s.vipAdProgress.dailyReward/10})},[c,s.vipAdProgress]);const d=()=>{const u=localStorage.getItem("adminAds");if(u){const x=JSON.parse(u).filter(p=>p.isActive);n(x)}},h=()=>{if(i.length===0)return[];const m=(new Date().getDate()-1)%i.length;return[...i.slice(m),...i.slice(0,m)].slice(0,3)};return b.useEffect(()=>{const u=new Date().toDateString(),m=localStorage.getItem(`adStats_${s.id}_${u}`);m&&r(JSON.parse(m))},[s.id]),b.useEffect(()=>()=>{a.current&&clearInterval(a.current)},[]),t.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(Ve,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),t.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[t.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"Watch Ads & Earn USDT"}),t.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Complete ads to earn instant rewards"})]}),t.jsx("div",{className:"glass-card border border-yellow-400/30 shadow-2xl rounded-3xl p-6 mb-8 backdrop-blur-xl",children:t.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-white/70 text-xs sm:text-sm mb-1",children:"Today's Earnings"}),t.jsxs("span",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent drop-shadow-lg",children:["$",e.totalEarned.toFixed(2)]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-white/70 text-xs sm:text-sm mb-1",children:"Ads Watched"}),t.jsxs("span",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent drop-shadow-lg",children:[e.adsWatched,"/",e.dailyLimit]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-white/70 text-xs sm:text-sm mb-1",children:"Current Balance"}),t.jsxs("span",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent drop-shadow-lg",children:["$",s.balance.toFixed(2)]})]})]})}),o&&t.jsxs("div",{className:"glass-card border border-purple-400/30 shadow-2xl rounded-3xl p-6 mb-8 backdrop-blur-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Le,{className:"w-8 h-8 text-purple-400 drop-shadow-glow"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"VIP Progress"}),t.jsxs("p",{className:"text-white/70 text-sm",children:["Daily reward: $",o.dailyReward," USDT"]})]})]}),t.jsxs("span",{className:"text-lg font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:[o.adsWatched,"/",o.totalAdsRequired]})]}),t.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full"})})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Available Ads"}),h().length===0?t.jsx("div",{className:"text-white/60 text-center py-8",children:"No ads available right now."}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:h().map(u=>t.jsx("div",{className:"bg-white/10 border border-white/10 rounded-2xl p-4 hover:scale-105 transition-transform duration-200 cursor-pointer",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ot,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2 drop-shadow-glow"}),t.jsx("h3",{className:"text-white font-semibold mb-1",children:u.title}),t.jsx("p",{className:"text-white/70 text-sm mb-2",children:u.description}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-white/60 text-xs",children:[u.duration,"s"]}),t.jsxs("span",{className:"text-green-400 font-bold",children:["$",u.reward.toFixed(2)]})]})]})},u.id))})]})]})]})},zx={maxAutoApprovalAmount:1e3,minConfirmationTime:300*1e3,whitelistedAddresses:[],rateLimitWindow:3600*1e3,maxDepositsPerWindow:3},Xt=new Map;class Qx{config;constructor(e={}){this.config={...zx,...e}}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}async verifyTransaction(e,r,i){try{const n=await fetch(`https://api.trongrid.io/v1/transactions/${e}`);if(!n.ok)throw new Error(`API request failed: ${n.status}`);const a=await n.json();if(!a.data||a.data.length===0)throw new Error("Transaction not found");const o=a.data[0];return{txHash:o.txID,amount:this.parseAmount(o.raw_data?.contract?.[0]?.parameter?.value?.amount),fromAddress:this.formatAddress(o.raw_data?.contract?.[0]?.parameter?.value?.owner_address),toAddress:this.formatAddress(o.raw_data?.contract?.[0]?.parameter?.value?.to_address),timestamp:o.blockTimeStamp,confirmations:o.confirmed?1:0,status:o.confirmed?"confirmed":"pending"}}catch(n){return console.error("Transaction verification failed:",n),null}}parseAmount(e){return typeof e=="string"?parseInt(e)/1e6:e/1e6}formatAddress(e){return e?e.startsWith("T")?e:this.hexToBase58(e):""}hexToBase58(e){return e}isAddressWhitelisted(e){return this.config.whitelistedAddresses.length===0?!0:this.config.whitelistedAddresses.includes(e.toLowerCase())}checkRateLimit(e){const r=Date.now(),i=Xt.get(e);return!i||r-i.lastReset>this.config.rateLimitWindow?(Xt.set(e,{count:1,lastReset:r}),!0):i.count>=this.config.maxDepositsPerWindow?!1:(i.count++,!0)}checkConfirmationTime(e){return Date.now()-e>=this.config.minConfirmationTime}async verifyDeposit(e,r,i,n){try{if(!this.checkRateLimit(n))return{isValid:!1,reason:`Rate limit exceeded. Maximum ${this.config.maxDepositsPerWindow} deposits per ${this.config.rateLimitWindow/(3600*1e3)} hour(s)`,autoApprove:!1};const a=await this.verifyTransaction(e,r,i);if(!a)return{isValid:!1,reason:"Transaction not found or verification failed",autoApprove:!1};if(a.toAddress.toLowerCase()!==i.toLowerCase())return{isValid:!1,reason:"Transaction recipient address does not match expected address",transactionData:a,autoApprove:!1};if(Math.abs(a.amount-r)>.01)return{isValid:!1,reason:`Transaction amount (${a.amount} USDT) does not match expected amount (${r} USDT)`,transactionData:a,autoApprove:!1};if(!this.isAddressWhitelisted(a.fromAddress))return{isValid:!1,reason:"Sender address is not whitelisted for auto-approval",transactionData:a,autoApprove:!1};if(!this.checkConfirmationTime(a.timestamp))return{isValid:!0,reason:"Transaction confirmed but waiting for minimum confirmation time",transactionData:a,autoApprove:!1};const o=a.amount<=this.config.maxAutoApprovalAmount;return{isValid:!0,transactionData:a,autoApprove:o,reason:o?"Transaction verified and eligible for auto-approval":`Transaction verified but amount (${a.amount} USDT) exceeds auto-approval limit (${this.config.maxAutoApprovalAmount} USDT)`}}catch(a){return console.error("Deposit verification error:",a),{isValid:!1,reason:"Verification process failed",autoApprove:!1}}}getRateLimitStatus(e){const r=Xt.get(e),i=Date.now();return!r||i-r.lastReset>this.config.rateLimitWindow?{remaining:this.config.maxDepositsPerWindow,resetTime:i+this.config.rateLimitWindow}:{remaining:Math.max(0,this.config.maxDepositsPerWindow-r.count),resetTime:r.lastReset+this.config.rateLimitWindow}}clearRateLimit(e){Xt.delete(e)}addToWhitelist(e){this.config.whitelistedAddresses.includes(e.toLowerCase())||this.config.whitelistedAddresses.push(e.toLowerCase())}removeFromWhitelist(e){this.config.whitelistedAddresses=this.config.whitelistedAddresses.filter(r=>r!==e.toLowerCase())}}const Gn=new Qx;var ct={},Xs={exports:{}},Zs,Jn;function Wx(){if(Jn)return Zs;Jn=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zs=s,Zs}var er,Xn;function Hx(){if(Xn)return er;Xn=1;var s=Wx();function e(){}function r(){}return r.resetWarningCache=e,er=function(){function i(o,l,c,d,h,u){if(u!==s){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}i.isRequired=i;function n(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:n,element:i,elementType:i,instanceOf:n,node:i,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},er}var Zn;function Oo(){return Zn||(Zn=1,Xs.exports=Hx()()),Xs.exports}var tr,ea;function _o(){return ea||(ea=1,tr={L:1,M:0,Q:3,H:2}),tr}var sr,ta;function $o(){return ta||(ta=1,sr={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),sr}var rr,sa;function Kx(){if(sa)return rr;sa=1;var s=$o();function e(r){this.mode=s.MODE_8BIT_BYTE,this.data=r}return e.prototype={getLength:function(r){return this.data.length},write:function(r){for(var i=0;i<this.data.length;i++)r.put(this.data.charCodeAt(i),8)}},rr=e,rr}var ir,ra;function Yx(){if(ra)return ir;ra=1;var s=_o();function e(r,i){this.totalCount=r,this.dataCount=i}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(r,i){var n=e.getRsBlockTable(r,i);if(n==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+i);for(var a=n.length/3,o=new Array,l=0;l<a;l++)for(var c=n[l*3+0],d=n[l*3+1],h=n[l*3+2],u=0;u<c;u++)o.push(new e(d,h));return o},e.getRsBlockTable=function(r,i){switch(i){case s.L:return e.RS_BLOCK_TABLE[(r-1)*4+0];case s.M:return e.RS_BLOCK_TABLE[(r-1)*4+1];case s.Q:return e.RS_BLOCK_TABLE[(r-1)*4+2];case s.H:return e.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},ir=e,ir}var nr,ia;function qx(){if(ia)return nr;ia=1;function s(){this.buffer=new Array,this.length=0}return s.prototype={get:function(e){var r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1},put:function(e,r){for(var i=0;i<r;i++)this.putBit((e>>>r-i-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},nr=s,nr}var ar,na;function zo(){if(na)return ar;na=1;for(var s={glog:function(r){if(r<1)throw new Error("glog("+r+")");return s.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return s.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)s.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)s.EXP_TABLE[e]=s.EXP_TABLE[e-4]^s.EXP_TABLE[e-5]^s.EXP_TABLE[e-6]^s.EXP_TABLE[e-8];for(var e=0;e<255;e++)s.LOG_TABLE[s.EXP_TABLE[e]]=e;return ar=s,ar}var or,aa;function Qo(){if(aa)return or;aa=1;var s=zo();function e(r,i){if(r.length==null)throw new Error(r.length+"/"+i);for(var n=0;n<r.length&&r[n]==0;)n++;this.num=new Array(r.length-n+i);for(var a=0;a<r.length-n;a++)this.num[a]=r[a+n]}return e.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var i=new Array(this.getLength()+r.getLength()-1),n=0;n<this.getLength();n++)for(var a=0;a<r.getLength();a++)i[n+a]^=s.gexp(s.glog(this.get(n))+s.glog(r.get(a)));return new e(i,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var i=s.glog(this.get(0))-s.glog(r.get(0)),n=new Array(this.getLength()),a=0;a<this.getLength();a++)n[a]=this.get(a);for(var a=0;a<r.getLength();a++)n[a]^=s.gexp(s.glog(r.get(a))+i);return new e(n,0).mod(r)}},or=e,or}var lr,oa;function Gx(){if(oa)return lr;oa=1;var s=$o(),e=Qo(),r=zo(),i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},n={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var o=a<<10;n.getBCHDigit(o)-n.getBCHDigit(n.G15)>=0;)o^=n.G15<<n.getBCHDigit(o)-n.getBCHDigit(n.G15);return(a<<10|o)^n.G15_MASK},getBCHTypeNumber:function(a){for(var o=a<<12;n.getBCHDigit(o)-n.getBCHDigit(n.G18)>=0;)o^=n.G18<<n.getBCHDigit(o)-n.getBCHDigit(n.G18);return a<<12|o},getBCHDigit:function(a){for(var o=0;a!=0;)o++,a>>>=1;return o},getPatternPosition:function(a){return n.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,o,l){switch(a){case i.PATTERN000:return(o+l)%2==0;case i.PATTERN001:return o%2==0;case i.PATTERN010:return l%3==0;case i.PATTERN011:return(o+l)%3==0;case i.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2==0;case i.PATTERN101:return o*l%2+o*l%3==0;case i.PATTERN110:return(o*l%2+o*l%3)%2==0;case i.PATTERN111:return(o*l%3+(o+l)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var o=new e([1],0),l=0;l<a;l++)o=o.multiply(new e([1,r.gexp(l)],0));return o},getLengthInBits:function(a,o){if(1<=o&&o<10)switch(a){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:return 8;case s.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(o<27)switch(a){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(o<41)switch(a){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+o)},getLostPoint:function(a){for(var o=a.getModuleCount(),l=0,c=0;c<o;c++)for(var d=0;d<o;d++){for(var h=0,u=a.isDark(c,d),m=-1;m<=1;m++)if(!(c+m<0||o<=c+m))for(var x=-1;x<=1;x++)d+x<0||o<=d+x||m==0&&x==0||u==a.isDark(c+m,d+x)&&h++;h>5&&(l+=3+h-5)}for(var c=0;c<o-1;c++)for(var d=0;d<o-1;d++){var p=0;a.isDark(c,d)&&p++,a.isDark(c+1,d)&&p++,a.isDark(c,d+1)&&p++,a.isDark(c+1,d+1)&&p++,(p==0||p==4)&&(l+=3)}for(var c=0;c<o;c++)for(var d=0;d<o-6;d++)a.isDark(c,d)&&!a.isDark(c,d+1)&&a.isDark(c,d+2)&&a.isDark(c,d+3)&&a.isDark(c,d+4)&&!a.isDark(c,d+5)&&a.isDark(c,d+6)&&(l+=40);for(var d=0;d<o;d++)for(var c=0;c<o-6;c++)a.isDark(c,d)&&!a.isDark(c+1,d)&&a.isDark(c+2,d)&&a.isDark(c+3,d)&&a.isDark(c+4,d)&&!a.isDark(c+5,d)&&a.isDark(c+6,d)&&(l+=40);for(var f=0,d=0;d<o;d++)for(var c=0;c<o;c++)a.isDark(c,d)&&f++;var y=Math.abs(100*f/o/o-50)/5;return l+=y*10,l}};return lr=n,lr}var cr,la;function Jx(){if(la)return cr;la=1;var s=Kx(),e=Yx(),r=qx(),i=Gx(),n=Qo();function a(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=a.prototype;return o.addData=function(l){var c=new s(l);this.dataList.push(c),this.dataCache=null},o.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=e.getRSBlocks(l,this.errorCorrectLevel),d=new r,h=0,u=0;u<c.length;u++)h+=c[u].dataCount;for(var u=0;u<this.dataList.length;u++){var m=this.dataList[u];d.put(m.mode,4),d.put(m.getLength(),i.getLengthInBits(m.mode,l)),m.write(d)}if(d.getLengthInBits()<=h*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var h=0;h<this.moduleCount;h++)this.modules[d][h]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},o.setupPositionProbePattern=function(l,c){for(var d=-1;d<=7;d++)if(!(l+d<=-1||this.moduleCount<=l+d))for(var h=-1;h<=7;h++)c+h<=-1||this.moduleCount<=c+h||(0<=d&&d<=6&&(h==0||h==6)||0<=h&&h<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=h&&h<=4?this.modules[l+d][c+h]=!0:this.modules[l+d][c+h]=!1)},o.getBestMaskPattern=function(){for(var l=0,c=0,d=0;d<8;d++){this.makeImpl(!0,d);var h=i.getLostPoint(this);(d==0||l>h)&&(l=h,c=d)}return c},o.createMovieClip=function(l,c,d){var h=l.createEmptyMovieClip(c,d),u=1;this.make();for(var m=0;m<this.modules.length;m++)for(var x=m*u,p=0;p<this.modules[m].length;p++){var f=p*u,y=this.modules[m][p];y&&(h.beginFill(0,100),h.moveTo(f,x),h.lineTo(f+u,x),h.lineTo(f+u,x+u),h.lineTo(f,x+u),h.endFill())}return h},o.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},o.setupPositionAdjustPattern=function(){for(var l=i.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var d=0;d<l.length;d++){var h=l[c],u=l[d];if(this.modules[h][u]==null)for(var m=-2;m<=2;m++)for(var x=-2;x<=2;x++)m==-2||m==2||x==-2||x==2||m==0&&x==0?this.modules[h+m][u+x]=!0:this.modules[h+m][u+x]=!1}},o.setupTypeNumber=function(l){for(var c=i.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var h=!l&&(c>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=h}for(var d=0;d<18;d++){var h=!l&&(c>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=h}},o.setupTypeInfo=function(l,c){for(var d=this.errorCorrectLevel<<3|c,h=i.getBCHTypeInfo(d),u=0;u<15;u++){var m=!l&&(h>>u&1)==1;u<6?this.modules[u][8]=m:u<8?this.modules[u+1][8]=m:this.modules[this.moduleCount-15+u][8]=m}for(var u=0;u<15;u++){var m=!l&&(h>>u&1)==1;u<8?this.modules[8][this.moduleCount-u-1]=m:u<9?this.modules[8][15-u-1+1]=m:this.modules[8][15-u-1]=m}this.modules[this.moduleCount-8][8]=!l},o.mapData=function(l,c){for(var d=-1,h=this.moduleCount-1,u=7,m=0,x=this.moduleCount-1;x>0;x-=2)for(x==6&&x--;;){for(var p=0;p<2;p++)if(this.modules[h][x-p]==null){var f=!1;m<l.length&&(f=(l[m]>>>u&1)==1);var y=i.getMask(c,h,x-p);y&&(f=!f),this.modules[h][x-p]=f,u--,u==-1&&(m++,u=7)}if(h+=d,h<0||this.moduleCount<=h){h-=d,d=-d;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(l,c,d){for(var h=e.getRSBlocks(l,c),u=new r,m=0;m<d.length;m++){var x=d[m];u.put(x.mode,4),u.put(x.getLength(),i.getLengthInBits(x.mode,l)),x.write(u)}for(var p=0,m=0;m<h.length;m++)p+=h[m].dataCount;if(u.getLengthInBits()>p*8)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+p*8+")");for(u.getLengthInBits()+4<=p*8&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=p*8||(u.put(a.PAD0,8),u.getLengthInBits()>=p*8));)u.put(a.PAD1,8);return a.createBytes(u,h)},a.createBytes=function(l,c){for(var d=0,h=0,u=0,m=new Array(c.length),x=new Array(c.length),p=0;p<c.length;p++){var f=c[p].dataCount,y=c[p].totalCount-f;h=Math.max(h,f),u=Math.max(u,y),m[p]=new Array(f);for(var w=0;w<m[p].length;w++)m[p][w]=255&l.buffer[w+d];d+=f;var A=i.getErrorCorrectPolynomial(y),g=new n(m[p],A.getLength()-1),j=g.mod(A);x[p]=new Array(A.getLength()-1);for(var w=0;w<x[p].length;w++){var C=w+j.getLength()-x[p].length;x[p][w]=C>=0?j.get(C):0}}for(var k=0,w=0;w<c.length;w++)k+=c[w].totalCount;for(var P=new Array(k),I=0,w=0;w<h;w++)for(var p=0;p<c.length;p++)w<m[p].length&&(P[I++]=m[p][w]);for(var w=0;w<u;w++)for(var p=0;p<c.length;p++)w<x[p].length&&(P[I++]=x[p][w]);return P},cr=a,cr}var Zt={},ca;function Xx(){if(ca)return Zt;ca=1,Object.defineProperty(Zt,"__esModule",{value:!0});var s=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(d[m]=u[m])}return d},e=Oo(),r=a(e),i=Dr(),n=a(i);function a(d){return d&&d.__esModule?d:{default:d}}function o(d,h){var u={};for(var m in d)h.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m]);return u}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},c=(0,i.forwardRef)(function(d,h){var u=d.bgColor,m=d.bgD,x=d.fgD,p=d.fgColor,f=d.size,y=d.title,w=d.viewBoxSize,A=d.xmlns,g=A===void 0?"http://www.w3.org/2000/svg":A,j=o(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return n.default.createElement("svg",s({},j,{height:f,ref:h,viewBox:"0 0 "+w+" "+w,width:f,xmlns:g}),y?n.default.createElement("title",null,y):null,n.default.createElement("path",{d:m,fill:u}),n.default.createElement("path",{d:x,fill:p}))});return c.displayName="QRCodeSvg",c.propTypes=l,Zt.default=c,Zt}var da;function Zx(){if(da)return ct;da=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.QRCode=void 0;var s=Object.assign||function(f){for(var y=1;y<arguments.length;y++){var w=arguments[y];for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(f[A]=w[A])}return f},e=Oo(),r=u(e),i=_o(),n=u(i),a=Jx(),o=u(a),l=Dr(),c=u(l),d=Xx(),h=u(d);function u(f){return f&&f.__esModule?f:{default:f}}function m(f,y){var w={};for(var A in f)y.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(f,A)&&(w[A]=f[A]);return w}var x={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},p=(0,l.forwardRef)(function(f,y){var w=f.bgColor,A=w===void 0?"#FFFFFF":w,g=f.fgColor,j=g===void 0?"#000000":g,C=f.level,k=C===void 0?"L":C,P=f.size,I=P===void 0?256:P,O=f.value,S=m(f,["bgColor","fgColor","level","size","value"]),U=new o.default(-1,n.default[k]);U.addData(O),U.make();var T=U.modules;return c.default.createElement(h.default,s({},S,{bgColor:A,bgD:T.map(function(L,N){return L.map(function(E,_){return E?"":"M "+_+" "+N+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:j,fgD:T.map(function(L,N){return L.map(function(E,_){return E?"M "+_+" "+N+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:y,size:I,viewBoxSize:T.length}))});return ct.QRCode=p,p.displayName="QRCode",p.propTypes=x,ct.default=p,ct}var ef=Zx();const ha=Ho(ef);class tf{permission="default";_isSupported;constructor(){this._isSupported="Notification"in window,this._isSupported&&(this.permission=Notification.permission)}async requestPermission(){if(!this._isSupported)return console.warn("Notifications not supported in this browser"),!1;if(this.permission==="granted")return!0;if(this.permission==="denied")return console.warn("Notification permission denied"),!1;try{const e=await Notification.requestPermission();return this.permission=e,e==="granted"}catch(e){return console.error("Error requesting notification permission:",e),!1}}async showNotification(e){if(!this._isSupported||this.permission!=="granted")return null;try{const r=new Notification(e.title,{body:e.body,icon:e.icon||"/icon-192x192.png",badge:e.badge||"/icon-192x192.png",tag:e.tag,data:e.data,requireInteraction:!1,silent:!1});return setTimeout(()=>{r.close()},5e3),r}catch(r){return console.error("Error showing notification:",r),null}}async showAdNotification(e,r){await this.showNotification({title:"New Ad Available! ðŸŽ¬",body:`Watch "${e}" and earn ${r} USDT`,tag:"new-ad",data:{type:"new-ad",reward:r}})}async showRewardNotification(e,r){await this.showNotification({title:"Reward Earned! ðŸ’°",body:`You earned ${e} USDT from ${r}`,tag:"reward-earned",data:{type:"reward",amount:e,source:r}})}async showVIPNotification(){await this.showNotification({title:"VIP Benefits Unlocked! ðŸ‘‘",body:"You now have access to exclusive ads and higher rewards",tag:"vip-unlocked",data:{type:"vip-unlocked"}})}async showWithdrawalNotification(e){await this.showNotification({title:"Withdrawal Successful! ðŸ’¸",body:`${e} USDT has been sent to your wallet`,tag:"withdrawal-success",data:{type:"withdrawal",amount:e}})}async showReferralNotification(e){await this.showNotification({title:"Referral Bonus! ðŸŽ",body:`Share your code: ${e} and earn 10% of your referrals' earnings`,tag:"referral-bonus",data:{type:"referral",code:e}})}isPermissionGranted(){return this.permission==="granted"}isSupported(){return this._isSupported}}const Re=new tf,sf=({userId:s})=>{const[e,r]=b.useState([]),[i,n]=b.useState(null);return b.useEffect(()=>{const a=localStorage.getItem("depositProofs"),o=a?JSON.parse(a):[];r(o.filter(l=>l.userId===s))},[s]),e.length===0?t.jsx("div",{className:"text-white/60 text-sm",children:"No deposit history yet."}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm text-white",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-white/20",children:[t.jsx("th",{className:"px-2 py-2 text-left",children:"Amount"}),t.jsx("th",{className:"px-2 py-2 text-left",children:"Status"}),t.jsx("th",{className:"px-2 py-2 text-left",children:"Date"}),t.jsx("th",{className:"px-2 py-2 text-left",children:"Screenshot"})]})}),t.jsx("tbody",{children:e.slice().reverse().map(a=>t.jsxs("tr",{className:"border-b border-white/10",children:[t.jsxs("td",{className:"px-2 py-2",children:[a.amount," USDT"]}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${a.status==="approved"?"bg-green-500/20 text-green-400":a.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})}),t.jsx("td",{className:"px-2 py-2",children:new Date(a.submittedAt).toLocaleString()}),t.jsx("td",{className:"px-2 py-2",children:a.screenshot?t.jsx("button",{type:"button",onClick:()=>n(a.screenshot),className:"underline text-blue-400 hover:text-blue-300 transition-colors",children:"View"}):t.jsx("span",{className:"text-white/40",children:"-"})})]},a.id))})]})}),i&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-4 max-w-md mx-4 flex flex-col items-center backdrop-blur-lg",children:[t.jsxs("div",{className:"flex items-center justify-between w-full mb-4",children:[t.jsx("h2",{className:"text-lg font-bold text-white",children:"Deposit Screenshot"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"text-white/70 hover:text-white bg-green-500/20 hover:bg-green-500/30 rounded-full p-2 transition-colors",onClick:()=>{const a=document.createElement("a");a.href=i,a.download=`deposit-screenshot-${Date.now()}.png`,a.click()},title:"Download Screenshot",children:t.jsx(Br,{className:"w-4 h-4"})}),t.jsx("button",{className:"text-white/70 hover:text-white bg-red-500/20 hover:bg-red-500/30 rounded-full p-2 transition-colors",onClick:()=>n(null),title:"Close",children:t.jsx(Ee,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"w-full max-h-[50vh] overflow-hidden rounded-xl border border-white/10",children:t.jsx("img",{src:i,alt:"Deposit Screenshot",className:"w-full h-auto max-h-[50vh] object-contain bg-white/5",style:{objectFit:"contain",userSelect:"none",pointerEvents:"none"}})}),t.jsx("p",{className:"text-white/60 text-xs text-center mt-3",children:"Click download button to save the screenshot"})]})})]})},rf=({userId:s})=>{const[e,r]=b.useState([]);return b.useEffect(()=>{const i=localStorage.getItem("withdrawRequests"),n=i?JSON.parse(i):[];r(n.filter(a=>a.userId===s))},[s]),e.length===0?t.jsx("div",{className:"text-white/60 text-sm",children:"No withdrawal history yet."}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-sm text-white",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-white/20",children:[t.jsx("th",{className:"px-2 py-2 text-left",children:"Amount"}),t.jsx("th",{className:"px-2 py-2 text-left",children:"Status"}),t.jsx("th",{className:"px-2 py-2 text-left",children:"Date"}),t.jsx("th",{className:"px-2 py-2 text-left",children:"Address"})]})}),t.jsx("tbody",{children:e.slice().reverse().map(i=>t.jsxs("tr",{className:"border-b border-white/10",children:[t.jsxs("td",{className:"px-2 py-2",children:[i.amount," USDT"]}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i.status==="approved"?"bg-green-500/20 text-green-400":i.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})}),t.jsx("td",{className:"px-2 py-2",children:new Date(i.requestedAt).toLocaleString()}),t.jsx("td",{className:"px-2 py-2",children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(bt,{className:"w-3 h-3 text-white/60 cursor-pointer hover:text-white"}),t.jsx("span",{className:"text-white/80 responsive-text font-mono break-all",children:i.walletAddress})]})})]},i.id))})]})})},nf=({user:s,onUserUpdate:e})=>{const r=()=>localStorage.getItem("activeWithdrawTab")==="withdraw"?"withdraw":"deposit",[i,n]=b.useState(r),[a,o]=b.useState(""),[l,c]=b.useState(""),[d,h]=b.useState(!1),[u,m]=b.useState(!1),[x,p]=b.useState(""),[f,y]=b.useState(""),[w,A]=b.useState(null),[g,j]=b.useState(null),[C,k]=b.useState(""),P=b.useRef(null),[I,O]=b.useState(!1),[S,U]=b.useState(""),[T,L]=b.useState(""),[N,E]=b.useState(!1),[_,K]=b.useState(""),[Q,te]=b.useState(""),[re,Y]=b.useState(""),[R,D]=b.useState([]),[F,q]=b.useState(""),[X,Z]=b.useState(""),le=1,J=2,he=z=>{n(z),localStorage.setItem("activeWithdrawTab",z),window.scrollTo({top:0,behavior:"auto"})};b.useEffect(()=>{const z=localStorage.getItem(`withdrawWhitelist_${s.id}`);D(z?JSON.parse(z):[])},[s.id]);const xe=()=>{const z=l.trim();if(z&&!R.includes(z)){const H=[...R,z];D(H),localStorage.setItem(`withdrawWhitelist_${s.id}`,JSON.stringify(H))}},Pe=z=>{const H=R.filter(v=>v!==z);D(H),localStorage.setItem(`withdrawWhitelist_${s.id}`,JSON.stringify(H))},je="TX8aLDW4Nqgfa5MNaMSJS2YGwJeZM9Y6WD",pe=50,Be=1e4,Je=10,Xe=5e3;b.useEffect(()=>{console.log("Screenshot state changed:",{hasScreenshot:!!w,screenshotLength:w?.length||0})},[w]),b.useEffect(()=>{console.log("Active tab changed:",i)},[i]);const Cs=async()=>{try{await navigator.clipboard.writeText(je),h(!0),setTimeout(()=>h(!1),2e3)}catch{const H=document.createElement("textarea");H.value=je,document.body.appendChild(H),H.select(),document.execCommand("copy"),document.body.removeChild(H),h(!0),setTimeout(()=>h(!1),2e3)}},Es=z=>{const H=z.target.files?.[0];if(console.log("Screenshot upload triggered:",H),H){if(!H.type.startsWith("image/")){alert("Please select an image file");return}if(H.size>5*1024*1024){alert("Image size must be less than 5MB");return}console.log("File validation passed:",{name:H.name,type:H.type,size:H.size});const v=new FileReader;v.onload=B=>{const M=B.target?.result;console.log("FileReader result length:",M?.length),A(M),j(H),console.log("Screenshot state updated")},v.onerror=B=>{console.error("FileReader error:",B),alert("Error reading file. Please try again.")},v.readAsDataURL(H)}else console.log("No file selected")},Wt=()=>{A(null),j(null),P.current&&(P.current.value="")},Ht=async()=>{const z=parseFloat(x);if(!x||isNaN(z)||z<pe||z>Be){Z(`Deposit must be between ${pe} and ${Be} USDT`);return}if(!w){alert("Please upload a screenshot of your payment transaction.");return}Z("");try{const H={id:`deposit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:s.id,username:s.username,amount:z,transactionHash:f||"",screenshot:w,depositToAddress:je,status:"pending",submittedAt:new Date,adminNotes:""};if(f&&f.trim()){alert("Verifying transaction on blockchain...");const $=await Gn.verifyDeposit(f.trim(),z,je,s.id);$.isValid?$.autoApprove?(H.status="approved",H.processedAt=new Date,H.adminNotes=`Auto-approved: ${$.reason}`,V.handleDeposit(s.id,z),e({...s,balance:s.balance+z}),alert(`âœ… Deposit automatically approved! ${z} USDT has been added to your balance.`),Re.showNotification({title:"Deposit Approved",body:`Your deposit of ${z} USDT was automatically approved and added to your balance.`,tag:"deposit-approved",data:{type:"deposit",status:"approved",amount:z}})):(H.adminNotes=`Valid transaction but requires manual review: ${$.reason}`,alert(`âœ… Transaction verified! Your deposit is pending manual review. Reason: ${$.reason}`),Re.showNotification({title:"Deposit Pending Review",body:`Your deposit of ${z} USDT is pending manual review. Reason: ${$.reason}`,tag:"deposit-pending",data:{type:"deposit",status:"pending",amount:z}})):(H.adminNotes=`Verification failed: ${$.reason}`,alert(`âš ï¸ Transaction verification failed. Your deposit has been submitted for manual review. Reason: ${$.reason}`),Re.showNotification({title:"Deposit Not Approved",body:`Your deposit could not be automatically approved. Reason: ${$.reason}`,tag:"deposit-refused",data:{type:"deposit",status:"refused",amount:z}}))}else H.adminNotes="No transaction hash provided - manual review required",alert(`Deposit proof submitted for ${x} USDT. Awaiting manual review.`),Re.showNotification({title:"Deposit Pending Review",body:`Your deposit of ${z} USDT is pending manual review.`,tag:"deposit-pending",data:{type:"deposit",status:"pending",amount:z}});const v=localStorage.getItem("depositProofs"),B=v?JSON.parse(v):[];B.push(H),localStorage.setItem("depositProofs",JSON.stringify(B)),p(""),y(""),A(null),j(null),P.current&&(P.current.value="")}catch(H){console.error("Error submitting deposit:",H),alert("Error submitting deposit. Please try again."),Re.showNotification({title:"Deposit Error",body:"There was an error submitting your deposit. Please try again.",tag:"deposit-error",data:{type:"deposit",status:"error"}})}},ks=()=>{s.withdrawPasscode?(E(!1),O(!0)):(E(!0),O(!0))},Ts=()=>{ks()},Ds=[{id:"deposit",label:"Deposit",icon:ur},{id:"withdraw",label:"Withdraw",icon:Br}];return t.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(Ve,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),t.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[t.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8 text-center",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"Wallet"}),t.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Deposit and withdraw your USDT"})]}),t.jsx("div",{className:"glass-card border border-white/10 rounded-2xl p-2 mb-8 backdrop-blur-lg",children:t.jsx("div",{className:"flex space-x-2",children:Ds.map(({id:z,label:H,icon:v})=>t.jsxs("button",{onClick:()=>he(z),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-xl transition-all duration-500 ease-in-out font-medium transform ${i===z?"bg-gradient-to-r from-yellow-400 to-orange-400 text-black shadow-lg scale-105":"text-white/80 hover:text-white hover:bg-white/10 hover:scale-102"}`,children:[t.jsx(v,{className:`w-5 h-5 transition-transform duration-300 ${i===z?"scale-110":""}`}),t.jsx("span",{className:"transition-all duration-300",children:H})]},z))})}),t.jsx("div",{className:"glass-card border border-yellow-400/30 shadow-2xl rounded-3xl p-6 mb-8 backdrop-blur-xl",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-white/70 text-sm mb-1",children:"Available Balance"}),t.jsxs("span",{className:"text-4xl sm:text-5xl font-extrabold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent drop-shadow-xl",children:["$",s.balance.toFixed(2)]}),t.jsx("p",{className:"text-white/60 text-sm mt-1",children:"USDT"})]})}),t.jsxs("div",{className:"relative",children:[i==="withdraw"&&t.jsxs("div",{className:"animate-fadeInSlideUp",children:[t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Withdrawal Details"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Amount (USDT)"}),t.jsx("input",{type:"number",value:a,onChange:z=>{o(z.target.value);const H=parseFloat(z.target.value);isNaN(H)||H<Je?q(`Minimum withdrawal is ${Je} USDT`):H>Xe?q(`Maximum withdrawal is ${Xe} USDT`):q("")},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter amount to withdraw",min:Je,max:Xe,step:"0.01"}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[t.jsx("button",{onClick:()=>o("50"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"50 USDT"}),t.jsx("button",{onClick:()=>o("100"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"100 USDT"}),t.jsx("button",{onClick:()=>o("500"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"500 USDT"}),t.jsx("button",{onClick:()=>o("1000"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"1000 USDT"})]}),t.jsxs("p",{className:"text-white/60 text-sm mt-1",children:["Minimum: ",Je," USDT Â  | Â  Maximum: ",Xe," USDT"]}),F&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:F}),a&&!F&&t.jsxs("p",{className:"text-yellow-400 text-xs mt-1",children:["Estimated Network Fee: ",le," USDT",t.jsx("br",{}),"Net Amount Received: ",Math.max(0,parseFloat(a)-le).toFixed(2)," USDT"]}),a&&!F&&t.jsx("p",{className:"text-blue-400 text-xs mt-1",children:"Estimated Arrival: 10-30 minutes"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Withdrawal Address"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:l,onChange:z=>c(z.target.value),placeholder:"Enter your USDT wallet address",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all"}),t.jsx("button",{onClick:xe,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",disabled:!l.trim()||R.includes(l.trim()),children:t.jsx(bt,{className:"w-5 h-5"})})]}),R.length>0&&t.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[t.jsx("span",{className:"text-white/60 text-xs",children:"Saved Addresses:"}),R.map(z=>t.jsxs("span",{className:"inline-flex items-center bg-white/10 border border-white/20 rounded px-2 py-1 text-xs text-white font-mono",children:[t.jsx("span",{className:"mr-1 cursor-pointer hover:underline",onClick:()=>c(z),children:z}),t.jsx("button",{onClick:()=>Pe(z),className:"ml-1 text-red-400 hover:text-red-600",children:"Ã—"})]},z))]})]}),t.jsxs("div",{className:"glass-card border border-blue-400/20 bg-white/10 backdrop-blur-md rounded-lg p-4 shadow-lg",children:[t.jsxs("h3",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[t.jsx(ue,{className:"w-5 h-5 mr-2 text-blue-300"}),"Withdrawal Fee Calculator"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"TRC20 Network Fee:"}),t.jsxs("span",{className:"text-blue-400 font-semibold",children:["~",le," USDT"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Platform Fee:"}),t.jsxs("span",{className:"text-blue-300 font-semibold",children:[J," USDT"]})]}),t.jsxs("div",{className:"border-t border-white/20 pt-2 flex justify-between",children:[t.jsx("span",{className:"text-white font-semibold",children:"Total Fee:"}),t.jsxs("span",{className:"text-white font-semibold",children:["~",le+J," USDT"]})]}),a&&!F&&t.jsxs("div",{className:"border-t border-white/20 pt-2 flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Net Amount Received:"}),t.jsxs("span",{className:"text-green-400 font-semibold",children:[Math.max(0,parseFloat(a)-le-J).toFixed(2)," USDT"]})]}),t.jsx("p",{className:"text-white/60 text-xs mt-2",children:"* Network fees may vary based on blockchain congestion"})]})]}),t.jsxs("div",{className:"glass-card border border-purple-400/20 bg-white/10 backdrop-blur-md rounded-lg p-4 shadow-lg mt-6",children:[t.jsxs("h3",{className:"text-purple-300 font-semibold mb-2 flex items-center",children:[t.jsx(oi,{className:"w-5 h-5 mr-2 text-purple-300"}),"How to Withdraw USDT"]}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/90 font-medium",children:"Enter Withdrawal Amount"}),t.jsx("p",{className:"text-white/60",children:"Choose how much USDT you want to withdraw (10-5,000 USDT)"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"2"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/90 font-medium",children:"Provide Wallet Address"}),t.jsx("p",{className:"text-white/60",children:"Enter your USDT (TRC20) wallet address for receiving funds"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"3"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/90 font-medium",children:"Confirm Withdrawal"}),t.jsx("p",{className:"text-white/60",children:"Review details and confirm your withdrawal request"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"4"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/90 font-medium",children:"Wait for Processing"}),t.jsx("p",{className:"text-white/60",children:"Your withdrawal will be processed within 10-30 minutes"})]})]})]}),t.jsx("div",{className:"mt-4 p-3 bg-white/10 rounded-lg backdrop-blur-sm",children:t.jsxs("p",{className:"text-white/70 text-xs",children:[t.jsx("strong",{children:"ðŸ’¡ Tip:"})," Make sure your wallet address is correct before confirming. Withdrawals are irreversible once processed."]})})]}),l&&t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"bg-white p-4 rounded-lg",children:t.jsx(ha,{value:l,size:128})})}),t.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[t.jsxs("h3",{className:"text-blue-400 font-semibold mb-2 flex items-center",children:[t.jsx(hr,{className:"w-5 h-5 mr-2"}),"Withdrawal Limits & Information"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Minimum Withdrawal:"}),t.jsxs("span",{className:"text-blue-400 font-semibold",children:[Je," USDT"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Maximum Per Transaction:"}),t.jsxs("span",{className:"text-blue-400 font-semibold",children:[Xe," USDT"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Daily Limit:"}),t.jsx("span",{className:"text-blue-400 font-semibold",children:"10,000 USDT"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Monthly Limit:"}),t.jsx("span",{className:"text-blue-400 font-semibold",children:"100,000 USDT"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Processing Time:"}),t.jsx("span",{className:"text-green-400 font-semibold",children:"10-30 minutes"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Network:"}),t.jsx("span",{className:"text-orange-400 font-semibold",children:"TRC20 Only"})]})]})]}),t.jsxs("div",{className:"glass-card border border-blue-400/20 bg-white/10 backdrop-blur-md rounded-lg p-4 shadow-lg",children:[t.jsxs("h3",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[t.jsx(gt,{className:"w-5 h-5 mr-2 text-blue-300"}),"Security Reminders"]}),t.jsxs("ul",{className:"text-white/80 text-sm space-y-1",children:[t.jsx("li",{children:"â€¢ Double-check your wallet address before confirming"}),t.jsx("li",{children:"â€¢ Use only TRC20 USDT wallet addresses"}),t.jsx("li",{children:"â€¢ Withdrawals are irreversible once processed"}),t.jsx("li",{children:"â€¢ Keep your withdrawal passcode secure"}),t.jsx("li",{children:"â€¢ Never share your wallet private keys"})]})]}),t.jsx("button",{onClick:Ts,className:"w-full py-4 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-400 text-black font-bold text-lg shadow-lg hover:from-yellow-500 hover:to-orange-500 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"Withdraw USDT"})]})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-6",children:"Withdrawal History"}),t.jsx(rf,{userId:s.id})]})]}),i==="deposit"&&t.jsxs("div",{className:"animate-fadeInSlideUp",children:[t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent mb-6",children:"Deposit USDT"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Deposit Amount (USDT)"}),t.jsx("input",{type:"number",value:x,onChange:z=>{p(z.target.value);const H=parseFloat(z.target.value);isNaN(H)||H<pe?Z(`Minimum deposit is ${pe} USDT`):H>Be?Z(`Maximum deposit is ${Be} USDT`):Z("")},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-green-400/50 focus:border-green-400 transition-all [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter amount you deposited",min:pe,max:Be,step:"0.01"}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[t.jsx("button",{onClick:()=>p("100"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"100 USDT"}),t.jsx("button",{onClick:()=>p("500"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"500 USDT"}),t.jsx("button",{onClick:()=>p("1000"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"1000 USDT"}),t.jsx("button",{onClick:()=>p("2000"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"2000 USDT"})]}),t.jsxs("p",{className:"text-white/60 text-sm mt-1",children:["Minimum: ",pe," USDT Â  | Â  Maximum: ",Be," USDT"]}),X&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:X}),x&&!X&&t.jsx("p",{className:"text-green-400 text-xs mt-1",children:"âœ“ Amount is within valid range"})]}),t.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[t.jsxs("h3",{className:"text-blue-400 font-semibold mb-2 flex items-center",children:[t.jsx(ue,{className:"w-5 h-5 mr-2"}),"Network Fee Calculator"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"TRC20 Network Fee:"}),t.jsx("span",{className:"text-blue-400 font-semibold",children:"~2 USDT"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Platform Fee:"}),t.jsx("span",{className:"text-green-400 font-semibold",children:"0 USDT"})]}),t.jsxs("div",{className:"border-t border-white/20 pt-2 flex justify-between",children:[t.jsx("span",{className:"text-white font-semibold",children:"Total Fee:"}),t.jsx("span",{className:"text-white font-semibold",children:"~2 USDT"})]}),t.jsx("p",{className:"text-white/60 text-xs mt-2",children:"* Network fees may vary based on blockchain congestion"})]})]}),t.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4",children:[t.jsxs("h3",{className:"text-purple-400 font-semibold mb-2 flex items-center",children:[t.jsx(hr,{className:"w-5 h-5 mr-2"}),"Deposit Limits"]}),t.jsx("div",{className:"space-y-2 text-sm",children:(()=>{const z=Gn.getRateLimitStatus(s.id),H=new Date(z.resetTime);return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Remaining Deposits:"}),t.jsxs("span",{className:`font-semibold ${z.remaining>0?"text-green-400":"text-red-400"}`,children:[z.remaining," / 3"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white/80",children:"Limit Resets:"}),t.jsx("span",{className:"text-purple-400 font-semibold",children:H.toLocaleTimeString()})]}),z.remaining===0&&t.jsx("p",{className:"text-red-400 text-xs mt-2",children:"âš ï¸ Rate limit reached. Please wait until the limit resets."})]})})()})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Transaction Hash (Optional)"}),t.jsx("input",{type:"text",value:f,onChange:z=>y(z.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-green-400/50 focus:border-green-400 transition-all",placeholder:"Enter your transaction hash (optional)"}),t.jsx("p",{className:"text-white/60 text-sm mt-1",children:"Provide transaction hash for faster verification"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Our Deposit Address"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:je,readOnly:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white focus:outline-none"}),t.jsx("button",{onClick:Cs,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:d?t.jsx(kt,{className:"w-5 h-5 text-green-400"}):t.jsx(bt,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx("label",{className:"block text-white/90 font-medium text-center",children:"Scan QR Code to Get Deposit Address"}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border-2 border-white/20",children:t.jsx(ha,{value:je,size:160,level:"M",bgColor:"#FFFFFF",fgColor:"#000000"})}),t.jsx("p",{className:"text-white/60 text-sm text-center max-w-xs",children:"Scan this QR code with your wallet app to get the deposit address"})]}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-center",children:"Upload Payment Proof"}),t.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center w-full max-w-md",children:[t.jsx("input",{type:"file",ref:P,onChange:Es,accept:"image/*",className:"hidden"}),w?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative inline-block",children:[t.jsx("img",{src:w,alt:"Payment proof",className:"max-w-full h-32 object-contain rounded-lg border border-white/20"}),t.jsx("button",{onClick:Wt,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors",children:t.jsx(Ee,{className:"w-4 h-4"})})]}),t.jsx("button",{onClick:()=>P.current?.click(),className:"text-green-400 hover:text-green-300 text-sm underline",children:"Change screenshot"})]}):t.jsxs("button",{onClick:()=>P.current?.click(),className:"flex flex-col items-center space-y-2 text-white/70 hover:text-white transition-colors w-full",children:[t.jsx(ur,{className:"w-8 h-8"}),t.jsx("span",{children:"Click to upload screenshot"}),t.jsx("p",{className:"text-white/50 text-xs",children:"PNG, JPG, JPEG up to 5MB"})]})]}),t.jsx("p",{className:"text-white/60 text-sm text-center max-w-xs mt-2",children:"Upload a screenshot of your payment transaction for verification"})]}),t.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:[t.jsxs("h3",{className:"text-yellow-400 font-semibold mb-2 flex items-center",children:[t.jsx(gt,{className:"w-5 h-5 mr-2"}),"Important Information"]}),t.jsxs("ul",{className:"text-white/80 text-sm space-y-1",children:[t.jsx("li",{children:"â€¢ Send only USDT (TRC20) to the address above"}),t.jsxs("li",{children:["â€¢ Minimum deposit: ",pe," USDT"]}),t.jsxs("li",{children:["â€¢ Maximum deposit: ",Be," USDT"]}),t.jsx("li",{children:"â€¢ Processing time: 10-30 minutes after confirmation"}),t.jsx("li",{children:"â€¢ Always double-check the address before sending"})]})]}),t.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:[t.jsxs("h3",{className:"text-green-400 font-semibold mb-2 flex items-center",children:[t.jsx(oi,{className:"w-5 h-5 mr-2"}),"How to Deposit USDT"]}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-green-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/90 font-medium",children:"Copy or Scan Address"}),t.jsx("p",{className:"text-white/60",children:"Copy the deposit address above or scan the QR code with your wallet"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-green-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"2"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/90 font-medium",children:"Send USDT from Your Wallet"}),t.jsx("p",{className:"text-white/60",children:"Open your wallet app and send USDT (TRC20) to the copied address"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-green-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"3"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/90 font-medium",children:"Wait for Confirmation"}),t.jsx("p",{className:"text-white/60",children:"Wait for the transaction to be confirmed on the blockchain (usually 1-3 minutes)"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-green-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"4"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/90 font-medium",children:"Submit Proof"}),t.jsx("p",{className:"text-white/60",children:"Enter the amount, upload screenshot, and submit for verification"})]})]})]}),t.jsx("div",{className:"mt-4 p-3 bg-white/5 rounded-lg",children:t.jsxs("p",{className:"text-white/70 text-xs",children:[t.jsx("strong",{children:"ðŸ’¡ Tip:"})," Take a screenshot of your wallet transaction for faster verification. Make sure the screenshot shows the transaction hash, amount, and recipient address."]})})]}),t.jsx("button",{onClick:Ht,disabled:!w||!x,className:"w-full py-4 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 text-white font-bold text-lg shadow-lg hover:from-green-500 hover:to-blue-500 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Deposit Proof"})]})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-6",children:"Deposit History"}),t.jsx(sf,{userId:s.id})]})]})]})]})]})},St={"United States":"+1",Canada:"+1","United Kingdom":"+44",Germany:"+49",France:"+33",Italy:"+39",Spain:"+34",Netherlands:"+31",Belgium:"+32",Switzerland:"+41",Austria:"+43",Sweden:"+46",Norway:"+47",Denmark:"+45",Finland:"+358",Poland:"+48","Czech Republic":"+420",Hungary:"+36",Portugal:"+351",Greece:"+30",Turkey:"+90",Russia:"+7",China:"+86",Japan:"+81","South Korea":"+82",India:"+91",Australia:"+61","New Zealand":"+64",Brazil:"+55",Mexico:"+52",Argentina:"+54",Chile:"+56",Colombia:"+57",Peru:"+51",Venezuela:"+58","South Africa":"+27",Egypt:"+20",Nigeria:"+234",Kenya:"+254",Morocco:"+212",Algeria:"+213",Tunisia:"+216",Libya:"+218",Israel:"+972","Saudi Arabia":"+966","United Arab Emirates":"+971",Qatar:"+974",Kuwait:"+965",Bahrain:"+973",Oman:"+968",Jordan:"+962",Lebanon:"+961",Syria:"+963",Iraq:"+964",Iran:"+98",Afghanistan:"+93",Pakistan:"+92",Bangladesh:"+880","Sri Lanka":"+94",Nepal:"+977",Thailand:"+66",Vietnam:"+84",Malaysia:"+60",Singapore:"+65",Indonesia:"+62",Philippines:"+63",Cambodia:"+855",Myanmar:"+95",Laos:"+856",Brunei:"+673"},af={Afghanistan:"Asia/Kabul",Albania:"Europe/Tirane",Algeria:"Africa/Algiers",Andorra:"Europe/Andorra",Angola:"Africa/Luanda","Antigua and Barbuda":"America/Antigua",Argentina:"America/Argentina/Buenos_Aires",Armenia:"Asia/Yerevan",Australia:"Australia/Sydney",Austria:"Europe/Vienna",Azerbaijan:"Asia/Baku",Bahamas:"America/Nassau",Bahrain:"Asia/Bahrain",Bangladesh:"Asia/Dhaka",Barbados:"America/Barbados",Belarus:"Europe/Minsk",Belgium:"Europe/Brussels",Belize:"America/Belize",Benin:"Africa/Porto-Novo",Bhutan:"Asia/Thimphu",Bolivia:"America/La_Paz","Bosnia and Herzegovina":"Europe/Sarajevo",Botswana:"Africa/Gaborone",Brazil:"America/Sao_Paulo",Brunei:"Asia/Brunei",Bulgaria:"Europe/Sofia","Burkina Faso":"Africa/Ouagadougou",Burundi:"Africa/Bujumbura","Cabo Verde":"Atlantic/Cape_Verde",Cambodia:"Asia/Phnom_Penh",Cameroon:"Africa/Douala",Canada:"America/Toronto","Central African Republic":"Africa/Bangui",Chad:"Africa/Ndjamena",Chile:"America/Santiago",China:"Asia/Shanghai",Colombia:"America/Bogota",Comoros:"Indian/Comoro",Congo:"Africa/Brazzaville","Costa Rica":"America/Costa_Rica",Croatia:"Europe/Zagreb",Cuba:"America/Havana",Cyprus:"Asia/Nicosia","Czech Republic":"Europe/Prague","Democratic Republic of the Congo":"Africa/Kinshasa",Denmark:"Europe/Copenhagen",Djibouti:"Africa/Djibouti",Dominica:"America/Dominica","Dominican Republic":"America/Santo_Domingo","East Timor":"Asia/Dili",Ecuador:"America/Guayaquil",Egypt:"Africa/Cairo","El Salvador":"America/El_Salvador","Equatorial Guinea":"Africa/Malabo",Eritrea:"Africa/Asmara",Estonia:"Europe/Tallinn",Eswatini:"Africa/Mbabane",Ethiopia:"Africa/Addis_Ababa",Fiji:"Pacific/Fiji",Finland:"Europe/Helsinki",France:"Europe/Paris",Gabon:"Africa/Libreville",Gambia:"Africa/Banjul",Georgia:"Asia/Tbilisi",Germany:"Europe/Berlin",Ghana:"Africa/Accra",Greece:"Europe/Athens",Grenada:"America/Grenada",Guatemala:"America/Guatemala",Guinea:"Africa/Conakry","Guinea-Bissau":"Africa/Bissau",Guyana:"America/Guyana",Haiti:"America/Port-au-Prince",Honduras:"America/Tegucigalpa",Hungary:"Europe/Budapest",Iceland:"Atlantic/Reykjavik",India:"Asia/Kolkata",Indonesia:"Asia/Jakarta",Iran:"Asia/Tehran",Iraq:"Asia/Baghdad",Ireland:"Europe/Dublin",Israel:"Asia/Jerusalem",Italy:"Europe/Rome","Ivory Coast":"Africa/Abidjan",Jamaica:"America/Jamaica",Japan:"Asia/Tokyo",Jordan:"Asia/Amman",Kazakhstan:"Asia/Almaty",Kenya:"Africa/Nairobi",Kiribati:"Pacific/Tarawa",Kuwait:"Asia/Kuwait",Kyrgyzstan:"Asia/Bishkek",Laos:"Asia/Vientiane",Latvia:"Europe/Riga",Lebanon:"Asia/Beirut",Lesotho:"Africa/Maseru",Liberia:"Africa/Monrovia",Libya:"Africa/Tripoli",Liechtenstein:"Europe/Vaduz",Lithuania:"Europe/Vilnius",Luxembourg:"Europe/Luxembourg",Madagascar:"Indian/Antananarivo",Malawi:"Africa/Blantyre",Malaysia:"Asia/Kuala_Lumpur",Maldives:"Indian/Maldives",Mali:"Africa/Bamako",Malta:"Europe/Malta","Marshall Islands":"Pacific/Majuro",Mauritania:"Africa/Nouakchott",Mauritius:"Indian/Mauritius",Mexico:"America/Mexico_City",Micronesia:"Pacific/Pohnpei",Moldova:"Europe/Chisinau",Monaco:"Europe/Monaco",Mongolia:"Asia/Ulaanbaatar",Montenegro:"Europe/Podgorica",Morocco:"Africa/Casablanca",Mozambique:"Africa/Maputo",Myanmar:"Asia/Yangon",Namibia:"Africa/Windhoek",Nauru:"Pacific/Nauru",Nepal:"Asia/Kathmandu",Netherlands:"Europe/Amsterdam","New Zealand":"Pacific/Auckland",Nicaragua:"America/Managua",Niger:"Africa/Niamey",Nigeria:"Africa/Lagos","North Korea":"Asia/Pyongyang","North Macedonia":"Europe/Skopje",Norway:"Europe/Oslo",Oman:"Asia/Muscat",Pakistan:"Asia/Karachi",Palau:"Pacific/Palau",Palestine:"Asia/Gaza",Panama:"America/Panama","Papua New Guinea":"Pacific/Port_Moresby",Paraguay:"America/Asuncion",Peru:"America/Lima",Philippines:"Asia/Manila",Poland:"Europe/Warsaw",Portugal:"Europe/Lisbon",Qatar:"Asia/Qatar",Romania:"Europe/Bucharest",Russia:"Europe/Moscow",Rwanda:"Africa/Kigali","Saint Kitts and Nevis":"America/St_Kitts","Saint Lucia":"America/St_Lucia","Saint Vincent and the Grenadines":"America/St_Vincent",Samoa:"Pacific/Apia","San Marino":"Europe/San_Marino","Sao Tome and Principe":"Africa/Sao_Tome","Saudi Arabia":"Asia/Riyadh",Senegal:"Africa/Dakar",Serbia:"Europe/Belgrade",Seychelles:"Indian/Mahe","Sierra Leone":"Africa/Freetown",Singapore:"Asia/Singapore",Slovakia:"Europe/Bratislava",Slovenia:"Europe/Ljubljana","Solomon Islands":"Pacific/Guadalcanal",Somalia:"Africa/Mogadishu","South Africa":"Africa/Johannesburg","South Korea":"Asia/Seoul","South Sudan":"Africa/Juba",Spain:"Europe/Madrid","Sri Lanka":"Asia/Colombo",Sudan:"Africa/Khartoum",Suriname:"America/Paramaribo",Sweden:"Europe/Stockholm",Switzerland:"Europe/Zurich",Syria:"Asia/Damascus",Taiwan:"Asia/Taipei",Tajikistan:"Asia/Dushanbe",Tanzania:"Africa/Dar_es_Salaam",Thailand:"Asia/Bangkok",Togo:"Africa/Lome",Tonga:"Pacific/Tongatapu","Trinidad and Tobago":"America/Port_of_Spain",Tunisia:"Africa/Tunis",Turkey:"Europe/Istanbul",Turkmenistan:"Asia/Ashgabat",Tuvalu:"Pacific/Funafuti",Uganda:"Africa/Kampala",Ukraine:"Europe/Kiev","United Arab Emirates":"Asia/Dubai","United Kingdom":"Europe/London","United States":"America/New_York",Uruguay:"America/Montevideo",Uzbekistan:"Asia/Tashkent",Vanuatu:"Pacific/Efate","Vatican City":"Europe/Vatican",Venezuela:"America/Caracas",Vietnam:"Asia/Ho_Chi_Minh",Yemen:"Asia/Aden",Zambia:"Africa/Lusaka",Zimbabwe:"Africa/Harare"},of=({user:s,onUserUpdate:e,navigate:r})=>{const[i,n]=b.useState(!1),[a,o]=b.useState(s.profileImage||null),[l,c]=b.useState(!1),d=b.useRef(null),[h,u]=b.useState({emailVerified:s.isEmailVerified||!1,phoneVerified:s.isPhoneVerified||!1,kycVerified:s.kycData?.status==="approved"||!1,kycStatus:s.kycData?.status||"not_submitted"}),[m,x]=b.useState({profileVisibility:s.profileVisibility||"public",showEmail:s.showEmail||!1,showPhone:s.showPhone||!1,showReferralStats:s.showReferralStats||!0}),[p,f]=b.useState({instagram:s.socialLinks?.instagram||"",twitter:s.socialLinks?.twitter||"",facebook:s.socialLinks?.facebook||"",linkedin:s.socialLinks?.linkedin||"",youtube:s.socialLinks?.youtube||""}),[y,w]=b.useState({totalReferrals:s.referralStats?.totalReferrals||0,activeReferrals:s.referralStats?.activeReferrals||0,totalEarnings:s.referralStats?.totalEarnings||0,pendingEarnings:s.referralStats?.pendingEarnings||0}),[A,g]=b.useState(""),[j,C]=b.useState(!1),[k,P]=b.useState(null),[I,O]=b.useState(!1),[S,U]=b.useState(!1),[T,L]=b.useState(!1),[N,E]=b.useState({username:s.username,email:s.email,firstName:s.firstName||"",lastName:s.lastName||"",displayName:s.displayName||s.username,bio:s.bio||"",phone:s.phone||"",countryCode:s.countryCode||"+1",country:s.country||"",timezone:s.timezone||"UTC",language:s.language||"en",birthday:s.birthday||""}),_=()=>{if(!(S||N.country))try{const D=Intl.DateTimeFormat().resolvedOptions().timeZone;console.log("Detected timezone:",D);const q={"America/New_York":"United States","America/Los_Angeles":"United States","America/Chicago":"United States","America/Denver":"United States","America/Toronto":"Canada","America/Vancouver":"Canada","Europe/London":"United Kingdom","Europe/Berlin":"Germany","Europe/Paris":"France","Europe/Rome":"Italy","Europe/Madrid":"Spain","Europe/Amsterdam":"Netherlands","Europe/Brussels":"Belgium","Europe/Zurich":"Switzerland","Europe/Vienna":"Austria","Europe/Stockholm":"Sweden","Europe/Oslo":"Norway","Europe/Copenhagen":"Denmark","Europe/Helsinki":"Finland","Asia/Tokyo":"Japan","Asia/Shanghai":"China","Asia/Seoul":"South Korea","Asia/Kolkata":"India","Asia/Baghdad":"Iraq","Asia/Kuwait":"Kuwait","Asia/Riyadh":"Saudi Arabia","Asia/Dubai":"United Arab Emirates","Australia/Sydney":"Australia","Australia/Melbourne":"Australia"}[D];q&&St[q]?(console.log(`Timezone detection found: ${q} with code: ${St[q]}`),E(X=>({...X,country:q,countryCode:St[q]})),U(!0)):console.log("Timezone not found in mapping:",D)}catch(D){console.log("Timezone location detection failed:",D)}};b.useEffect(()=>{_()},[]);const K=D=>{const F=D.target.files?.[0];if(F){if(!F.type.startsWith("image/")){alert("Please select an image file");return}if(F.size>5*1024*1024){alert("Image size must be less than 5MB");return}const q=new FileReader;q.onload=X=>{const Z=X.target?.result;o(Z),c(!1)},q.readAsDataURL(F)}},Q=()=>{const D={...s,username:N.username,email:N.email,firstName:N.firstName,lastName:N.lastName,displayName:N.displayName,bio:N.bio,phone:N.phone,countryCode:N.countryCode,country:N.country,timezone:N.timezone,language:N.language,birthday:N.birthday,profileImage:a||void 0};e(D),n(!1)},te=D=>{P(D),C(!0),setTimeout(()=>{alert(`${D==="email"?"Email":"SMS"} verification code sent! Check your ${D==="email"?"email":"phone"}.`)},1e3)},re=()=>{A.length===6?(k==="email"?(u(D=>({...D,emailVerified:!0})),e({...s,isEmailVerified:!0})):k==="phone"&&(u(D=>({...D,phoneVerified:!0})),e({...s,isPhoneVerified:!0})),C(!1),g(""),P(null),alert(`${k==="email"?"Email":"Phone"} verified successfully!`)):alert("Please enter a valid 6-digit verification code")},Y=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(s.referralCode),O(!0),setTimeout(()=>O(!1),2e3);else{const D=document.createElement("textarea");D.value=s.referralCode,D.style.position="fixed",D.style.left="-999999px",D.style.top="-999999px",document.body.appendChild(D),D.focus(),D.select();try{document.execCommand("copy"),O(!0),setTimeout(()=>O(!1),2e3)}catch(F){console.error("Failed to copy: ",F),alert("Failed to copy referral code. Please copy it manually: "+s.referralCode)}document.body.removeChild(D)}}catch(D){console.error("Failed to copy: ",D),alert("Failed to copy referral code. Please copy it manually: "+s.referralCode)}},R=(D,F)=>{f(X=>({...X,[D]:F}));const q={...p,[D]:F};e({...s,socialLinks:q})};return t.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(Ve,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),t.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[t.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8 text-center",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"Profile Settings"}),t.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Manage your account information"})]}),t.jsx("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 p-1 mx-auto mb-4",children:t.jsx("div",{className:"w-full h-full rounded-full bg-white/10 flex items-center justify-center",children:a?t.jsx("img",{src:a,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):t.jsx(xs,{className:"w-12 h-12 sm:w-16 sm:h-16 text-white/50"})})}),t.jsx("button",{onClick:()=>d.current?.click(),className:"absolute bottom-0 right-0 bg-gradient-to-r from-yellow-400 to-orange-400 p-2 rounded-full shadow-lg hover:from-yellow-500 hover:to-orange-500 transition-colors",children:t.jsx(rl,{className:"w-4 h-4 text-black"})})]}),t.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:K,className:"hidden"})]})}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg relative",children:[t.jsx("div",{className:"absolute top-4 right-4 sm:top-6 sm:right-8 z-20 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:i?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>n(!1),className:"px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-white/10 border border-white/20 text-white text-sm font-medium hover:bg-white/20 transition-colors shadow-lg",children:"Cancel"}),t.jsxs("button",{onClick:Q,className:"px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-400 text-black text-sm font-medium hover:from-yellow-500 hover:to-orange-500 transition-colors shadow-lg flex items-center justify-center space-x-2",children:[t.jsx(ci,{className:"w-4 h-4"}),t.jsx("span",{children:"Save"})]})]}):t.jsxs("button",{onClick:()=>n(!0),className:"px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gradient-to-r from-blue-400 to-purple-400 text-white text-sm font-medium hover:from-blue-500 hover:to-purple-500 transition-colors shadow-lg flex items-center justify-center space-x-2",children:[t.jsx(li,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Edit Profile"}),t.jsx("span",{className:"sm:hidden",children:"Edit"})]})}),t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Personal Information"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-sm sm:text-base",children:"First Name"}),t.jsx("input",{type:"text",value:N.firstName,onChange:D=>E({...N,firstName:D.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"First name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-sm sm:text-base",children:"Last Name"}),t.jsx("input",{type:"text",value:N.lastName,onChange:D=>E({...N,lastName:D.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Last name"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-sm sm:text-base",children:"Username"}),t.jsx("input",{type:"text",value:N.username,onChange:D=>E({...N,username:D.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Username"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-sm sm:text-base",children:"Display Name"}),t.jsx("input",{type:"text",value:N.displayName,onChange:D=>E({...N,displayName:D.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Display name"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-sm sm:text-base",children:"Email"}),t.jsx("input",{type:"email",value:N.email,onChange:D=>E({...N,email:D.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Enter email"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-sm sm:text-base",children:"Birthday"}),t.jsx("input",{type:"date",value:N.birthday,onChange:D=>E({...N,birthday:D.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,max:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-sm sm:text-base",children:"Phone"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx("select",{value:N.countryCode,onChange:D=>E({...N,countryCode:D.target.value}),disabled:!i,className:`appearance-none border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base ${i?"bg-white/10 hover:bg-white/20 cursor-pointer active:bg-white/30 touch-manipulation":"bg-white/5 cursor-not-allowed opacity-60"} w-16 sm:w-20 pr-8 min-h-[44px]`,style:{WebkitAppearance:"none",MozAppearance:"none"},children:Object.entries(St).map(([D,F])=>t.jsx("option",{value:F,style:{backgroundColor:"#1f2937",color:"white"},children:F},D))}),t.jsx("div",{className:"absolute inset-y-0 right-2 flex items-center pointer-events-none",children:t.jsx("svg",{className:"w-4 h-4 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),t.jsx("input",{type:"tel",value:N.phone,onChange:D=>E({...N,phone:D.target.value}),disabled:!i,className:`flex-1 border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Enter phone number"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-sm sm:text-base",children:"Country"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:N.country,onChange:D=>{const F=D.target.value;E({...N,country:F,countryCode:St[F]||N.countryCode})},disabled:!i,className:`w-full border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 pr-10 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base relative z-10 touch-manipulation ${i?"bg-white/10 hover:bg-white/20 cursor-pointer active:bg-white/30":"bg-white/5 cursor-not-allowed opacity-60"}`,style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none"},children:[t.jsx("option",{value:"",style:{backgroundColor:"#1f2937",color:"white"},children:"Select country"}),Object.keys(af).map(D=>t.jsx("option",{value:D,style:{backgroundColor:"#1f2937",color:"white"},children:D},D))]}),t.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"w-4 h-4 text-white/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2 text-sm sm:text-base",children:"Bio"}),t.jsx("textarea",{value:N.bio,onChange:D=>E({...N,bio:D.target.value}),disabled:!i,rows:4,className:`w-full border border-white/20 rounded-lg px-3 py-2 sm:px-4 sm:py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all resize-none text-sm sm:text-base ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Tell us about yourself..."})]})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-4 sm:p-8 mb-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-4 sm:mb-6 text-center",children:"Verification Status"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 md:gap-6",children:[t.jsxs("div",{className:"glass-card border border-white/10 rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-6 backdrop-blur-md text-center",children:[t.jsxs("div",{className:"flex flex-col items-center space-y-2 sm:space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-blue-400 mx-auto"}),t.jsx("div",{className:"absolute -top-1 -right-1",children:h.emailVerified?t.jsx(me,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400 bg-white rounded-full"}):t.jsx(it,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 bg-white rounded-full"})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold text-sm sm:text-base",children:"Email"}),t.jsx("p",{className:"text-white/70 text-xs sm:text-sm mt-1",children:h.emailVerified?"Email verified":"Email not verified"})]})]}),!h.emailVerified&&t.jsx("button",{onClick:()=>te("email"),className:"w-full mt-3 sm:mt-4 px-2 sm:px-3 py-2 bg-gradient-to-r from-blue-400 to-blue-600 text-white text-xs sm:text-sm font-medium rounded-lg hover:from-blue-500 hover:to-blue-700 transition-colors",children:"Verify Email"})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-6 backdrop-blur-md text-center",children:[t.jsxs("div",{className:"flex flex-col items-center space-y-2 sm:space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Rr,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-green-400 mx-auto"}),t.jsx("div",{className:"absolute -top-1 -right-1",children:h.phoneVerified?t.jsx(me,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400 bg-white rounded-full"}):t.jsx(it,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 bg-white rounded-full"})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold text-sm sm:text-base",children:"Phone"}),t.jsx("p",{className:"text-white/70 text-xs sm:text-sm mt-1",children:h.phoneVerified?"Phone verified":"Phone not verified"})]})]}),!h.phoneVerified&&t.jsx("button",{onClick:()=>te("phone"),className:"w-full mt-3 sm:mt-4 px-2 sm:px-3 py-2 bg-gradient-to-r from-green-400 to-green-600 text-white text-xs sm:text-sm font-medium rounded-lg hover:from-green-500 hover:to-green-700 transition-colors",children:"Verify Phone"})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-6 backdrop-blur-md text-center",children:[t.jsxs("div",{className:"flex flex-col items-center space-y-2 sm:space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(It,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-purple-400 mx-auto"}),t.jsx("div",{className:"absolute -top-1 -right-1",children:h.kycVerified?t.jsx(me,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400 bg-white rounded-full"}):h.kycStatus==="pending"?t.jsx(Fe,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400 bg-white rounded-full"}):t.jsx(it,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400 bg-white rounded-full"})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold text-sm sm:text-base",children:"KYC"}),t.jsx("p",{className:"text-white/70 text-xs sm:text-sm mt-1",children:h.kycVerified?"KYC approved":h.kycStatus==="pending"?"Under review":h.kycStatus==="rejected"?"KYC rejected":"KYC not submitted"})]})]}),h.kycStatus==="not_submitted"&&t.jsx("button",{onClick:()=>r("/kyc"),className:"w-full mt-3 sm:mt-4 px-2 sm:px-3 py-2 bg-gradient-to-r from-purple-400 to-purple-600 text-white text-xs sm:text-sm font-medium rounded-lg hover:from-purple-500 hover:to-purple-700 transition-colors",children:"Submit KYC"})]})]})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Referral Code"}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 backdrop-blur-md",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ke,{className:"w-6 h-6 text-yellow-400"}),t.jsx("span",{className:"text-white font-semibold",children:"Your Referral Code"})]}),t.jsxs("button",{onClick:Y,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-400 text-black rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-colors",children:[t.jsx(bt,{className:"w-4 h-4"}),t.jsx("span",{children:I?"Copied!":"Copy"})]})]}),t.jsx("div",{className:"bg-white/10 border border-white/20 rounded-lg p-4 mb-4",children:t.jsx("code",{className:"text-2xl font-mono text-white font-bold tracking-wider",children:s.referralCode})}),t.jsx("p",{className:"text-white/70 text-sm",children:"Share this code with friends to earn rewards when they join!"})]})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-4 sm:p-8 mb-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-4 sm:mb-6 text-center",children:"Referral Statistics"}),t.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-3 md:gap-4 lg:gap-6",children:[t.jsxs("div",{className:"glass-card border border-white/10 rounded-xl sm:rounded-2xl p-2 sm:p-4 md:p-6 backdrop-blur-md text-center",children:[t.jsx(ke,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 text-blue-400 mx-auto mb-2 sm:mb-3"}),t.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white mb-1",children:y.totalReferrals}),t.jsx("div",{className:"text-white/70 text-xs sm:text-sm",children:"Total Referrals"})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-xl sm:rounded-2xl p-2 sm:p-4 md:p-6 backdrop-blur-md text-center",children:[t.jsx(me,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 text-green-400 mx-auto mb-2 sm:mb-3"}),t.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white mb-1",children:y.activeReferrals}),t.jsx("div",{className:"text-white/70 text-xs sm:text-sm",children:"Active Referrals"})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-xl sm:rounded-2xl p-2 sm:p-4 md:p-6 backdrop-blur-md text-center",children:[t.jsx(ue,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 text-yellow-400 mx-auto mb-2 sm:mb-3"}),t.jsxs("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white mb-1",children:["$",y.totalEarnings.toFixed(2)]}),t.jsx("div",{className:"text-white/70 text-xs sm:text-sm",children:"Total Earnings"})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-xl sm:rounded-2xl p-2 sm:p-4 md:p-6 backdrop-blur-md text-center",children:[t.jsx(Fe,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 text-orange-400 mx-auto mb-2 sm:mb-3"}),t.jsxs("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white mb-1",children:["$",y.pendingEarnings.toFixed(2)]}),t.jsx("div",{className:"text-white/70 text-xs sm:text-sm",children:"Pending Earnings"})]})]})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-6 mb-8 backdrop-blur-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent",children:"Social Media Links"}),!T&&t.jsxs("button",{onClick:()=>L(!0),className:"px-3 py-2 sm:px-4 sm:py-2 rounded-lg bg-gradient-to-r from-blue-400 to-purple-400 text-white text-sm font-medium hover:from-blue-500 hover:to-purple-500 transition-colors shadow-lg flex items-center space-x-2",children:[t.jsx(li,{className:"w-4 h-4"}),t.jsx("span",{children:"Edit"})]})]}),t.jsx("div",{className:"space-y-4",children:[{platform:"instagram",icon:il,color:"text-pink-400",placeholder:"Enter your Instagram username",label:"Instagram"},{platform:"facebook",icon:nl,color:"text-blue-600",placeholder:"Enter your Facebook profile URL",label:"Facebook"},{platform:"youtube",icon:al,color:"text-red-500",placeholder:"Enter your YouTube channel URL",label:"YouTube"}].map(({platform:D,icon:F,color:q,placeholder:X,label:Z})=>{const le=p[D],J=le&&le.length>0;return t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:`
                    relative w-12 h-12 sm:w-14 sm:h-14 flex-shrink-0 rounded-full border-2 
                    ${J?"border-green-400/50 bg-green-400/10":"border-white/20 bg-white/5"} 
                    flex items-center justify-center transition-all duration-200
                  `,children:[t.jsx(F,{className:`w-6 h-6 sm:w-7 sm:h-7 ${q}`}),J&&t.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white/20 flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"text-white font-medium text-sm sm:text-base",children:Z}),!T&&J&&t.jsx("span",{className:"text-xs text-green-400 font-medium",children:"âœ“ Connected"})]}),T?t.jsx("input",{type:"text",value:le,onChange:he=>R(D,he.target.value),className:"w-full px-4 py-3 border border-white/20 rounded-lg bg-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm sm:text-base",placeholder:X}):t.jsx("div",{className:"w-full px-4 py-3 border border-white/10 rounded-lg bg-white/5 text-sm sm:text-base",children:J?t.jsx("span",{className:"text-white",children:D==="instagram"?`@${le}`:le}):t.jsx("span",{className:"text-white/40",children:"Not connected"})})]})]},D)})}),T&&t.jsx("div",{className:"flex justify-center mt-6",children:t.jsxs("button",{onClick:()=>{L(!1)},className:"px-6 py-2 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-400 text-black text-sm font-medium hover:from-yellow-500 hover:to-orange-500 transition-colors flex items-center space-x-2",children:[t.jsx(ci,{className:"w-4 h-4"}),t.jsx("span",{children:"Save Links"})]})}),t.jsx("p",{className:"text-white/60 text-xs text-center mt-4",children:T?"Enter your usernames or profile URLs above":"Click 'Edit' to add your social media links"})]}),j&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg max-w-md w-full",children:[t.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Verify ",k==="email"?"Email":"Phone"]}),t.jsxs("p",{className:"text-white/70 mb-6",children:["Enter the 6-digit verification code sent to your ",k==="email"?"email":"phone","."]}),t.jsx("input",{type:"text",value:A,onChange:D=>g(D.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all bg-white/10 text-center text-2xl font-mono tracking-widest mb-6",placeholder:"000000",maxLength:6}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{onClick:()=>{C(!1),g(""),P(null)},className:"flex-1 px-4 py-2 bg-white/10 border border-white/20 text-white rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:re,className:"flex-1 px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-400 text-black rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-colors",children:"Verify"})]})]})})]})]})},lf=({onBack:s})=>{const[e,r]=b.useState(null),[i,n]=b.useState([]),[a,o]=b.useState(!1),[l,c]=b.useState("overview");b.useEffect(()=>{const f=V.getCurrentUser();console.log("ReferralPage - Current user:",f),f&&(r(f),n(f.referralHistory||[]))},[]);const d=async()=>{if(e?.referralCode)try{const f=u();await navigator.clipboard.writeText(f),o(!0),setTimeout(()=>o(!1),2e3)}catch(f){console.error("Failed to copy: ",f)}},h=()=>{const f=`${window.location.origin}?ref=${e?.referralCode}`,y=`Join AdMoney and start earning USDT! Use my referral link: ${f}`;navigator.share?navigator.share({title:"Join AdMoney",text:y,url:f}):(navigator.clipboard.writeText(y),o(!0),setTimeout(()=>o(!1),2e3))},u=()=>`${window.location.origin}?ref=${e?.referralCode}`,m=f=>f==="active"?t.jsx(me,{className:"w-4 h-4 text-green-400"}):t.jsx(it,{className:"w-4 h-4 text-red-400"}),x=f=>f==="active"?"Active":"Inactive",p=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e?t.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(Ve,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),t.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[t.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"Referral Program"}),t.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Invite friends and earn rewards together"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[{icon:t.jsx(ke,{className:"w-8 h-8 text-purple-400 drop-shadow-glow"}),value:e?.referralCount||0,label:"Total Referrals",color:"from-purple-400 to-pink-400"},{icon:t.jsx(ue,{className:"w-8 h-8 text-green-400 drop-shadow-glow"}),value:`$${(e?.referralEarnings||0).toFixed(2)}`,label:"Total Earnings",color:"from-green-400 to-blue-400"},{icon:t.jsx(Ke,{className:"w-8 h-8 text-yellow-400 drop-shadow-glow"}),value:"$2.00",label:"Per Referral",color:"from-yellow-400 to-orange-400"}].map((f,y)=>t.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 text-center backdrop-blur-lg",children:[f.icon,t.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${f.color} bg-clip-text text-transparent drop-shadow-lg block mt-2`,children:f.value}),t.jsx("p",{className:"text-white/70 text-sm mt-1",children:f.label})]},f.label))}),t.jsxs("div",{className:"glass-card border border-yellow-400/30 shadow-2xl rounded-3xl p-8 mb-8 backdrop-blur-xl",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Your Referral Link"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:u(),readOnly:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white focus:outline-none"}),t.jsx("button",{onClick:d,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:a?t.jsx(kt,{className:"w-5 h-5 text-green-400"}):t.jsx(bt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsxs("button",{onClick:d,className:"flex-1 py-3 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-400 text-black font-semibold hover:from-yellow-500 hover:to-orange-500 transition-colors shadow-lg",children:[t.jsx(bt,{className:"w-5 h-5 inline mr-2"}),"Copy Link"]}),t.jsxs("button",{onClick:h,className:"flex-1 py-3 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 text-white font-semibold hover:from-green-500 hover:to-blue-500 transition-colors shadow-lg",children:[t.jsx(ol,{className:"w-5 h-5 inline mr-2"}),"Share"]})]})]})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-6",children:"Referral History"}),t.jsx("div",{className:"space-y-4",children:i.length>0?i.map((f,y)=>t.jsxs("div",{className:"bg-white/10 border border-white/10 rounded-2xl p-4 flex items-center justify-between hover:scale-[1.02] transition-transform duration-200",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-2 rounded-full",children:t.jsx(ke,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-semibold",children:f.referredUsername}),t.jsxs("p",{className:"text-white/60 text-sm",children:["Joined ",p(f.joinDate)]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[m(f.status),t.jsx("span",{className:`text-sm font-medium ${f.status==="active"?"text-green-400":"text-red-400"}`,children:x(f.status)})]})]},f.id)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ke,{className:"w-16 h-16 text-white/30 mx-auto mb-4"}),t.jsx("p",{className:"text-white/60 text-lg",children:"No referrals yet"}),t.jsx("p",{className:"text-white/40 text-sm",children:"Share your link to start earning!"})]})})]})]})]}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-white text-xl mb-4",children:"Loading Referral Page..."}),t.jsx("div",{className:"text-white/60",children:"Please wait while we load your referral data"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-yellow-400 text-black rounded-lg hover:bg-yellow-300 transition-colors",children:"Refresh Page"})]})})};class cf{SESSIONS_KEY="clientSessions";sessions=[];constructor(){this.loadSessions()}loadSessions(){try{const e=localStorage.getItem(this.SESSIONS_KEY);e&&(this.sessions=JSON.parse(e))}catch(e){console.error("Error loading sessions from localStorage:",e),this.sessions=[]}}saveSessions(){try{localStorage.setItem(this.SESSIONS_KEY,JSON.stringify(this.sessions))}catch(e){console.error("Error saving sessions to localStorage:",e)}}async getBrowserLocation(){return new Promise(e=>{if(!navigator.geolocation){e("Location unavailable");return}const r=setTimeout(()=>{e("Location unavailable")},5e3);navigator.geolocation.getCurrentPosition(async i=>{clearTimeout(r);try{const{latitude:n,longitude:a}=i.coords;console.log("ðŸŒ ClientSessionService: Browser geolocation coordinates:",{latitude:n,longitude:a});const o=[`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${n}&longitude=${a}&localityLanguage=en`,`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${a}&zoom=10&addressdetails=1`,`https://api.opencagedata.com/geocode/v1/json?q=${n}+${a}&key=9c7e1b22f2e86b6860e02b276463374c`];for(const l of o)try{const c=await fetch(l,{signal:AbortSignal.timeout(3e3),headers:{Accept:"application/json","User-Agent":"SessionManager/1.0"}});if(c.ok){const d=await c.json();let h="";if(l.includes("bigdatacloud"))d.city&&d.countryName?h=`${d.city}, ${d.countryName}`:d.locality&&d.countryName?h=`${d.locality}, ${d.countryName}`:d.countryName&&(h=d.countryName);else if(l.includes("nominatim")){if(d.address){const u=d.address.city||d.address.town||d.address.village,m=d.address.country;u&&m?h=`${u}, ${m}`:m&&(h=m)}}else if(l.includes("opencagedata")&&d.results&&d.results[0]){const u=d.results[0].components,m=u.city||u.town||u.village,x=u.country;m&&x?h=`${m}, ${x}`:x&&(h=x)}if(h){console.log("ðŸŒ ClientSessionService: Reverse geocoding successful:",h),e(h);return}}}catch(c){console.warn("ðŸŒ ClientSessionService: Reverse geocoding service failed:",l,c);continue}e("Location unavailable")}catch(n){console.warn("ðŸŒ ClientSessionService: Reverse geocoding failed:",n),e("Location unavailable")}},i=>{clearTimeout(r),console.warn("ðŸŒ ClientSessionService: Browser geolocation failed:",i),e("Location unavailable")},{enableHighAccuracy:!1,timeout:5e3,maximumAge:3e5})})}getBasicLocationFromTimezone(){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone,r=navigator.language||navigator.languages?.[0]||"en";console.log("ðŸŒ ClientSessionService: Timezone:",e,"Language:",r);const i={"America/New_York":"Eastern US","America/Chicago":"Central US","America/Denver":"Mountain US","America/Los_Angeles":"Western US","America/Toronto":"Canada","Europe/London":"United Kingdom","Europe/Paris":"France","Europe/Berlin":"Germany","Europe/Rome":"Italy","Europe/Madrid":"Spain","Europe/Amsterdam":"Netherlands","Europe/Stockholm":"Sweden","Europe/Oslo":"Norway","Europe/Copenhagen":"Denmark","Europe/Helsinki":"Finland","Europe/Warsaw":"Poland","Europe/Prague":"Czech Republic","Europe/Budapest":"Hungary","Europe/Vienna":"Austria","Europe/Zurich":"Switzerland","Europe/Brussels":"Belgium","Europe/Dublin":"Ireland","Europe/Lisbon":"Portugal","Europe/Athens":"Greece","Europe/Istanbul":"Turkey","Asia/Tokyo":"Japan","Asia/Seoul":"South Korea","Asia/Shanghai":"China","Asia/Hong_Kong":"Hong Kong","Asia/Singapore":"Singapore","Asia/Bangkok":"Thailand","Asia/Jakarta":"Indonesia","Asia/Manila":"Philippines","Asia/Kolkata":"India","Asia/Dubai":"UAE","Asia/Riyadh":"Saudi Arabia","Asia/Tehran":"Iran","Asia/Jerusalem":"Israel","Africa/Cairo":"Egypt","Africa/Lagos":"Nigeria","Africa/Johannesburg":"South Africa","Australia/Sydney":"Australia","Australia/Melbourne":"Australia","Australia/Perth":"Australia","Pacific/Auckland":"New Zealand","Pacific/Honolulu":"Hawaii"};if(i[e])return i[e];const n={en:"English-speaking region",es:"Spanish-speaking region",fr:"French-speaking region",de:"German-speaking region",it:"Italian-speaking region",pt:"Portuguese-speaking region",ru:"Russian-speaking region",ja:"Japanese-speaking region",ko:"Korean-speaking region",zh:"Chinese-speaking region",ar:"Arabic-speaking region",hi:"Hindi-speaking region"},a=r.split("-")[0];if(n[a])return n[a];const o=e.split("/");return o.length>1?o[1].replace("_"," "):"Unknown location"}catch(e){return console.warn("ðŸŒ ClientSessionService: Error getting basic location from timezone:",e),"Location unavailable"}}async getIPAndLocation(){try{console.log("ðŸŒ ClientSessionService: Using local detection only (external APIs disabled)");const e=Intl.DateTimeFormat().resolvedOptions().timeZone;console.log("ðŸŒ Detected timezone:",e);const i={"America/New_York":"New York, United States","America/Los_Angeles":"Los Angeles, United States","America/Chicago":"Chicago, United States","America/Denver":"Denver, United States","America/Toronto":"Toronto, Canada","America/Vancouver":"Vancouver, Canada","Europe/London":"London, United Kingdom","Europe/Berlin":"Berlin, Germany","Europe/Paris":"Paris, France","Europe/Rome":"Rome, Italy","Europe/Madrid":"Madrid, Spain","Europe/Amsterdam":"Amsterdam, Netherlands","Asia/Tokyo":"Tokyo, Japan","Asia/Shanghai":"Shanghai, China","Asia/Seoul":"Seoul, South Korea","Asia/Kolkata":"Mumbai, India","Asia/Baghdad":"Baghdad, Iraq","Asia/Dubai":"Dubai, United Arab Emirates","Australia/Sydney":"Sydney, Australia"}[e]||"Unknown Location";return console.log("ðŸŒ ClientSessionService: Using timezone-based location:",i),{ipAddress:"Private Network",location:i}}catch(e){return console.error("ðŸŒ ClientSessionService: Error getting timezone location:",e),{ipAddress:"Private Network",location:"Unknown Location"}}}detectDeviceInfo(e){const r=e.toLowerCase();let i="desktop",n="Desktop Computer";const a=r.includes("mobile")||r.includes("android")||r.includes("iphone")||r.includes("ipod")||r.includes("blackberry")||r.includes("windows phone")||/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(r),o=r.includes("tablet")||r.includes("ipad")&&!r.includes("mobile")||r.includes("playbook")||r.includes("kindle");a&&!o?(i="mobile",n="Mobile Device"):o&&(i="tablet",n="Tablet Device");let l="Unknown Browser";r.includes("chrome")?l=r.includes("mobile")?"Chrome Mobile":"Chrome":r.includes("firefox")?l=r.includes("mobile")?"Firefox Mobile":"Firefox":r.includes("safari")&&!r.includes("chrome")?l=r.includes("mobile")?"Safari Mobile":"Safari":r.includes("edge")?l=r.includes("mobile")?"Edge Mobile":"Edge":r.includes("opera")&&(l=r.includes("mobile")?"Opera Mobile":"Opera");let c="Unknown OS";return r.includes("windows")?c=r.includes("phone")?"Windows Phone":"Windows":r.includes("mac os")?c=r.includes("iphone")||r.includes("ipad")?"iOS":"macOS":r.includes("linux")?c="Linux":r.includes("android")?c="Android":(r.includes("ios")||r.includes("iphone")||r.includes("ipad"))&&(c="iOS"),r.includes("iphone")?(n="iPhone",i="mobile"):r.includes("ipad")?(n="iPad",i="tablet"):r.includes("android")&&(r.includes("samsung")?n="Samsung Device":r.includes("huawei")?n="Huawei Device":r.includes("xiaomi")?n="Xiaomi Device":r.includes("oneplus")?n="OnePlus Device":r.includes("google")?n="Google Device":n="Android Device"),{deviceName:n,deviceType:i,browser:l,os:c}}async updateSessionsIPAndLocation(){try{console.log("ðŸŒ ClientSessionService: Updating IP and location for all sessions...");const{ipAddress:e,location:r}=await this.getIPAndLocation();let i=0;this.sessions.forEach(n=>{(n.ipAddress==="Client-side"||n.ipAddress==="IP unavailable"||n.ipAddress==="IP detection failed"||n.ipAddress==="IP detection in progress...")&&(n.ipAddress=e,n.location=r,i++)}),i>0&&(this.saveSessions(),console.log(`ðŸŒ ClientSessionService: Updated ${i} sessions with new IP and location`))}catch(e){console.error("ðŸŒ ClientSessionService: Error updating sessions IP and location:",e)}}async getUserSessions(e){console.log("ðŸ“± ClientSessionService: Getting sessions for user:",e),this.updateSessionsIPAndLocation();const r=this.sessions.filter(i=>i.userId===e);return console.log("ðŸ“± ClientSessionService: Found sessions:",r),r}async createSession(e,r,i){console.log("ðŸ“± ClientSessionService: Creating session for user:",e),this.sessions.forEach(c=>{c.userId===e&&(c.isCurrentSession=!1)});const n=this.sessions.find(c=>c.userId===e&&c.userAgent===i);if(n){n.isCurrentSession=!0,n.lastActive=new Date().toISOString(),n.deviceName=r.deviceName,n.deviceType=r.deviceType,n.browser=r.browser,n.os=r.os;const{ipAddress:c,location:d}=await this.getIPAndLocation();return n.ipAddress=c,n.location=d,this.saveSessions(),console.log("ðŸ“± ClientSessionService: Updated existing session:",n),n}let a="IP detection in progress...",o="Location detection in progress...";try{const c=await this.getIPAndLocation();a=c.ipAddress,o=c.location}catch(c){console.error("ðŸ“± ClientSessionService: Error getting IP and location:",c);try{await new Promise(h=>setTimeout(h,1e3));const d=await this.getIPAndLocation();a=d.ipAddress,o=d.location}catch(d){console.error("ðŸ“± ClientSessionService: Retry also failed:",d),a="IP detection failed",o="Location detection failed"}}const l={id:`client_session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e,deviceName:r.deviceName,deviceType:r.deviceType,browser:r.browser,os:r.os,ipAddress:a,location:o,lastActive:new Date().toISOString(),isCurrentSession:!0,userAgent:i,loginTime:new Date().toISOString()};return this.sessions.push(l),this.saveSessions(),console.log("ðŸ“± ClientSessionService: Session created:",l),(a==="IP detection in progress..."||o==="Location detection in progress...")&&setTimeout(async()=>{try{const{ipAddress:c,location:d}=await this.getIPAndLocation();c!=="IP detection failed"&&d!=="Location detection failed"&&(l.ipAddress=c,l.location=d,this.saveSessions(),console.log("ðŸ“± ClientSessionService: Updated session with real IP and location:",l))}catch(c){console.error("ðŸ“± ClientSessionService: Background IP update failed:",c)}},2e3),l}async createSessionWithDeviceDetection(e){const r=navigator.userAgent,i=this.detectDeviceInfo(r);return this.createSession(e,i,r)}async updateSessionActivity(e){const r=this.sessions.find(i=>i.id===e);return r&&(r.lastActive=new Date().toISOString(),this.saveSessions()),r}async terminateSession(e){const r=this.sessions.findIndex(i=>i.id===e);if(r!==-1){const i=this.sessions[r];return this.sessions.splice(r,1),this.saveSessions(),{message:"Session terminated successfully",session:i}}throw new Error("Session not found")}async terminateAllOtherSessions(e){const r=this.sessions.find(n=>n.userId===e&&n.isCurrentSession),i=this.sessions.filter(n=>n.userId===e&&!n.isCurrentSession);return this.sessions=this.sessions.filter(n=>n.userId!==e||n.isCurrentSession),this.saveSessions(),{message:`Terminated ${i.length} other sessions`,remainingSessions:r?[r]:[]}}async terminateAllSessions(e){const r=this.sessions.filter(i=>i.userId===e);return this.sessions=this.sessions.filter(i=>i.userId!==e),this.saveSessions(),{message:`Terminated all ${r.length} sessions`,deletedSessions:r}}async getSessionStats(e){const r=this.sessions.filter(n=>n.userId===e),i={totalSessions:r.length,activeSessions:r.filter(n=>n.isCurrentSession).length,sessionsByDeviceType:{},sessionsByBrowser:{},sessionsByOS:{}};return r.forEach(n=>{i.sessionsByDeviceType[n.deviceType]=(i.sessionsByDeviceType[n.deviceType]||0)+1,i.sessionsByBrowser[n.browser]=(i.sessionsByBrowser[n.browser]||0)+1,i.sessionsByOS[n.os]=(i.sessionsByOS[n.os]||0)+1}),i}async testSessionFunctionality(){const e="test-user-123";return{message:"Test sessions created",sessions:[await this.createSession(e,{deviceName:"Test Device 1",deviceType:"desktop",browser:"Chrome",os:"Windows"},"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"),await this.createSession(e,{deviceName:"Test Device 2",deviceType:"mobile",browser:"Safari Mobile",os:"iOS"},"Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15"),await this.createSession(e,{deviceName:"Test Device 3",deviceType:"tablet",browser:"Safari Mobile",os:"iOS"},"Mozilla/5.0 (iPad; CPU OS 14_6 like Mac OS X) AppleWebKit/605.1.15")],totalSessions:this.sessions.length}}}const Ne=new cf;class df{isNetlifyEnvironment;constructor(){this.isNetlifyEnvironment=this.detectNetlifyEnvironment(),console.log("ðŸŒ SessionService: Environment detected as",this.isNetlifyEnvironment?"Netlify":"Local Development"),console.log("ðŸŒ SessionService: Using service:",this.isNetlifyEnvironment?"client":"server")}detectNetlifyEnvironment(){if(typeof window<"u"){const e=window.location.hostname;if(console.log("ðŸŒ SessionService: Hostname detected:",e),e.includes("netlify.app")||e.includes("netlify.com"))return console.log("ðŸŒ SessionService: Netlify domain detected"),!0;if(!e.includes("localhost")&&!e.includes("127.0.0.1"))return console.log("ðŸŒ SessionService: Production environment detected (non-localhost)"),!0;console.log("ðŸŒ SessionService: Local development environment detected")}return!1}async getService(){return this.isNetlifyEnvironment?(console.log("ðŸŒ SessionService: Using client service (Netlify environment)"),Ne):(console.log("ðŸŒ SessionService: Using server service (local development)"),Ne)}async getUserSessions(e){console.log("ðŸŒ SessionService: Getting sessions for user:",e);try{const i=await(await this.getService()).getUserSessions(e);return console.log("ðŸŒ SessionService: Retrieved sessions:",i),i}catch(r){return console.error("âŒ SessionService: Error getting sessions:",r),console.log("ðŸŒ SessionService: Falling back to client service"),await Ne.getUserSessions(e)}}async createSession(e,r,i){console.log("ðŸŒ SessionService: Creating session for user:",e);try{const a=await(await this.getService()).createSession(e,r,i);return console.log("ðŸŒ SessionService: Session created:",a),a}catch(n){return console.error("âŒ SessionService: Error creating session:",n),console.log("ðŸŒ SessionService: Falling back to client service"),await Ne.createSession(e,r,i)}}async createSessionWithDeviceDetection(e){console.log("ðŸŒ SessionService: Creating session with device detection for user:",e);try{const i=await(await this.getService()).createSessionWithDeviceDetection(e);return console.log("ðŸŒ SessionService: Session created with device detection:",i),i}catch(r){return console.error("âŒ SessionService: Error creating session with device detection:",r),console.log("ðŸŒ SessionService: Falling back to client service"),await Ne.createSessionWithDeviceDetection(e)}}async updateSessionActivity(e){console.log("ðŸŒ SessionService: Updating session activity for:",e);try{return await(await this.getService()).updateSessionActivity(e)}catch(r){return console.error("âŒ SessionService: Error updating session activity:",r),await Ne.updateSessionActivity(e)}}async terminateSession(e){console.log("ðŸŒ SessionService: Terminating session:",e);try{return await(await this.getService()).terminateSession(e)}catch(r){return console.error("âŒ SessionService: Error terminating session:",r),await Ne.terminateSession(e)}}async terminateAllOtherSessions(e){console.log("ðŸŒ SessionService: Terminating all other sessions for user:",e);try{return await(await this.getService()).terminateAllOtherSessions(e)}catch(r){return console.error("âŒ SessionService: Error terminating other sessions:",r),await Ne.terminateAllOtherSessions(e)}}async terminateAllSessions(e){console.log("ðŸŒ SessionService: Terminating all sessions for user:",e);try{return await(await this.getService()).terminateAllSessions(e)}catch(r){return console.error("âŒ SessionService: Error terminating all sessions:",r),await Ne.terminateAllSessions(e)}}async getSessionStats(e){console.log("ðŸŒ SessionService: Getting session stats for user:",e);try{return await(await this.getService()).getSessionStats(e)}catch(r){return console.error("âŒ SessionService: Error getting session stats:",r),await Ne.getSessionStats(e)}}async testSessionFunctionality(){console.log("ðŸŒ SessionService: Testing session functionality");try{return await(await this.getService()).testSessionFunctionality()}catch(e){return console.error("âŒ SessionService: Error testing session functionality:",e),await Ne.testSessionFunctionality()}}getEnvironmentInfo(){return{isNetlify:this.isNetlifyEnvironment,hostname:typeof window<"u"?window.location.hostname:"unknown",service:this.isNetlifyEnvironment?"client":"server"}}}const ne=new df,hf=({userId:s,currentUser:e,onSessionTerminated:r})=>{const[i,n]=b.useState([]),[a,o]=b.useState(!0),[l,c]=b.useState(null),[d,h]=b.useState(!1),[u,m]=b.useState(null);b.useEffect(()=>{x();const j=setTimeout(async()=>{try{console.log("ðŸ“± Checking for current session for user:",s);const P=(await ne.getUserSessions(s)).find(I=>I.isCurrentSession);P?console.log("ðŸ“± Current session found:",P.id):(console.log("ðŸ“± No current session found, creating one..."),await ne.createSessionWithDeviceDetection(s),console.log("ðŸ“± Session created successfully, reloading sessions..."),await x())}catch(k){console.error("âŒ Error checking/creating session:",k),console.error("âŒ Error details:",k instanceof Error?k.message:String(k)),m("Failed to create session. Please try again.")}},1e3),C=setInterval(x,3e4);return()=>{clearTimeout(j),clearInterval(C)}},[s]);const x=async()=>{try{console.log("ðŸ“± SessionManager: Loading sessions for user:",s),console.log("ðŸ“± SessionManager: User ID type:",typeof s),console.log("ðŸ“± SessionManager: User ID value:",s);const g=await ne.getUserSessions(s);if(console.log("ðŸ“± SessionManager: Found sessions:",g),console.log("ðŸ“± SessionManager: Number of sessions:",g.length),g.filter(C=>C.ipAddress==="Client-side"||C.ipAddress==="IP unavailable"||C.ipAddress==="IP detection failed"||C.ipAddress==="IP detection in progress...").length>0){console.log("ðŸ“± SessionManager: Found sessions with placeholder IP/location, updating...");try{await ne.createSessionWithDeviceDetection(s);const C=await ne.getUserSessions(s);n(C)}catch(C){console.error("ðŸ“± SessionManager: Error updating sessions:",C),n(g)}}else n(g);o(!1),m(null)}catch(g){console.error("âŒ SessionManager: Error loading sessions:",g),console.error("âŒ SessionManager: Error details:",g instanceof Error?g.message:String(g)),console.error("âŒ SessionManager: Error stack:",g instanceof Error?g.stack:"No stack trace"),m("Failed to load sessions. Please try again."),o(!1)}},p=async g=>{c(g);try{await ne.terminateSession(g),n(j=>j.filter(C=>C.id!==g)),r?.()}catch(j){console.error("Error terminating session:",j),m("Failed to terminate session. Please try again.")}finally{c(null)}},f=async()=>{h(!0);try{const g=await ne.terminateAllOtherSessions(s);n(g.remainingSessions),r?.()}catch(g){console.error("Error terminating all other sessions:",g),m("Failed to terminate other sessions. Please try again.")}finally{h(!1)}},y=g=>{switch(g){case"mobile":return t.jsx(Rr,{className:"w-4 h-4"});case"tablet":return t.jsx(ll,{className:"w-4 h-4"});default:return t.jsx(ma,{className:"w-4 h-4"})}},w=g=>{switch(g){case"mobile":return"text-blue-400";case"tablet":return"text-purple-400";default:return"text-green-400"}},A=g=>{const j=new Date,C=new Date(g),k=Math.floor((j.getTime()-C.getTime())/1e3);return k<60?"Just now":k<3600?`${Math.floor(k/60)}m ago`:k<86400?`${Math.floor(k/3600)}h ago`:k<2592e3?`${Math.floor(k/86400)}d ago`:C.toLocaleDateString()};return a?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(ut,{className:"w-6 h-6 text-white/60 animate-spin"}),t.jsx("span",{className:"ml-2 text-white/60",children:"Loading sessions..."})]}):u?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx(di,{className:"w-6 h-6 text-red-400 mx-auto mb-2"}),t.jsx("p",{className:"text-red-400 text-sm",children:u}),t.jsxs("div",{className:"space-y-2 mt-3",children:[t.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/40 text-blue-400 rounded text-sm mr-2",children:"Retry Load"}),t.jsx("button",{onClick:async()=>{try{m(null),o(!0),console.log("ðŸ”§ Force creating session for user:",s);const g=await ne.createSessionWithDeviceDetection(s);console.log("ðŸ”§ Session created successfully:",g),await x()}catch(g){console.error("Error retrying session creation:",g),m("Failed to create session. Please try again."),o(!1)}},className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/40 text-green-400 rounded text-sm",children:"Create Session"}),t.jsx("button",{onClick:async()=>{try{console.log("ðŸ”§ Testing session service directly...");const g=ne.getEnvironmentInfo();console.log("ðŸ”§ Environment info:",g);const j=await ne.createSessionWithDeviceDetection(s);console.log("ðŸ”§ Test session created:",j);const C=await ne.getUserSessions(s);console.log("ðŸ”§ Sessions retrieved:",C),alert(`Session Test Complete!

Environment: ${g.service}
Hostname: ${g.hostname}
Sessions found: ${C.length}

Check console for details.`),await x()}catch(g){console.error("Error testing session service:",g),alert("Error testing session service. Check console for details.")}},className:"px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/40 text-yellow-400 rounded text-sm",children:"Debug Test"})]})]})}):i.length===0?(console.log("ðŸ“± No sessions found, creating current session for user:",s),(async()=>{try{console.log("ðŸ“± Creating session for user:",s),await ne.createSessionWithDeviceDetection(s),console.log("ðŸ“± Session created successfully, reloading sessions..."),await x()}catch(j){console.error("âŒ Error creating session:",j),console.error("âŒ Error details:",j instanceof Error?j.message:String(j)),m("Failed to create session. Please try again.")}})(),t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(ut,{className:"w-6 h-6 text-white/60 animate-spin"}),t.jsx("span",{className:"ml-2 text-white/60",children:"Creating current session..."})]})):t.jsxs("div",{className:"space-y-4",children:[i.filter(g=>g.isCurrentSession).map(g=>t.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:`mt-1 ${w(g.deviceType)}`,children:y(g.deviceType)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h4",{className:"font-semibold text-white",children:g.deviceName}),t.jsx("span",{className:"bg-green-500/20 text-green-400 text-xs px-2 py-1 rounded-full",children:"Current Session"})]}),t.jsxs("p",{className:"text-white/70 text-sm mb-2",children:[g.browser," on ",g.os]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60",children:[t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(Fe,{className:"w-3 h-3"}),t.jsxs("span",{children:["Logged in ",A(g.loginTime)]})]}),t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(ve,{className:"w-3 h-3"}),t.jsxs("span",{children:["Last active ",A(g.lastActive)]})]})]}),g.ipAddress&&t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60 mt-1",children:[t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(ve,{className:"w-3 h-3"}),t.jsxs("span",{children:["IP: ",g.ipAddress]})]}),g.location&&t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(ve,{className:"w-3 h-3"}),t.jsxs("span",{children:["Location: ",g.location]})]})]})]})]})})},g.id)),i.filter(g=>!g.isCurrentSession).length>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"border-t border-white/20 pt-4",children:[t.jsx("h4",{className:"text-white font-semibold mb-3",children:"Other Active Sessions"}),t.jsx("div",{className:"space-y-3",children:i.filter(g=>!g.isCurrentSession).map(g=>t.jsx("div",{className:"bg-white/5 border border-white/20 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:`mt-1 ${w(g.deviceType)}`,children:y(g.deviceType)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-white mb-1",children:g.deviceName}),t.jsxs("p",{className:"text-white/70 text-sm mb-2",children:[g.browser," on ",g.os]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60",children:[t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(Fe,{className:"w-3 h-3"}),t.jsxs("span",{children:["Logged in ",A(g.loginTime)]})]}),t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(ve,{className:"w-3 h-3"}),t.jsxs("span",{children:["Last active ",A(g.lastActive)]})]})]}),g.ipAddress&&t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60 mt-1",children:[t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(ve,{className:"w-3 h-3"}),t.jsxs("span",{children:["IP: ",g.ipAddress]})]}),g.location&&t.jsxs("span",{className:"flex items-center space-x-1",children:[t.jsx(ve,{className:"w-3 h-3"}),t.jsxs("span",{children:["Location: ",g.location]})]})]})]})]}),t.jsxs("button",{onClick:()=>p(g.id),disabled:l===g.id,className:"flex items-center space-x-1 px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 rounded-lg transition-all duration-200 text-sm font-medium border border-red-500/30 hover:border-red-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l===g.id?t.jsx(ut,{className:"w-3 h-3 animate-spin"}):t.jsx(Ct,{className:"w-3 h-3"}),t.jsx("span",{children:l===g.id?"Terminating...":"Log out"})]})]})},g.id))})]}),t.jsxs("div",{className:"border-t border-white/20 pt-4",children:[t.jsxs("button",{onClick:f,disabled:d,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 rounded-lg transition-all duration-200 font-medium border border-red-500/30 hover:border-red-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?t.jsx(ut,{className:"w-4 h-4 animate-spin"}):t.jsx(di,{className:"w-4 h-4"}),t.jsx("span",{children:d?"Terminating...":"Log out of all other devices"})]}),t.jsx("p",{className:"text-white/50 text-xs mt-2 text-center",children:"This will log you out of all devices except this one"})]})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(me,{className:"w-4 h-4 text-green-400"}),t.jsx("h4",{className:"text-white font-semibold",children:"Session Statistics"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:i.length}),t.jsx("div",{className:"text-xs text-white/60",children:"Total Sessions"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:i.filter(g=>g.isCurrentSession).length}),t.jsx("div",{className:"text-xs text-white/60",children:"Current Session"})]})]}),t.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[t.jsxs("p",{children:["â€¢ Device Types: ",Array.from(new Set(i.map(g=>g.deviceType))).join(", ")]}),t.jsxs("p",{children:["â€¢ Browsers: ",Array.from(new Set(i.map(g=>g.browser))).join(", ")]}),t.jsxs("p",{children:["â€¢ Operating Systems: ",Array.from(new Set(i.map(g=>g.os))).join(", ")]})]})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(me,{className:"w-4 h-4 text-green-400"}),t.jsx("h4",{className:"text-white font-semibold",children:"Session Security"})]}),t.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[t.jsx("p",{children:"â€¢ Your sessions are automatically tracked for security"}),t.jsx("p",{children:"â€¢ You can log out of individual devices or all devices at once"}),t.jsx("p",{children:"â€¢ Sessions show device type, browser, and last activity"}),t.jsx("p",{children:"â€¢ Current session is highlighted in green"}),t.jsx("p",{children:"â€¢ Sessions are synchronized across all your devices"})]})]})]})},uf=({user:s,onUserUpdate:e,onBack:r,showSecurityAndNotifications:i,onShowNotificationSettings:n,onShowTwoFactorAuth:a,onShowKYCVerification:o})=>{const[l,c]=b.useState({language:s.language||"en",sessionTimeout:s.sessionTimeout||30,autoPlayAds:s.autoPlayAds!==!1,showEarnings:s.showEarnings!==!1,soundEnabled:s.soundEnabled!==!1}),[d,h]=b.useState(null),u=Vt(),[m,x]=b.useState(!1),[p,f]=b.useState(!1),[y,w]=b.useState(!1),[A,g]=b.useState(""),[j,C]=b.useState(""),[k,P]=b.useState(!1),[I,O]=b.useState(!1),[S,U]=b.useState(!1),[T,L]=b.useState(""),[N,E]=b.useState(""),[_,K]=b.useState(""),[Q,te]=b.useState(!1),[re,Y]=b.useState(!1),[R,D]=b.useState(!1);b.useEffect(()=>{s&&s.pendingDeletion&&O(!0)},[s]);const F=()=>{x(!0)},q=()=>{x(!1),w(!0),g(""),C("")},X=J=>{if(J.preventDefault(),A===s.password){w(!1),P(!0),h("Your account is scheduled for deletion in 30 days. You can cancel this request by logging in before then."),f(!0);const he=V.getAllUsers().map(xe=>xe.id===s.id?{...xe,pendingDeletion:!0}:xe);localStorage.setItem("adMoneyUsers",JSON.stringify(he)),V.setCurrentUser(null),setTimeout(()=>{h(null),u("/"),window.location.reload()},2e3)}else C("Incorrect password. Please try again.")},Z=()=>{const J=V.getAllUsers().map(he=>he.id===s.id?{...he,pendingDeletion:!1}:he);localStorage.setItem("adMoneyUsers",JSON.stringify(J)),O(!1),U(!0),setTimeout(()=>U(!1),3e3),e({...s,pendingDeletion:!1})},le=()=>{if(!T||!N||!_){alert("Please enter current password, new password, and confirm password");return}if(N!==_){alert("New password and confirm password do not match");return}if(N.length<6){alert("New password must be at least 6 characters long");return}alert("Password changed successfully!"),L(""),E(""),K("")};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 dark:text-white transition-colors duration-300 flex items-center justify-center",children:[t.jsxs("div",{className:"w-full max-w-2xl mx-auto px-4 py-8",children:[t.jsx("div",{className:"flex flex-col items-center mb-8",children:t.jsx("h1",{className:"text-3xl font-bold text-white text-center w-full",children:"Settings"})}),t.jsxs("div",{className:"bg-white/5 dark:text-white rounded-2xl p-6 mb-12 w-full shadow-lg transition-colors duration-300",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Account & Security"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(Rr,{className:"w-6 h-6 text-green-400"}),t.jsx("h3",{className:"text-xl font-bold text-white",children:"Manage Sessions & Devices"})]}),t.jsx("p",{className:"text-white/70 mb-2",children:"View and log out of your active sessions and devices."}),t.jsx(hf,{userId:s.id,currentUser:s,onSessionTerminated:()=>{console.log("Session terminated")}})]}),t.jsxs(oe.div,{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg mt-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent mb-6",children:"Security Settings"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:Q?"text":"password",value:T,onChange:J=>L(J.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all",placeholder:"Enter current password"}),t.jsx("button",{onClick:()=>te(!Q),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:Q?t.jsx(We,{className:"w-5 h-5"}):t.jsx(Te,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:re?"text":"password",value:N,onChange:J=>E(J.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all",placeholder:"Enter new password"}),t.jsx("button",{onClick:()=>Y(!re),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:re?t.jsx(We,{className:"w-5 h-5"}):t.jsx(Te,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:R?"text":"password",value:_,onChange:J=>K(J.target.value),className:`w-full bg-white/10 border rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all ${_&&N!==_?"border-red-400":_&&N===_?"border-green-400":"border-white/20"}`,placeholder:"Confirm new password"}),t.jsx("button",{onClick:()=>D(!R),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:R?t.jsx(We,{className:"w-5 h-5"}):t.jsx(Te,{className:"w-5 h-5"})})]}),_&&N!==_&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:"Passwords do not match"}),_&&N===_&&t.jsx("p",{className:"text-green-400 text-sm mt-1",children:"Passwords match"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:le,disabled:!T||!N||!_||N!==_,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 text-white font-semibold hover:from-green-500 hover:to-blue-500 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Change Password"})})]})]}),t.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(gt,{className:"w-6 h-6 text-red-400"}),t.jsx("h3",{className:"text-xl font-bold text-red-400",children:"Account Deletion"})]}),t.jsxs("p",{className:"text-white/70 mb-4",children:["Permanently delete your account and all associated data. ",t.jsx("b",{children:"This action cannot be undone."})]}),t.jsx("div",{className:"flex justify-center",children:t.jsx("button",{className:`px-6 py-3 rounded-lg text-base font-semibold transition-all duration-200 border border-red-500/40 shadow-sm focus:outline-none focus:ring-2 focus:ring-red-400/50 ${p?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-red-500/20 hover:bg-red-500/40 text-red-400 hover:text-white"}`,onClick:F,disabled:p,children:k?"Deletion Scheduled":p?"Account Deleted":"Request Account Deletion"})}),m&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:t.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-8 max-w-md w-full shadow-xl border border-red-400",children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx(gt,{className:"w-6 h-6 text-red-500 mr-2"}),t.jsx("h4",{className:"text-lg font-bold text-red-500",children:"Confirm Account Deletion"})]}),t.jsxs("p",{className:"mb-4 text-gray-800 dark:text-white/80",children:["This will ",t.jsx("b",{children:"permanently delete"})," your account and all associated data. ",t.jsx("br",{}),"This action cannot be undone. Are you absolutely sure?"]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{onClick:q,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 font-semibold",children:"Yes, continue"}),t.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600",children:"Cancel"})]})]})}),y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:t.jsxs("form",{onSubmit:X,className:"bg-white dark:bg-gray-900 rounded-lg p-8 max-w-md w-full shadow-xl border border-blue-400",children:[t.jsx("h4",{className:"text-lg font-bold text-blue-500 mb-2",children:"Verify Your Password"}),t.jsx("p",{className:"mb-4 text-gray-800 dark:text-white/80",children:"For your security, please enter your password to confirm account deletion."}),t.jsx("input",{type:"password",className:"w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-700 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter your password",value:A,onChange:J=>g(J.target.value),autoFocus:!0}),j&&t.jsx("div",{className:"text-red-500 mb-2 text-sm",children:j}),t.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[t.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 font-semibold",children:"Confirm"}),t.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600",children:"Cancel"})]})]})}),d&&t.jsx("div",{className:"mt-4 text-center text-red-400 text-base font-semibold",children:d})]})]})]}),t.jsxs("div",{className:"bg-white/5 dark:text-white rounded-2xl p-6 mb-12 w-full shadow-lg transition-colors duration-300",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Preferences & Appearance"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(ve,{className:"w-6 h-6 text-blue-400"}),t.jsx("h3",{className:"text-xl font-bold text-white",children:"Currency & Timezone"})]}),t.jsx("p",{className:"text-white/70 mb-2",children:"Set your preferred currency and timezone."}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-white/80",children:"Currency"}),t.jsxs("select",{className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3",children:[t.jsx("option",{value:"USDT",children:"USDT"}),t.jsx("option",{value:"USD",children:"USD"}),t.jsx("option",{value:"EUR",children:"EUR"})]}),t.jsx("label",{className:"block text-white/80 mt-2",children:"Timezone"}),t.jsxs("select",{className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3",children:[t.jsx("option",{value:"UTC",children:"UTC"}),t.jsx("option",{value:"America/New_York",children:"America/New_York"}),t.jsx("option",{value:"Europe/London",children:"Europe/London"}),t.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo"})]})]})]}),t.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(ma,{className:"w-6 h-6 text-green-400"}),t.jsx("h3",{className:"text-xl font-bold text-white",children:"Accessibility"})]}),t.jsx("p",{className:"text-white/70 mb-2",children:"Adjust accessibility options for a better experience."}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",className:"rounded"}),t.jsx("span",{className:"text-white",children:"Large Font Size"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",className:"rounded"}),t.jsx("span",{className:"text-white",children:"High Contrast Mode"})]})]})]}),t.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(dt,{className:"w-6 h-6 text-yellow-400"}),t.jsx("h3",{className:"text-xl font-bold text-white",children:"Notification Preferences"})]}),t.jsx("p",{className:"text-white/70 mb-2",children:"Choose which notifications you want to receive."}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",className:"rounded"}),t.jsx("span",{className:"text-white",children:"Email Notifications"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",className:"rounded"}),t.jsx("span",{className:"text-white",children:"SMS Notifications"})]}),t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",className:"rounded"}),t.jsx("span",{className:"text-white",children:"Push Notifications"})]})]})]})]})]})]}),I&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:t.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-8 max-w-md w-full shadow-xl border border-blue-400",children:[t.jsx("h4",{className:"text-lg font-bold text-blue-500 mb-2",children:"Reactivate Your Account?"}),t.jsx("p",{className:"mb-4 text-gray-800 dark:text-white/80",children:"Your account is scheduled for deletion in 30 days. Would you like to cancel this request and reactivate your account?"}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{onClick:Z,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 font-semibold",children:"Yes, Reactivate"}),t.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600",children:"No, Keep Scheduled"})]})]})}),S&&t.jsx("div",{className:"mt-4 text-center text-green-400 text-base font-semibold",children:"Your account has been reactivated!"})]})},dr=[{id:1,name:"VIP 1",price:50,dailyReward:10,monthlyReward:300,yearlyReward:3650,features:["Daily $10.00 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits"],color:"from-gray-400 to-gray-600"},{id:2,name:"VIP 2",price:125,dailyReward:2.16,monthlyReward:64.8,yearlyReward:788.4,features:["Daily $2.16 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals"],color:"from-green-400 to-green-600"},{id:3,name:"VIP 3",price:250,dailyReward:5.16,monthlyReward:154.8,yearlyReward:1883.4,features:["Daily $5.16 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support"],color:"from-blue-400 to-blue-600"},{id:4,name:"VIP 4",price:500,dailyReward:7.16,monthlyReward:214.8,yearlyReward:2613.4,features:["Daily $7.16 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support","Personal account manager"],color:"from-purple-400 to-purple-600"},{id:5,name:"VIP 5",price:1025,dailyReward:11.19,monthlyReward:335.7,yearlyReward:4084.35,features:["Daily $11.19 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support","Personal account manager","Custom withdrawal times"],color:"from-yellow-400 to-orange-500"},{id:6,name:"VIP 6",price:2550,dailyReward:21.22,monthlyReward:636.6,yearlyReward:7745.3,features:["Daily $21.22 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support","Personal account manager","Custom withdrawal times","Exclusive investment opportunities"],color:"from-red-400 to-red-600"},{id:7,name:"VIP 7",price:5250,dailyReward:47.52,monthlyReward:1425.6,yearlyReward:17344.8,features:["Daily $47.52 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support","Personal account manager","Custom withdrawal times","Exclusive investment opportunities","Premium referral bonuses"],color:"from-pink-400 to-pink-600",popular:!0}],mf=({user:s,onUserUpdate:e,onBack:r})=>{const[i,n]=b.useState(null),[a,o]=b.useState(!1),[l,c]=b.useState(!1),[d,h]=b.useState(null),[u,m]=b.useState(!1),[x,p]=b.useState(!1),[f,y]=b.useState(!1),[w,A]=b.useState(null),[g,j]=b.useState(""),C=dr.find(E=>E.id===s.vipTier),k=s.subscriptionHistory?.filter(E=>E.type==="vip"&&E.status==="active").slice(-1)[0];b.useEffect(()=>{V.cleanupSubscriptionData()},[]);const P=E=>{if(V.hasActiveSubscription(s.id)){const _=V.getActiveSubscriptionInfo(s.id);alert(`You already have an active ${_?.type} subscription that expires in ${_?.daysRemaining} days. You cannot purchase another plan until your current subscription expires.`);return}C&&C.id!==E.id?(n(E),m(!0)):(n(E),o(!0))},I=()=>{m(!1),n(null)},O=()=>{if(i)try{const E=V.addSubscription(s.id,{type:"vip",amount:i.price,duration:365,paymentMethod:"wallet_balance",transactionId:`VIP_${Date.now()}`,notes:`VIP ${i.name} subscription purchased with wallet balance`,vipTierId:i.id});e(E),o(!1),n(null),h(i),c(!0)}catch(E){alert(`Error: ${E instanceof Error?E.message:"Failed to process subscription"}`),o(!1),n(null)}},S=()=>{c(!1),h(null)},U=()=>{p(!0)},T=()=>{try{const E=V.cancelSubscription(s.id,g);e(E),p(!1),j(""),alert("Your subscription has been cancelled successfully.")}catch(E){alert(`Error cancelling subscription: ${E instanceof Error?E.message:"Unknown error"}`)}},L=E=>{if(!k){alert("No active subscription to upgrade");return}A(E),y(!0)},N=()=>{if(w)try{const E=dr.find(Q=>Q.id===s.vipTier),_=w.price-(E?.price||0);if(_>0&&s.balance<_){alert("Insufficient balance to upgrade. You need additional $"+_.toFixed(2));return}const K=V.renewSubscription(s.id,{type:"vip",amount:w.price,duration:365,paymentMethod:"wallet_balance",transactionId:`VIP_UPGRADE_${Date.now()}`,notes:`Upgraded to ${w.name} subscription`,vipTierId:w.id});e(K),y(!1),A(null),alert(`Successfully upgraded to ${w.name}!`)}catch(E){alert(`Error upgrading subscription: ${E instanceof Error?E.message:"Unknown error"}`)}};return t.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(Ve,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),t.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[t.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8",children:[t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"VIP Membership"}),t.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Unlock exclusive rewards and higher earnings"})]}),C&&t.jsx("div",{className:"glass-card border border-purple-400/30 shadow-2xl rounded-3xl p-8 mb-8 backdrop-blur-xl",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-4 rounded-full shadow-lg",children:t.jsx(Le,{className:"w-12 h-12 text-white drop-shadow-glow"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:C.name}),t.jsxs("p",{className:"text-white/70 text-base",children:["Daily reward: $",C.dailyReward," USDT"]}),t.jsxs("p",{className:"text-white/70 text-base",children:["Start: ",k?.startDate?new Date(k.startDate).toLocaleDateString():"-"]}),t.jsxs("p",{className:"text-white/70 text-base",children:["End: ",k?.endDate?new Date(k.endDate).toLocaleDateString():"-"]}),t.jsxs("p",{className:"text-white/70 text-base",children:["Days left: ",k?.endDate?Math.max(0,Math.ceil((new Date(k.endDate).getTime()-Date.now())/(1e3*60*60*24))):"-"]})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 min-w-[180px]",children:[t.jsx("button",{className:"glass-card border border-red-400/30 text-red-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-400/10 transition",onClick:U,disabled:k?.status!=="active",children:"Cancel Plan"}),t.jsx("button",{className:"glass-card border border-blue-400/30 text-blue-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-blue-400/10 transition",onClick:()=>y(!0),disabled:k?.status!=="active",children:"Upgrade Plan"}),k?.endDate&&Math.ceil((new Date(k.endDate).getTime()-Date.now())/(1e3*60*60*24))<=7&&t.jsx("button",{className:"glass-card border border-yellow-400/30 text-yellow-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-yellow-400/10 transition",onClick:()=>O(),children:"Renew Plan"})]})]})}),s.subscriptionHistory&&s.subscriptionHistory.filter(E=>E.type==="vip").length>0&&t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"VIP Subscription History"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full text-white/90",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-white/5",children:[t.jsx("th",{className:"px-4 py-2 text-left",children:"Tier"}),t.jsx("th",{className:"px-4 py-2 text-left",children:"Start Date"}),t.jsx("th",{className:"px-4 py-2 text-left",children:"End Date"}),t.jsx("th",{className:"px-4 py-2 text-left",children:"Amount"}),t.jsx("th",{className:"px-4 py-2 text-left",children:"Status"})]})}),t.jsx("tbody",{children:s.subscriptionHistory.filter(E=>E.type==="vip").map((E,_)=>t.jsxs("tr",{className:_%2===0?"bg-white/0":"bg-white/5",children:[t.jsx("td",{className:"px-4 py-2",children:E.notes?.includes("VIP")?E.notes.split("VIP ")[1].split(" ")[0]:E.type}),t.jsx("td",{className:"px-4 py-2",children:E.startDate?new Date(E.startDate).toLocaleDateString():"-"}),t.jsx("td",{className:"px-4 py-2",children:E.endDate?new Date(E.endDate).toLocaleDateString():"-"}),t.jsxs("td",{className:"px-4 py-2",children:["$",E.amount]}),t.jsx("td",{className:"px-4 py-2 capitalize",children:E.status})]},E.id))})]})})]}),t.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Choose Your VIP Plan"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:dr.map((E,_)=>t.jsxs("div",{className:`relative p-6 rounded-2xl border transition-all duration-300 cursor-pointer hover:scale-105 flex flex-col h-full ${C?.id===E.id?"glass-card border-purple-400/50 shadow-2xl":"bg-white/10 border-white/20 hover:bg-white/15"}`,children:[C?.id===E.id&&t.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 rounded-full p-1",children:t.jsx(me,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:"text-center flex-1",children:[t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-3 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:t.jsx(Le,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:E.name}),t.jsx("div",{className:"space-y-2 mb-6",children:E.features.map((K,Q)=>t.jsxs("div",{className:"flex items-center space-x-2 text-white/80 text-sm",children:[t.jsx(me,{className:"w-4 h-4 text-green-400"}),t.jsx("span",{children:K})]},Q))}),t.jsxs("div",{className:"text-center",children:[t.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:["$",E.price]}),t.jsx("p",{className:"text-white/60 text-sm",children:"per month"})]})]}),t.jsxs("div",{className:"mt-auto pt-4",children:[!C&&t.jsx("button",{className:"glass-card border border-purple-400/30 text-purple-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-purple-400/10 transition w-full",onClick:()=>P(E),disabled:s.balance<E.price||V.hasActiveSubscription(s.id),children:"Subscribe Now"}),C&&E.id>C.id&&t.jsxs("button",{className:"glass-card border border-blue-400/30 text-blue-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-blue-400/10 transition w-full",onClick:()=>L(E),disabled:s.balance<E.price||V.hasActiveSubscription(s.id),children:["Upgrade to ",E.name]}),C&&E.id<C.id&&t.jsxs("button",{className:"glass-card border border-red-400/30 text-red-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-400/10 transition w-full",onClick:()=>L(E),disabled:s.balance<E.price||V.hasActiveSubscription(s.id),children:["Downgrade to ",E.name]}),C?.id===E.id&&t.jsx("button",{className:"glass-card border border-green-400/30 text-green-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-green-400/10 transition w-full",disabled:!0,children:"Current Plan"})]})]},E.id))})]})]}),a&&i&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:t.jsxs("div",{className:"glass-card border border-white/20 rounded-2xl p-8 max-w-md w-full shadow-2xl backdrop-blur-xl",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Confirm VIP Upgrade"}),t.jsxs("p",{className:"text-white/80 mb-6",children:["You are about to upgrade your VIP plan to ",t.jsx("span",{className:"font-semibold",children:i.name}),". This will deduct ",t.jsxs("span",{className:"font-semibold",children:["$",i.price]})," from your wallet balance. Are you sure you want to proceed?"]}),t.jsxs("div",{className:"flex justify-center gap-3",children:[t.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[120px]",onClick:I,children:"Cancel"}),t.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[120px]",onClick:O,children:"Confirm Subscription"})]})]})}),l&&d&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:t.jsxs("div",{className:"glass-card border border-green-400/30 rounded-2xl p-8 max-w-md w-full shadow-2xl backdrop-blur-xl",children:[t.jsx("h2",{className:"text-xl font-bold text-green-400 mb-4",children:"Congratulations!"}),t.jsxs("p",{className:"text-white/80 mb-6",children:["You have successfully upgraded to the ",t.jsx("span",{className:"font-semibold",children:d.name})," VIP plan. Your daily reward is now ",t.jsxs("span",{className:"font-semibold",children:["$",d.dailyReward]}),"."]}),t.jsx("div",{className:"flex justify-center",children:t.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[100px]",onClick:S,children:"OK"})})]})}),f&&w&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:t.jsxs("div",{className:"glass-card border border-white/20 rounded-2xl p-8 max-w-md w-full shadow-2xl backdrop-blur-xl",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Confirm VIP Upgrade"}),t.jsxs("p",{className:"text-white/80 mb-6",children:["You are about to upgrade your VIP plan from ",t.jsx("span",{className:"font-semibold",children:C?.name})," to ",t.jsx("span",{className:"font-semibold",children:w.name}),". This will deduct ",t.jsxs("span",{className:"font-semibold",children:["$",w.price]})," from your wallet balance. Are you sure you want to proceed?"]}),t.jsxs("div",{className:"flex justify-center gap-3",children:[t.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[120px]",onClick:()=>y(!1),children:"Cancel"}),t.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[120px]",onClick:N,children:"Confirm Upgrade"})]})]})}),x&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:t.jsxs("div",{className:"glass-card border border-red-400/30 rounded-2xl p-8 max-w-md w-full shadow-2xl backdrop-blur-xl",children:[t.jsx("h2",{className:"text-xl font-bold text-red-400 mb-4",children:"Cancel VIP Plan?"}),t.jsx("p",{className:"text-white/80 mb-6",children:"Are you sure you want to cancel your VIP subscription? This action cannot be undone."}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("input",{className:"glass-card border border-white/10 rounded-lg px-3 py-2 text-white bg-transparent mb-2",placeholder:"Reason for cancellation (optional)",value:g,onChange:E=>j(E.target.value)}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"glass-card border border-red-400/30 text-red-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-400/10 transition flex-1",onClick:T,children:"Confirm Cancel"}),t.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-4 rounded-xl shadow hover:bg-white/10 transition flex-1",onClick:()=>p(!1),children:"Go Back"})]})]})]})})]})},xf=({onAdminLogin:s,onBack:e,isLoading:r,error:i})=>{const[n,a]=b.useState(!1),[o,l]=b.useState({username:"",password:""}),c=h=>{const{name:u,value:m}=h.target;l({...o,[u]:m})},d=h=>{if(h.preventDefault(),!(!o.username||!o.password))try{const u=V.authenticateUser(o.username,o.password);if(u.username==="mhamad")s(u);else throw new Error("Access denied. Admin privileges required.")}catch(u){throw u}};return t.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4",children:[t.jsxs("button",{onClick:e,className:"fixed top-6 left-6 z-50 glass-card flex items-center space-x-2 px-4 py-2 rounded-xl border border-white/20 bg-white/10 backdrop-blur-md text-white font-semibold shadow hover:bg-white/20 transition-all",children:[t.jsx(at,{className:"w-5 h-5 mr-1"}),t.jsx("span",{children:"Back to Main Page"})]}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"}),t.jsx("div",{className:"relative w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20 shadow-2xl relative",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"inline-flex items-center space-x-2 bg-purple-400/20 text-purple-400 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[t.jsx(Le,{className:"w-4 h-4"}),t.jsx("span",{children:"Admin Access"})]}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Login"}),t.jsx("p",{className:"text-white/80",children:"Access the admin control panel"})]}),i&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(gt,{className:"w-5 h-5 text-red-400"}),t.jsx("span",{className:"text-red-400 text-sm",children:i})]})}),t.jsxs("form",{onSubmit:d,className:"space-y-6",autoComplete:"off",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Admin Username"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",name:"username",value:o.username,onChange:c,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-400/50 focus:border-purple-400 transition-all",placeholder:"Enter admin username",required:!0,disabled:r,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other"}),t.jsx(xs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Admin Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:n?"text":"password",name:"password",value:o.password,onChange:c,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-400/50 focus:border-purple-400 transition-all pr-12",placeholder:"Enter admin password",required:!0,disabled:r,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true"}),t.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",disabled:r,children:n?t.jsx(We,{className:"w-5 h-5"}):t.jsx(Te,{className:"w-5 h-5"})})]})]}),t.jsxs("button",{type:"submit",disabled:r||!o.username||!o.password,className:"w-full bg-gradient-to-r from-purple-400 to-blue-500 text-white py-3 rounded-lg font-semibold hover:from-purple-500 hover:to-blue-600 transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:[r&&t.jsx(ht,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:r?"Authenticating...":"Access Admin Panel"})]})]})]})})]})},ff=({onLogout:s=()=>{},onBack:e})=>{const[r,i]=b.useState("overview"),[n,a]=b.useState([]),[o,l]=b.useState(""),[c,d]=b.useState("all"),[h,u]=b.useState(null),[m,x]=b.useState(null),[p,f]=b.useState(!1),[y,w]=b.useState([]),[A,g]=b.useState(null),[j,C]=b.useState(""),[k,P]=b.useState([]),[I,O]=b.useState(!1),[S,U]=b.useState(null),[T,L]=b.useState({title:"",description:"",youtubeUrl:"",youtubeId:"",duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0}),[N,E]=b.useState(!1),[_,K]=b.useState(!1);b.useEffect(()=>{Q(),te(),re()},[]),b.useEffect(()=>{r==="kyc"&&re()},[r]);const Q=()=>{const v=V.getAllUsers();a(v)},te=()=>{const v=localStorage.getItem("adminAds");v&&P(JSON.parse(v))},re=()=>{const v=localStorage.getItem("kycVerifications");if(v)try{const M=JSON.parse(v).map($=>({...$,submittedAt:$.submittedAt?new Date($.submittedAt):new Date,processedAt:$.processedAt?new Date($.processedAt):void 0}));w(M)}catch{w([])}else w([])},Y=v=>{localStorage.setItem("adminAds",JSON.stringify(v)),P(v)},R=v=>{const B=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,M=v.match(B);return M&&M[2].length===11?M[2]:""},D=v=>`https://img.youtube.com/vi/${v}/maxresdefault.jpg`,F=v=>{L(B=>({...B,youtubeUrl:v}))},q=()=>{if(!T.title||!T.description||!T.youtubeUrl&&!T.videoFile){alert("Please fill in all required fields");return}const v=T.youtubeUrl?R(T.youtubeUrl):void 0,B={id:`ad_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:T.title,description:T.description,youtubeId:v,videoFile:T.videoFile,duration:T.duration,reward:T.reward,category:T.category,thumbnail:v?D(v):T.videoFile||"",requiredWatchTime:T.requiredWatchTime,isActive:T.isActive,createdAt:new Date().toISOString(),views:0,totalEarnings:0},M=[...k,B];Y(M),O(!1),L({title:"",description:"",youtubeUrl:"",youtubeId:"",duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0})},X=v=>{U(v),L({title:v.title,description:v.description,youtubeUrl:v.youtubeId?`https://www.youtube.com/watch?v=${v.youtubeId}`:"",youtubeId:v.youtubeId,videoFile:v.videoFile,duration:v.duration,reward:v.reward,category:v.category,requiredWatchTime:v.requiredWatchTime,isActive:v.isActive}),O(!0)},Z=()=>{if(!S||!T.title||!T.description){alert("Please fill in all required fields");return}const v={...S,title:T.title,description:T.description,youtubeId:T.youtubeId,videoFile:T.videoFile,duration:T.duration,reward:T.reward,category:T.category,thumbnail:T.youtubeId?D(T.youtubeId):T.videoFile||S.thumbnail,requiredWatchTime:T.requiredWatchTime,isActive:T.isActive},B=k.map(M=>M.id===S.id?v:M);Y(B),O(!1),U(null),L({title:"",description:"",youtubeUrl:"",youtubeId:"",duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0})},le=v=>{if(window.confirm("Are you sure you want to delete this ad?")){const B=k.filter(M=>M.id!==v);Y(B)}},J=v=>{const B=k.map(M=>M.id===v?{...M,isActive:!M.isActive}:M);Y(B)},he=v=>{const B=v.target.files?.[0];if(B){const M=new FileReader;M.onload=$=>{const ie=$.target?.result;L(Ze=>({...Ze,videoFile:ie,thumbnail:ie}))},M.readAsDataURL(B)}},xe=n.filter(v=>{const B=v.username.toLowerCase().includes(o.toLowerCase())||v.email.toLowerCase().includes(o.toLowerCase()),M=c==="all"||c==="active"&&v.balance>0||c==="inactive"&&v.balance===0;return B&&M}),Pe=()=>{const v=localStorage.getItem("depositProofs");return v?JSON.parse(v):[]},je=()=>{const v=localStorage.getItem("withdrawRequests");return v?JSON.parse(v):[]},pe={totalUsers:n.length,totalBalance:n.reduce((v,B)=>v+B.balance,0),totalEarned:n.reduce((v,B)=>v+B.totalEarned,0),activeUsers:n.filter(v=>v.balance>0).length,pendingDeposits:Pe().filter(v=>v.status==="pending").length,pendingWithdrawals:je().filter(v=>v.status==="pending").length,totalDeposits:Pe().reduce((v,B)=>v+B.amount,0),totalWithdrawals:je().reduce((v,B)=>v+B.amount,0)},Be=(v,B,M)=>{const $=n.find(ie=>ie.id===v);if($){const ie=$.balance+B,Ze={...$,balance:ie};V.updateUser(Ze),Q()}},Je=v=>{const B=n.find(M=>M.id===v);if(B&&window.confirm(`Reset balance for ${B.username}?`)){const M={...B,balance:0,totalEarned:0};V.updateUser(M),Q()}},Xe=v=>{const B=window.prompt("Enter amount to add:");if(!B)return;const M=parseFloat(B);if(isNaN(M)||M<=0){alert("Invalid amount");return}Be(v,M)},Cs=()=>{window.confirm("Are you sure you want to reset ALL user balances and earnings to zero?")&&(V.resetAllBalances(),Q(),alert("All balances and earnings have been reset."))},Es=v=>{window.confirm(`Are you sure you want to reset ${v}'s account? This will clear their balance and earnings.`)&&(V.resetUserAccount(v),Q())},Wt=(v,B)=>{const M=Pe(),$=M.findIndex(ie=>ie.id===v);$!==-1&&(B?(M[$].status="approved",M[$].processedAt=new Date,M[$].adminNotes="Approved by admin",V.handleDeposit(M[$].userId,M[$].amount)):(M[$].status="rejected",M[$].processedAt=new Date,M[$].adminNotes="Rejected by admin"),localStorage.setItem("depositProofs",JSON.stringify(M)),Q())},Ht=(v,B)=>{const M=je(),$=M.findIndex(ie=>ie.id===v);if($!==-1){const ie=M[$];if(B){M[$].status="approved",M[$].processedAt=new Date,M[$].adminNotes="Approved by admin";const Ze=n.find(Ps=>Ps.id===ie.userId);if(Ze){const Ps={...Ze,balance:Math.max(0,Ze.balance-ie.amount)};V.updateUser(Ps)}V.addWithdrawalApprovalNotification(ie.userId,ie.amount)}else M[$].status="rejected",M[$].processedAt=new Date,M[$].adminNotes="Rejected by admin",V.addWithdrawalRejectionNotification(ie.userId,ie.amount,"Rejected by admin");localStorage.setItem("withdrawRequests",JSON.stringify(M)),Q()}},ks=v=>{const B=y.map(M=>M.id===v?{...M,status:"approved",processedAt:new Date,adminNotes:j||"KYC approved by admin"}:M);w(B),g(null),C(""),localStorage.setItem("kycVerifications",JSON.stringify(B.map(M=>({...M,submittedAt:M.submittedAt instanceof Date?M.submittedAt.toISOString():M.submittedAt,processedAt:M.processedAt instanceof Date?M.processedAt.toISOString():M.processedAt}))))},Ts=v=>{if(!j.trim()){alert("Please provide a reason for rejection");return}const B=y.map(M=>M.id===v?{...M,status:"rejected",processedAt:new Date,adminNotes:j,rejectionReason:j}:M);w(B),g(null),C(""),localStorage.setItem("kycVerifications",JSON.stringify(B.map(M=>({...M,submittedAt:M.submittedAt instanceof Date?M.submittedAt.toISOString():M.submittedAt,processedAt:M.processedAt instanceof Date?M.processedAt.toISOString():M.processedAt}))))},Ds=[{id:"overview",label:"Overview",icon:hi},{id:"users",label:"Users",icon:ke},{id:"deposits",label:"Deposits",icon:ue},{id:"withdrawals",label:"Withdrawals",icon:ui},{id:"subscriptions",label:"Subscriptions",icon:Rs},{id:"referrals",label:"Referrals",icon:Ke},{id:"ads",label:"Ads",icon:mi},{id:"kyc",label:"KYC Reviews",icon:Rs}],[z,H]=b.useState(!1);return t.jsxs("div",{className:"flex min-h-screen w-full max-w-full overflow-x-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[t.jsxs("div",{children:[t.jsxs("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg bg-white/10 border border-white/20 backdrop-blur-xl shadow-lg",onClick:()=>E(!0),"aria-label":"Open sidebar",children:[t.jsx("span",{className:"block w-6 h-0.5 bg-white mb-1 rounded"}),t.jsx("span",{className:"block w-6 h-0.5 bg-white mb-1 rounded"}),t.jsx("span",{className:"block w-6 h-0.5 bg-white rounded"})]}),N&&t.jsx("div",{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm lg:hidden",onClick:()=>E(!1)}),t.jsxs("aside",{className:`glass-card border border-white/20 shadow-2xl rounded-r-3xl p-3 flex flex-col items-start bg-white/10 backdrop-blur-xl transition-all duration-300
            ${N?"translate-x-0":"-translate-x-full"}
            ${_?"w-20":"w-64"}
            h-screen z-50
            lg:translate-x-0 lg:static lg:rounded-3xl lg:block`,style:{minWidth:_?"5rem":"16rem"},children:[t.jsx("div",{className:"mb-10 w-full flex items-center justify-center",children:t.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent select-none transition-opacity duration-200 ${_?"opacity-0 pointer-events-none":"opacity-100"}`,children:"Admin"})}),t.jsx("nav",{className:"flex flex-col gap-2 w-full",children:Ds.map(({id:v,label:B,icon:M})=>t.jsxs("button",{onClick:()=>{i(v),E(!1)},className:`
                  flex items-center gap-x-4 justify-start px-2 py-3 rounded-xl w-full text-left font-semibold transition-all duration-200
                  ${r===v?"bg-gradient-to-r from-purple-400 to-pink-400 text-white shadow-lg":"text-white/80 hover:text-white hover:bg-white/10"}
                  ${_?"justify-center px-0 py-0 w-14 h-14 min-w-[3.5rem] min-h-[3.5rem]":""}
                `,style:_?{display:"flex",alignItems:"center",justifyContent:"center"}:{},children:[t.jsx("span",{className:_?"flex items-center justify-center w-10 h-10":"",children:t.jsx(M,{className:"w-6 h-6"})}),t.jsx("span",{className:`transition-all duration-200 ${_?"opacity-0 w-0 pointer-events-none":"opacity-100 w-auto ml-2"}`,children:B})]},v))}),t.jsx("div",{className:"mt-auto w-full flex justify-center pb-4",children:t.jsx("button",{className:"w-11/12 bg-red-500 hover:bg-red-600 text-white font-bold py-2 rounded-xl shadow transition-all border border-red-500/30",onClick:()=>H(!0),children:"Logout"})})]})]}),t.jsxs("main",{className:"flex-1 w-full min-h-screen relative flex flex-col transition-all duration-300",children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(Ve,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),t.jsx("section",{className:"relative z-10 w-full max-w-6xl mx-auto",children:t.jsx("div",{className:"relative min-h-[300px]",children:t.jsxs("div",{className:"absolute inset-0 w-full transition-all duration-500 ease-in-out opacity-100 translate-y-0 animate-fadein",style:{animation:"fadein 0.5s"},children:[r==="overview"&&t.jsxs("div",{className:"space-y-6 mt-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60 text-sm",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:pe.totalUsers})]}),t.jsx(ke,{className:"w-8 h-8 text-blue-400"})]})}),t.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60 text-sm",children:"Total Balance"}),t.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",pe.totalBalance.toFixed(2)]})]}),t.jsx(ue,{className:"w-8 h-8 text-green-400"})]})}),t.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60 text-sm",children:"Total Earned"}),t.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["$",pe.totalEarned.toFixed(2)]})]}),t.jsx(ps,{className:"w-8 h-8 text-yellow-400"})]})}),t.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60 text-sm",children:"Active Users"}),t.jsx("p",{className:"text-2xl font-bold text-purple-400",children:pe.activeUsers})]}),t.jsx(ui,{className:"w-8 h-8 text-purple-400"})]})})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsx("button",{onClick:Cs,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-semibold shadow-lg transition",children:"Reset All Balances"})}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>i("deposits"),className:"flex items-center space-x-3 p-4 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 transition-colors",children:[t.jsx(ur,{className:"w-6 h-6 text-blue-400"}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-white font-semibold",children:"Review Deposits"}),t.jsxs("p",{className:"text-white/60 text-sm",children:[pe.pendingDeposits," pending"]})]})]}),t.jsxs("button",{onClick:()=>i("withdrawals"),className:"flex items-center space-x-3 p-4 bg-green-500/20 border border-green-500/30 rounded-lg hover:bg-green-500/30 transition-colors",children:[t.jsx(Br,{className:"w-6 h-6 text-green-400"}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-white font-semibold",children:"Review Withdrawals"}),t.jsxs("p",{className:"text-white/60 text-sm",children:[pe.pendingWithdrawals," pending"]})]})]}),t.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-3 p-4 bg-purple-500/20 border border-purple-500/30 rounded-lg hover:bg-purple-500/30 transition-colors",children:[t.jsx(hi,{className:"w-6 h-6 text-purple-400"}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-white font-semibold",children:"Deposit Overview"}),t.jsx("p",{className:"text-white/60 text-sm",children:"View all users"})]})]})]})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Recent Activity"}),t.jsx("div",{className:"space-y-3",children:Pe().slice(-5).reverse().map(v=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${v.status==="approved"?"bg-green-400":"bg-yellow-400"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:v.username}),t.jsxs("p",{className:"text-white/60 text-sm",children:["Deposit: $",v.amount]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-white/60 text-sm",children:new Date(v.submittedAt).toLocaleDateString()}),t.jsx("p",{className:`text-xs ${v.status==="approved"?"text-green-400":"text-yellow-400"}`,children:v.status})]})]},v.id))})]})]}),r==="users"&&t.jsxs("div",{className:"space-y-6 mt-8",children:[t.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50"}),t.jsx("input",{type:"text",placeholder:"Search users...",value:o,onChange:v=>l(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-400/50"})]})}),t.jsxs("select",{value:c,onChange:v=>d(v.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50",children:[t.jsx("option",{value:"all",children:"All Users"}),t.jsx("option",{value:"active",children:"Active Users"}),t.jsx("option",{value:"inactive",children:"Inactive Users"})]}),t.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[t.jsx(ut,{className:"w-4 h-4"}),t.jsx("span",{children:"Refresh"})]})]})}),t.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl border border-white/20 overflow-x-auto",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-white/5",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Balance"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Total Earned"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Join Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-white/10",children:xe.map(v=>t.jsxs("tr",{className:"hover:bg-white/5",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:t.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-semibold",children:v.username.charAt(0).toUpperCase()})})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-white",children:v.username}),t.jsx("div",{className:"text-sm text-white/60",children:v.email})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm text-white",children:["$",v.balance.toFixed(2)]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm text-white",children:["$",v.totalEarned.toFixed(2)]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-white/60",children:new Date(v.joinDate).toLocaleDateString()})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>u(v.id),className:"text-blue-400 hover:text-blue-300",children:t.jsx(Te,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>x(v),className:"text-yellow-400 hover:text-yellow-300",children:t.jsx(xi,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Es(v.username),className:"text-red-400 hover:text-red-300",children:t.jsx(fi,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Je(v.id),className:"text-red-500 hover:text-red-600",title:"Reset Balance",children:t.jsx(ut,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Xe(v.id),className:"text-green-400 hover:text-green-300",title:"Add Balance",children:t.jsx(cl,{className:"w-4 h-4"})})]})})]},v.id))})]})})})]}),r==="deposits"&&t.jsx("div",{className:"space-y-6 mt-8",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Deposit Proofs"}),t.jsx("div",{className:"space-y-4",children:Pe().map(v=>t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:v.username}),t.jsxs("p",{className:"text-white/60 text-sm",children:["Amount: $",v.amount]})]}),t.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.status==="approved"?"bg-green-500/20 text-green-400":v.status==="rejected"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:v.status})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60 text-sm",children:"Transaction Hash:"}),t.jsx("p",{className:"text-white text-sm font-mono",children:v.transactionHash||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60 text-sm",children:"Submitted:"}),t.jsx("p",{className:"text-white text-sm",children:new Date(v.submittedAt).toLocaleString()})]})]}),v.status==="pending"&&t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>Wt(v.id,!0),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[t.jsx(me,{className:"w-4 h-4"}),t.jsx("span",{children:"Approve"})]}),t.jsxs("button",{onClick:()=>Wt(v.id,!1),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsx("span",{children:"Reject"})]})]})]},v.id))})]})}),r==="withdrawals"&&t.jsx("div",{className:"space-y-6 mt-8",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Withdrawal Requests"}),t.jsx("div",{className:"space-y-4",children:je().map(v=>t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:v.username}),t.jsxs("p",{className:"text-white/60 text-sm",children:["Amount: $",v.amount]})]}),t.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.status==="approved"?"bg-green-500/20 text-green-400":v.status==="rejected"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:v.status})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60 text-sm",children:"Wallet Address:"}),t.jsx("p",{className:"text-white text-sm font-mono",children:v.walletAddress})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60 text-sm",children:"Requested:"}),t.jsx("p",{className:"text-white text-sm",children:new Date(v.requestedAt).toLocaleString()})]})]}),v.status==="pending"&&t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>Ht(v.id,!0),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[t.jsx(me,{className:"w-4 h-4"}),t.jsx("span",{children:"Approve"})]}),t.jsxs("button",{onClick:()=>Ht(v.id,!1),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsx("span",{children:"Reject"})]})]})]},v.id))})]})}),r==="subscriptions"&&t.jsx("div",{className:"space-y-6 mt-8",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Subscription Management"}),t.jsx("div",{className:"space-y-4",children:n.filter(v=>v.subscriptionHistory&&v.subscriptionHistory.length>0).map(v=>t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:v.username}),t.jsx("p",{className:"text-white/60 text-sm",children:v.email})]}),t.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.subscriptionStatus==="active"?"bg-green-500/20 text-green-400":v.subscriptionStatus==="expired"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:v.subscriptionStatus||"No subscription"})]}),v.subscriptionHistory&&v.subscriptionHistory.length>0&&t.jsx("div",{className:"space-y-2",children:v.subscriptionHistory.map(B=>t.jsx("div",{className:"bg-white/5 rounded p-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-white font-medium",children:[B.type," - $",B.amount]}),t.jsxs("p",{className:"text-white/60 text-sm",children:[new Date(B.startDate).toLocaleDateString()," - ",new Date(B.endDate).toLocaleDateString()]})]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs ${B.status==="active"?"bg-green-500/20 text-green-400":B.status==="expired"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:B.status})]})},B.id))})]},v.id))})]})}),r==="referrals"&&t.jsx("div",{className:"space-y-6 mt-8",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Referral System"}),t.jsx("div",{className:"space-y-4",children:n.map(v=>t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:v.username}),t.jsxs("p",{className:"text-white/60 text-sm",children:["Referral Code: ",v.referralCode]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-white font-medium",children:[v.referralCount," referrals"]}),t.jsxs("p",{className:"text-white/60 text-sm",children:["$",v.referralEarnings.toFixed(2)," earned"]})]})]}),v.referralHistory&&v.referralHistory.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white/60 text-sm font-medium",children:"Recent Referrals:"}),v.referralHistory.slice(-3).map(B=>t.jsxs("div",{className:"bg-white/5 rounded p-2 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white text-sm",children:B.referredUsername}),t.jsx("p",{className:"text-white/60 text-xs",children:new Date(B.joinDate).toLocaleDateString()})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-white text-sm",children:["$",B.earnings.toFixed(2)]}),t.jsx("span",{className:`px-2 py-1 rounded text-xs ${B.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:B.status})]})]},B.id))]})]},v.id))})]})}),r==="ads"&&t.jsxs("div",{className:"space-y-6 mt-8",children:[t.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[t.jsx("button",{onClick:()=>{L({title:"",description:"",youtubeUrl:"",youtubeId:"",videoFile:void 0,duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0,thumbnail:""}),U(null),O(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition",children:"Add YouTube Ad"}),t.jsx("button",{onClick:()=>{L({title:"",description:"",youtubeUrl:"",youtubeId:"",videoFile:"dummy",duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0,thumbnail:""}),U(null),O(!0)},className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition",children:"Add Video Upload Ad"})]}),(()=>{const v=Date.now(),B=k.filter($=>v-new Date($.createdAt).getTime()<1440*60*1e3),M=k.filter($=>v-new Date($.createdAt).getTime()>=1440*60*1e3);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-center",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 w-full",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4 text-center",children:"Ad Management"}),t.jsxs("div",{className:"space-y-4",children:[B.length===0&&t.jsx("div",{className:"text-center text-white/60 py-8",children:"No active ads. Add a new ad above."}),B.map($=>t.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:$.title}),t.jsx("p",{className:"text-white/60 text-sm",children:$.description})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-white font-medium",children:[$.views," views"]}),t.jsxs("p",{className:"text-white/60 text-sm",children:["$",$.totalEarnings.toFixed(2)," earned"]})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>X($),className:"text-yellow-400 hover:text-yellow-300",children:t.jsx(xi,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>le($.id),className:"text-red-400 hover:text-red-300",children:t.jsx(fi,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>J($.id),className:`text-${$.isActive?"green":"red"}-400 hover:text-${$.isActive?"green":"red"}-300`,children:$.isActive?"Active":"Inactive"})]})]},$.id))]})]})}),t.jsx("div",{className:"flex justify-center mt-10",children:t.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/20 w-full",children:[t.jsx("h2",{className:"text-lg font-bold text-white mb-4 text-center",children:"Ads History (Expired after 24h)"}),t.jsxs("div",{className:"space-y-4",children:[M.length===0&&t.jsx("div",{className:"text-center text-white/40 py-8",children:"No expired ads yet."}),M.map($=>t.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/10 opacity-70",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:$.title}),t.jsx("p",{className:"text-white/60 text-sm",children:$.description})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-white font-medium",children:[$.views," views"]}),t.jsxs("p",{className:"text-white/60 text-sm",children:["$",$.totalEarnings.toFixed(2)," earned"]})]})]}),t.jsxs("div",{className:"text-xs text-white/40",children:["Published: ",new Date($.createdAt).toLocaleString()]})]},$.id))]})]})})]})})()]}),r==="kyc"&&t.jsx("div",{className:"space-y-6 mt-8",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"KYC Verification Reviews"}),t.jsx("button",{onClick:re,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Refresh"})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-white/10",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Full Name"}),t.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Document Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Document Number"}),t.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-white/10",children:y.map(v=>t.jsxs("tr",{className:"hover:bg-white/5",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-white font-medium",children:["#",v.userId]}),t.jsx("p",{className:"text-white/60 text-sm",children:v.username})]})}),t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("p",{className:"text-white",children:v.fullName}),t.jsxs("p",{className:"text-white/60 text-sm",children:[v.dateOfBirth," â€¢ ",v.nationality]})]}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-white/80 text-sm capitalize",children:v.documentType.replace("_"," ")})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("p",{className:"text-white/80 text-sm font-mono",children:v.documentNumber})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${v.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":v.status==="approved"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:[v.status==="pending"?t.jsx(Fe,{className:"w-3 h-3"}):v.status==="approved"?t.jsx(kt,{className:"w-3 h-3"}):t.jsx(Ee,{className:"w-3 h-3"}),t.jsx("span",{className:"capitalize",children:v.status})]})}),t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("p",{className:"text-white/60 text-sm",children:v.submittedAt.toLocaleDateString()}),t.jsx("p",{className:"text-white/40 text-xs",children:v.submittedAt.toLocaleTimeString()})]}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("button",{onClick:()=>g(v),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View Details"})})]},v.id))})]})}),y.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Rs,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),t.jsx("p",{className:"text-white/60",children:"No KYC verifications found"}),t.jsx("button",{onClick:()=>{console.log("Current localStorage kycVerifications:",localStorage.getItem("kycVerifications")),console.log("Current kycVerifications state:",y),re()},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Debug: Check KYC Data"}),t.jsx("button",{onClick:()=>{console.log("=== Port Persistence Debug ==="),console.log("Current port:",window.location.port||"3000"),console.log("Has port backup:",V.hasPortBackup());const v=V.getBackupInfo();if(console.log("Backup info:",v),v.hasBackup){console.log("Restoring from backup...");const B=V.restoreFromPortBackup();console.log("Restore successful:",B),B&&(Q(),alert("Data restored from backup!"))}else console.log("No backup available"),alert("No backup data available")},className:"mt-2 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Debug: Port Persistence"}),t.jsx("button",{onClick:()=>{const v={id:`kyc_${Date.now()}_test123`,userId:"test_user_123",username:"testuser",fullName:"Test User",dateOfBirth:"1990-01-01",nationality:"United States",documentType:"passport",documentNumber:"123456789",documentFront:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",documentBack:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",selfieWithDocument:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",status:"pending",submittedAt:new Date().toISOString(),adminNotes:void 0,rejectionReason:void 0},B=localStorage.getItem("kycVerifications"),M=B?JSON.parse(B):[];M.push(v),localStorage.setItem("kycVerifications",JSON.stringify(M)),console.log("Test KYC data added:",v),re()},className:"mt-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Debug: Add Test KYC Data"})]})]})})]},r)})})]}),p&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Deposit Overview"}),t.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ee,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"space-y-4",children:n.map(v=>{const B=Pe().filter(ie=>ie.userId===v.id),M=B.some(ie=>ie.status==="approved"),$=B[B.length-1];return t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:v.username}),t.jsx("p",{className:"text-gray-600 text-sm",children:v.email})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${M?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M?"Has Deposit":"No Deposit"})})]}),$&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Last deposit: $",$.amount," on ",new Date($.submittedAt).toLocaleDateString()]}),t.jsxs("p",{className:`text-xs ${$.status==="approved"?"text-green-600":"text-yellow-600"}`,children:["Status: ",$.status]})]})]},v.id)})})]})}),I&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:t.jsxs("div",{className:"bg-gray-900 text-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:S?"Edit Ad":T.videoFile?"Add Video Upload Ad":"Add YouTube Ad"}),t.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-200",children:t.jsx(Ee,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[S&&t.jsxs("div",{className:"flex space-x-4 mb-2",children:[t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"videoSource",checked:!T.videoFile,onChange:()=>L(v=>({...v,videoFile:void 0})),className:"form-radio text-purple-500"}),t.jsx("span",{children:"YouTube Link"})]}),t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"videoSource",checked:!!T.videoFile,onChange:()=>L(v=>({...v,youtubeId:"",thumbnail:""})),className:"form-radio text-purple-500"}),t.jsx("span",{children:"Upload Video"})]})]}),!T.videoFile&&t.jsx("input",{type:"text",placeholder:"YouTube URL",value:T.youtubeUrl,onChange:v=>F(v.target.value),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),T.videoFile&&S&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"file",accept:"video/*",onChange:he,className:"hidden",id:"video-upload"}),t.jsxs("label",{htmlFor:"video-upload",className:"flex items-center space-x-2 text-purple-300 hover:text-purple-200 cursor-pointer",children:[t.jsx(mi,{className:"w-4 h-4"}),t.jsx("span",{children:"Upload Video"})]}),T.videoFile&&t.jsx("video",{src:T.videoFile,controls:!0,className:"w-full max-h-48 rounded-lg mt-2"})]}),t.jsx("input",{type:"text",placeholder:"Title",value:T.title,onChange:v=>L(B=>({...B,title:v.target.value})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),t.jsx("textarea",{placeholder:"Description",value:T.description,onChange:v=>L(B=>({...B,description:v.target.value})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),t.jsxs("select",{value:T.category,onChange:v=>L(B=>({...B,category:v.target.value})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50",children:[t.jsx("option",{value:"gaming",children:"Gaming"}),t.jsx("option",{value:"tech",children:"Tech"}),t.jsx("option",{value:"lifestyle",children:"Lifestyle"}),t.jsx("option",{value:"finance",children:"Finance"}),t.jsx("option",{value:"education",children:"Education"})]}),t.jsx("input",{type:"number",placeholder:"Duration (seconds)",value:typeof T.duration=="number"&&!isNaN(T.duration)?T.duration:"",onChange:v=>L(B=>({...B,duration:parseFloat(v.target.value)})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),t.jsx("input",{type:"number",placeholder:"Reward (USDT)",value:typeof T.reward=="number"&&!isNaN(T.reward)?T.reward:"",onChange:v=>L(B=>({...B,reward:parseFloat(v.target.value)})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),t.jsx("input",{type:"number",placeholder:"Required Watch Time (seconds)",value:typeof T.requiredWatchTime=="number"&&!isNaN(T.requiredWatchTime)?T.requiredWatchTime:"",onChange:v=>L(B=>({...B,requiredWatchTime:parseFloat(v.target.value)})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),t.jsx("input",{type:"text",placeholder:"Thumbnail URL",value:T.thumbnail,onChange:v=>L(B=>({...B,thumbnail:v.target.value})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),t.jsx("div",{className:"flex space-x-2",children:t.jsx("button",{onClick:S?Z:q,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition",children:S?"Update Ad":"Add Ad"})})]})]})}),A&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:t.jsxs("div",{className:"bg-gray-900 text-white rounded-xl shadow-2xl p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"KYC Verification Details"}),t.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-200",children:t.jsx(Ee,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("h3",{className:"text-white font-semibold mb-2",children:"User Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60",children:"User ID"}),t.jsxs("p",{className:"text-white font-mono",children:["#",A.userId]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60",children:"Username"}),t.jsx("p",{className:"text-white",children:A.username})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60",children:"Full Name"}),t.jsx("p",{className:"text-white",children:A.fullName})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60",children:"Date of Birth"}),t.jsx("p",{className:"text-white",children:A.dateOfBirth})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60",children:"Nationality"}),t.jsx("p",{className:"text-white",children:A.nationality})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60",children:"Document Type"}),t.jsx("p",{className:"text-white capitalize",children:A.documentType.replace("_"," ")})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-white/60",children:"Document Number"}),t.jsx("p",{className:"text-white font-mono",children:A.documentNumber})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("h3",{className:"text-white font-semibold mb-2",children:"Document Front"}),t.jsx("img",{src:A.documentFront,alt:"Document front",className:"w-full rounded-lg border border-white/20"})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("h3",{className:"text-white font-semibold mb-2",children:"Document Back"}),t.jsx("img",{src:A.documentBack,alt:"Document back",className:"w-full rounded-lg border border-white/20"})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("h3",{className:"text-white font-semibold mb-2",children:"Selfie with Document"}),t.jsx("img",{src:A.selfieWithDocument,alt:"Selfie with document",className:"w-full rounded-lg border border-white/20"})]})]}),t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("h3",{className:"text-white font-semibold mb-2",children:"Submission Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60",children:"Submitted"}),t.jsx("p",{className:"text-white",children:A.submittedAt.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white/60",children:"Current Status"}),t.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${A.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":A.status==="approved"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:[A.status==="pending"?t.jsx(Fe,{className:"w-3 h-3"}):A.status==="approved"?t.jsx(kt,{className:"w-3 h-3"}):t.jsx(Ee,{className:"w-3 h-3"}),t.jsx("span",{className:"capitalize",children:A.status})]})]})]})]}),A.status!=="pending"&&t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("h3",{className:"text-white font-semibold mb-2",children:"Admin Notes"}),t.jsx("p",{className:"text-white text-sm",children:A.adminNotes}),A.rejectionReason&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-white/60 text-sm",children:"Rejection Reason:"}),t.jsx("p",{className:"text-red-400 text-sm",children:A.rejectionReason})]})]}),A.status==="pending"&&t.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[t.jsx("h3",{className:"text-white font-semibold mb-2",children:"Admin Notes"}),t.jsx("textarea",{value:j,onChange:v=>C(v.target.value),placeholder:"Add notes for approval/rejection...",className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/50 text-sm",rows:3}),t.jsxs("div",{className:"flex space-x-3 mt-4",children:[t.jsxs("button",{onClick:()=>ks(A.id),className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center space-x-2",children:[t.jsx(kt,{className:"w-4 h-4"}),t.jsx("span",{children:"Approve KYC"})]}),t.jsxs("button",{onClick:()=>Ts(A.id),className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center space-x-2",children:[t.jsx(Ee,{className:"w-4 h-4"}),t.jsx("span",{children:"Reject KYC"})]})]})]})]})]})}),z&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:t.jsxs("div",{className:"glass-card border border-white/20 rounded-2xl p-8 max-w-sm w-full shadow-2xl backdrop-blur-xl",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Confirm Logout"}),t.jsx("p",{className:"text-white/80 mb-6",children:"Are you sure you want to log out?"}),t.jsxs("div",{className:"flex gap-3 justify-end",children:[t.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-4 rounded-xl shadow hover:bg-white/10 transition",onClick:()=>H(!1),children:"Cancel"}),t.jsx("button",{className:"glass-card border border-red-500/30 bg-red-500/20 text-red-300 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-500/40 hover:text-white transition",onClick:()=>{H(!1),s()},children:"Logout"})]})]})})]})},pf=({onClose:s})=>{const[e,r]=b.useState(!1),[i,n]=b.useState(!1),[a,o]=b.useState({newAds:!0,rewards:!0,vip:!0,withdrawals:!0,referrals:!0});b.useEffect(()=>{n(Re.isSupported()),r(Re.isPermissionGranted());const h=localStorage.getItem("notificationSettings");h&&o(JSON.parse(h))},[]);const l=async()=>{const h=await Re.requestPermission();r(h)},c=h=>{const u={...a,[h]:!a[h]};o(u),localStorage.setItem("notificationSettings",JSON.stringify(u))},d=async()=>{await Re.showNotification({title:"Test Notification",body:"This is a test notification to verify your settings are working!",tag:"test"})};return i?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Notification Settings"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),!e&&t.jsxs("div",{className:"bg-yellow-600 bg-opacity-20 border border-yellow-600 rounded-lg p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-yellow-400 font-semibold",children:"Permission Required"}),t.jsx("p",{className:"text-yellow-300 text-sm",children:"Enable notifications to receive updates about new ads and rewards."})]})]}),t.jsx("button",{onClick:l,className:"mt-3 w-full bg-yellow-600 text-white py-2 px-4 rounded hover:bg-yellow-700 transition-colors",children:"Enable Notifications"})]}),e&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"New Ads Available"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified when new ads are posted"})]}),t.jsx("button",{onClick:()=>c("newAds"),className:`w-12 h-6 rounded-full transition-colors ${a.newAds?"bg-blue-600":"bg-gray-600"}`,children:t.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.newAds?"transform translate-x-6":"transform translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Rewards Earned"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Notifications when you earn USDT"})]}),t.jsx("button",{onClick:()=>c("rewards"),className:`w-12 h-6 rounded-full transition-colors ${a.rewards?"bg-blue-600":"bg-gray-600"}`,children:t.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.rewards?"transform translate-x-6":"transform translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"VIP Benefits"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"VIP status updates and exclusive offers"})]}),t.jsx("button",{onClick:()=>c("vip"),className:`w-12 h-6 rounded-full transition-colors ${a.vip?"bg-blue-600":"bg-gray-600"}`,children:t.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.vip?"transform translate-x-6":"transform translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Withdrawals"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Confirmations when withdrawals are processed"})]}),t.jsx("button",{onClick:()=>c("withdrawals"),className:`w-12 h-6 rounded-full transition-colors ${a.withdrawals?"bg-blue-600":"bg-gray-600"}`,children:t.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.withdrawals?"transform translate-x-6":"transform translate-x-1"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium",children:"Referral Bonuses"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"When someone uses your referral code"})]}),t.jsx("button",{onClick:()=>c("referrals"),className:`w-12 h-6 rounded-full transition-colors ${a.referrals?"bg-blue-600":"bg-gray-600"}`,children:t.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.referrals?"transform translate-x-6":"transform translate-x-1"}`})})]})]}),t.jsx("button",{onClick:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors mb-4",children:"Test Notification"})]}),t.jsx("button",{onClick:s,className:"w-full bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Close"})]})}):t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Notifications Not Supported"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"Your browser doesn't support notifications. Please use a modern browser like Chrome, Firefox, or Safari."}),t.jsx("button",{onClick:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Close"})]})})},gf=({onClose:s})=>{const[e,r]=b.useState(!1),[i,n]=b.useState(!1),[a,o]=b.useState(""),[l,c]=b.useState(""),[d,h]=b.useState(""),[u,m]=b.useState([]),[x,p]=b.useState("setup");b.useEffect(()=>{const k=JSON.parse(localStorage.getItem("user")||"{}");r(k.twoFactorEnabled||!1)},[]);const f=()=>{const k="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let P="";for(let I=0;I<32;I++)P+=k.charAt(Math.floor(Math.random()*k.length));return P},y=(k,P)=>{const I="USDT Rewards",O=P;return`otpauth://totp/${encodeURIComponent(I)}:${encodeURIComponent(O)}?secret=${k}&issuer=${encodeURIComponent(I)}&algorithm=SHA1&digits=6&period=30`},w=()=>{const k=[];for(let P=0;P<8;P++){const I=Math.random().toString(36).substring(2,8).toUpperCase();k.push(I)}return k},A=()=>{const k=JSON.parse(localStorage.getItem("user")||"{}"),P=f();c(P),o(y(P,k.email||"user@example.com")),n(!0),p("setup")},g=()=>{d.length===6?(p("backup"),m(w())):alert("Please enter a valid 6-digit code")},j=()=>{const k=JSON.parse(localStorage.getItem("user")||"{}");k.twoFactorEnabled=!0,k.twoFactorSecret=l,k.backupCodes=u,localStorage.setItem("user",JSON.stringify(k)),r(!0),n(!1),p("setup"),h(""),m([]),s()},C=()=>{const k=JSON.parse(localStorage.getItem("user")||"{}");k.twoFactorEnabled=!1,delete k.twoFactorSecret,delete k.backupCodes,localStorage.setItem("user",JSON.stringify(k)),r(!1)};return i?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Two-Factor Authentication"}),t.jsx("button",{onClick:()=>{n(!1),p("setup"),h(""),m([])},className:"text-gray-400 hover:text-white transition-colors",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x==="setup"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"Step 1: Scan QR Code"}),t.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Open your authenticator app (Google Authenticator, Authy, etc.) and scan this QR code:"}),t.jsx("div",{className:"bg-white p-4 rounded-lg inline-block mb-4",children:t.jsx("div",{className:"w-48 h-48 bg-gray-100 flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),t.jsx("p",{className:"text-xs",children:"QR Code Placeholder"}),t.jsxs("p",{className:"text-xs mt-1",children:["Secret: ",l]})]})})}),t.jsxs("p",{className:"text-gray-400 text-xs",children:["Can't scan? Enter this code manually: ",t.jsx("code",{className:"bg-gray-700 px-2 py-1 rounded",children:l})]})]}),t.jsx("button",{onClick:()=>p("verify"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Next: Verify Code"})]}),x==="verify"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"Step 2: Verify Code"}),t.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Enter the 6-digit code from your authenticator app:"}),t.jsx("input",{type:"text",value:d,onChange:k=>h(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full bg-gray-700 text-white px-4 py-3 rounded text-center text-2xl tracking-widest",maxLength:6})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>p("setup"),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Back"}),t.jsx("button",{onClick:g,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Verify"})]})]}),x==="backup"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"Step 3: Backup Codes"}),t.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Save these backup codes in a secure location. You can use them to access your account if you lose your authenticator device:"}),t.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:t.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map((k,P)=>t.jsx("div",{className:"bg-gray-600 px-3 py-2 rounded text-center font-mono text-white",children:k},P))})}),t.jsx("p",{className:"text-yellow-400 text-xs mt-2",children:"âš ï¸ Store these codes securely. Each code can only be used once."})]}),t.jsx("button",{onClick:j,className:"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition-colors",children:"Complete Setup"})]})]})}):t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Two-Factor Authentication"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-4 h-4 rounded-full ${e?"bg-green-500":"bg-red-500"}`}),t.jsx("span",{className:"text-white",children:e?"Two-Factor Authentication is enabled":"Two-Factor Authentication is disabled"})]}),t.jsx("p",{className:"text-gray-300 text-sm",children:"Two-factor authentication adds an extra layer of security to your account by requiring a code from your authenticator app in addition to your password."}),e?t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"bg-green-600 bg-opacity-20 border border-green-600 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-green-400 font-semibold",children:"Security Enhanced"}),t.jsx("p",{className:"text-green-300 text-sm",children:"Your account is protected with 2FA"})]})]})}),t.jsx("button",{onClick:C,className:"w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition-colors",children:"Disable 2FA"})]}):t.jsx("button",{onClick:A,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Enable 2FA"})]})]})})},bf=({onClose:s})=>{const[e,r]=b.useState({firstName:"",lastName:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentFront:"",documentBack:"",selfie:"",status:"not_submitted"}),[i,n]=b.useState(1),[a,o]=b.useState(!1);b.useEffect(()=>{console.log("KYCVerification useEffect - userStorage object:",V);const m=V.getCurrentUser();console.log("KYCVerification useEffect - Current user:",m),m&&m.kycData&&r(m.kycData)},[]);const l=(m,x)=>{r(p=>({...p,[m]:x}))},c=(m,x)=>{console.log(`File upload for ${m}:`,x);const p=new FileReader;p.onload=f=>{console.log(`${m} file loaded successfully`),r(y=>({...y,[m]:f.target?.result}))},p.onerror=f=>{console.error(`Error loading ${m} file:`,f)},p.readAsDataURL(x)},d=()=>{console.log("handleSubmit called");const m=V.getCurrentUser();if(console.log("Current user:",m),!m){alert("User not found. Please log in again.");return}const x={...e,status:"pending",submittedAt:new Date().toISOString()},p={...m,kycData:x};V.updateUser(p);const f={id:`kyc_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:m.id,username:m.username,fullName:`${e.firstName} ${e.lastName}`,dateOfBirth:e.dateOfBirth,nationality:e.nationality,documentType:e.documentType,documentNumber:e.documentNumber,documentFront:e.documentFront,documentBack:e.documentBack,selfieWithDocument:e.selfie,status:"pending",submittedAt:new Date().toISOString(),adminNotes:void 0,rejectionReason:void 0},y=localStorage.getItem("kycVerifications");console.log("Existing KYC data from localStorage:",y);const w=y?JSON.parse(y):[];console.log("Parsed existing KYC list:",w),w.push(f),console.log("Updated KYC list with new submission:",w),localStorage.setItem("kycVerifications",JSON.stringify(w));const A=localStorage.getItem("kycVerifications");console.log("Verified saved data:",A),console.log("KYC submitted:",f),console.log("Updated KYC list:",w),r(x),o(!1),console.log("KYC submission completed successfully"),setTimeout(()=>{const g=localStorage.getItem("kycVerifications");if(console.log("Verification - Saved KYC data:",g),g){const j=JSON.parse(g);console.log("Verification - Number of KYC submissions:",j.length),alert(`KYC verification submitted successfully! Your submission is now under review. Total submissions: ${j.length}`)}else console.error("Verification - No KYC data found after submission!"),alert("KYC verification submitted, but there was an issue saving the data. Please contact support.")},100)},h=m=>{switch(m){case"approved":return"text-green-400";case"rejected":return"text-red-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}},u=m=>{switch(m){case"approved":return"Verified";case"rejected":return"Rejected";case"pending":return"Under Review";default:return"Not Submitted"}};return a?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"KYC Verification"}),t.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-center space-x-2 sm:space-x-4",children:[1,2,3].map(m=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-sm sm:text-base ${i>=m?"bg-blue-600 text-white":"bg-gray-600 text-gray-400"}`,children:m}),m<3&&t.jsx("div",{className:`w-6 sm:w-12 h-1 mx-1 sm:mx-2 ${i>m?"bg-blue-600":"bg-gray-600"}`})]},m))}),i===1&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Personal Information"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"First Name"}),t.jsx("input",{type:"text",value:e.firstName,onChange:m=>l("firstName",m.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"John"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Last Name"}),t.jsx("input",{type:"text",value:e.lastName,onChange:m=>l("lastName",m.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"Doe"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Date of Birth"}),t.jsx("input",{type:"date",value:e.dateOfBirth,onChange:m=>l("dateOfBirth",m.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Nationality"}),t.jsx("input",{type:"text",value:e.nationality,onChange:m=>l("nationality",m.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"United States"})]})]}),t.jsx("button",{onClick:()=>n(2),disabled:!e.firstName||!e.lastName||!e.dateOfBirth||!e.nationality,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Next: Document Information"})]}),i===2&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Document Information"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Document Type"}),t.jsxs("select",{value:e.documentType,onChange:m=>l("documentType",m.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",children:[t.jsx("option",{value:"passport",children:"Passport"}),t.jsx("option",{value:"national_id",children:"National ID"}),t.jsx("option",{value:"drivers_license",children:"Driver's License"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Document Number"}),t.jsx("input",{type:"text",value:e.documentNumber,onChange:m=>l("documentNumber",m.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"123456789"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Document Front"}),t.jsx("input",{type:"file",accept:"image/*",onChange:m=>m.target.files?.[0]&&c("documentFront",m.target.files[0]),className:"w-full bg-gray-700 text-white px-4 py-2 rounded"}),e.documentFront&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:e.documentFront,alt:"Document Front",className:"w-full h-32 object-cover rounded"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Document Back"}),t.jsx("input",{type:"file",accept:"image/*",onChange:m=>m.target.files?.[0]&&c("documentBack",m.target.files[0]),className:"w-full bg-gray-700 text-white px-4 py-2 rounded"}),e.documentBack&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:e.documentBack,alt:"Document Back",className:"w-full h-32 object-cover rounded"})})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[t.jsx("button",{onClick:()=>n(1),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Back"}),t.jsx("button",{onClick:()=>n(3),disabled:!e.documentNumber||!e.documentFront||!e.documentBack,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Next: Selfie"})]})]}),i===3&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-lg font-medium text-white",children:"Selfie Verification"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Take a Selfie"}),t.jsx("input",{type:"file",accept:"image/*",onChange:m=>m.target.files?.[0]&&c("selfie",m.target.files[0]),className:"w-full bg-gray-700 text-white px-4 py-2 rounded"}),e.selfie&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:e.selfie,alt:"Selfie",className:"w-32 h-32 sm:w-48 sm:h-48 object-cover rounded mx-auto"})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[t.jsx("button",{onClick:()=>n(2),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Back"}),t.jsx("button",{onClick:()=>{console.log("Submit button clicked"),console.log("Current kycData:",e),console.log("Selfie exists:",!!e.selfie),e.selfie?d():alert("Please upload a selfie before submitting")},disabled:!e.selfie,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:e.selfie?"Submit for Review":"Upload Selfie First"})]})]})]})]})}):t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md max-h-[95vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"KYC Verification"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-4 h-4 rounded-full ${e.status==="approved"?"bg-green-500":e.status==="rejected"?"bg-red-500":e.status==="pending"?"bg-yellow-500":"bg-gray-500"}`}),t.jsxs("span",{className:`${h(e.status)}`,children:["Status: ",u(e.status)]})]}),t.jsx("p",{className:"text-gray-300 text-sm",children:"Complete KYC verification to unlock higher withdrawal limits and access to premium features."}),e.status==="rejected"&&e.rejectionReason&&t.jsx("div",{className:"bg-red-600 bg-opacity-20 border border-red-600 rounded-lg p-4",children:t.jsxs("p",{className:"text-red-400 text-sm",children:[t.jsx("strong",{children:"Rejection Reason:"})," ",e.rejectionReason]})}),e.status==="pending"&&t.jsx("div",{className:"bg-yellow-600 bg-opacity-20 border border-yellow-600 rounded-lg p-4",children:t.jsx("p",{className:"text-yellow-400 text-sm",children:"Your KYC submission is under review. This usually takes 1-3 business days."})}),e.status==="approved"&&t.jsx("div",{className:"bg-green-600 bg-opacity-20 border border-green-600 rounded-lg p-4",children:t.jsx("p",{className:"text-green-400 text-sm",children:"Your identity has been verified. You now have access to higher withdrawal limits."})}),e.status==="not_submitted"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:()=>o(!0),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Start KYC Verification"}),t.jsx("button",{onClick:()=>{console.log("Test KYC submission"),r({firstName:"Test",lastName:"User",dateOfBirth:"1990-01-01",nationality:"United States",documentType:"passport",documentNumber:"123456789",documentFront:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",documentBack:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",selfie:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",status:"not_submitted"}),o(!0),n(3)},className:"w-full bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors text-sm",children:"Test: Fill Form with Sample Data"}),t.jsx("button",{onClick:()=>{console.log("=== KYC Data Check ===");const m=localStorage.getItem("kycVerifications");if(console.log("KYC data in localStorage:",m),m){const x=JSON.parse(m);console.log("Parsed KYC data:",x),console.log("Number of KYC submissions:",x.length),alert(`Found ${x.length} KYC submissions in localStorage`)}else console.log("No KYC data found in localStorage"),alert("No KYC data found in localStorage")},className:"w-full bg-yellow-600 text-white py-2 px-4 rounded hover:bg-yellow-700 transition-colors text-sm",children:"Check KYC Data in localStorage"})]}),e.status==="rejected"&&t.jsx("button",{onClick:()=>o(!0),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Resubmit KYC"})]})]})})},wf=()=>{const[s,e]=b.useState([]),[r,i]=b.useState([]),[n,a]=b.useState("30d"),[o,l]=b.useState(!1),[c,d]=b.useState(null);b.useEffect(()=>{h()},[n]);const h=()=>{const f=JSON.parse(localStorage.getItem("ads")||"[]"),y=JSON.parse(localStorage.getItem("users")||"[]"),w=f.map(g=>({id:g.id,title:g.title,views:g.views||0,earnings:(g.views||0)*(g.reward||0),completionRate:g.completionRate||85,averageWatchTime:g.averageWatchTime||45,createdAt:g.createdAt,scheduledStart:g.scheduledStart,scheduledEnd:g.scheduledEnd})),A=y.map(g=>({id:g.id,email:g.email,totalEarnings:g.totalEarnings||0,adsWatched:g.adsWatched||0,isVIP:g.isVIP||!1,lastActive:g.lastActive||new Date().toISOString(),joinDate:g.joinDate||new Date().toISOString()}));e(w),i(A)},u=()=>{const f=s.reduce((j,C)=>j+C.views,0),y=s.reduce((j,C)=>j+C.earnings,0),w=r.length,A=r.filter(j=>j.isVIP).length,g=s.length>0?s.reduce((j,C)=>j+C.completionRate,0)/s.length:0;return{totalViews:f,totalEarnings:y,totalUsers:w,vipUsers:A,averageCompletionRate:Math.round(g)}},m=f=>{d(f),l(!0)},x=(f,y)=>{if(!c)return;const A=JSON.parse(localStorage.getItem("ads")||"[]").map(g=>g.id===c.id?{...g,scheduledStart:f,scheduledEnd:y}:g);localStorage.setItem("ads",JSON.stringify(A)),h(),l(!1),d(null)},p=u();return t.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Admin Analytics"}),t.jsx("p",{className:"text-gray-400",children:"Comprehensive platform insights and performance metrics"})]}),t.jsx("div",{className:"flex space-x-2",children:t.jsxs("select",{value:n,onChange:f=>a(f.target.value),className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-600",children:[t.jsx("option",{value:"7d",children:"Last 7 days"}),t.jsx("option",{value:"30d",children:"Last 30 days"}),t.jsx("option",{value:"90d",children:"Last 90 days"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-2",children:p.totalViews.toLocaleString()}),t.jsx("div",{className:"text-gray-400 text-sm",children:"Total Views"}),t.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+12% vs last period"})]}),t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-400 mb-2",children:[p.totalEarnings.toFixed(2)," USDT"]}),t.jsx("div",{className:"text-gray-400 text-sm",children:"Total Earnings"}),t.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+8% vs last period"})]}),t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-2",children:p.totalUsers}),t.jsx("div",{className:"text-gray-400 text-sm",children:"Total Users"}),t.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+5% vs last period"})]}),t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-2",children:p.vipUsers}),t.jsx("div",{className:"text-gray-400 text-sm",children:"VIP Users"}),t.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+15% vs last period"})]}),t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[t.jsxs("div",{className:"text-2xl font-bold text-orange-400 mb-2",children:[p.averageCompletionRate,"%"]}),t.jsx("div",{className:"text-gray-400 text-sm",children:"Avg Completion"}),t.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+3% vs last period"})]})]}),t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Ad Performance Analytics"}),t.jsx("button",{onClick:()=>window.location.href="/admin",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Manage Ads"})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"text-left py-3 px-4",children:"Ad Title"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Views"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Earnings"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Completion Rate"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Avg Watch Time"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),t.jsx("tbody",{children:s.map(f=>t.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[t.jsx("td",{className:"py-3 px-4",children:f.title}),t.jsx("td",{className:"py-3 px-4",children:f.views.toLocaleString()}),t.jsxs("td",{className:"py-3 px-4",children:[f.earnings.toFixed(2)," USDT"]}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-16 bg-gray-600 rounded-full h-2",children:t.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:`${f.completionRate}%`}})}),t.jsxs("span",{children:[f.completionRate,"%"]})]})}),t.jsxs("td",{className:"py-3 px-4",children:[f.averageWatchTime,"s"]}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs ${f.scheduledStart&&f.scheduledEnd?"bg-yellow-600 text-yellow-100":"bg-green-600 text-green-100"}`,children:f.scheduledStart&&f.scheduledEnd?"Scheduled":"Active"})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("button",{onClick:()=>m(f),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Schedule"})})]},f.id))})]})})]}),t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[t.jsx("h2",{className:"text-xl font-semibold mb-6",children:"User Analytics"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"text-left py-3 px-4",children:"User"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Total Earnings"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Ads Watched"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Last Active"}),t.jsx("th",{className:"text-left py-3 px-4",children:"Join Date"})]})}),t.jsx("tbody",{children:r.slice(0,10).map(f=>t.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[t.jsx("td",{className:"py-3 px-4",children:f.email}),t.jsxs("td",{className:"py-3 px-4",children:[f.totalEarnings.toFixed(2)," USDT"]}),t.jsx("td",{className:"py-3 px-4",children:f.adsWatched}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs ${f.isVIP?"bg-purple-600 text-purple-100":"bg-gray-600 text-gray-100"}`,children:f.isVIP?"VIP":"Standard"})}),t.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(f.lastActive).toLocaleDateString()}),t.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(f.joinDate).toLocaleDateString()})]},f.id))})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Trend"}),t.jsx("div",{className:"h-64 bg-gray-700 rounded flex items-center justify-center",children:t.jsx("p",{className:"text-gray-400",children:"Chart placeholder - Revenue over time"})})]}),t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Growth"}),t.jsx("div",{className:"h-64 bg-gray-700 rounded flex items-center justify-center",children:t.jsx("p",{className:"text-gray-400",children:"Chart placeholder - User growth over time"})})]})]})]}),o&&c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[t.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Schedule Ad: ",c.title]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Start Date & Time"}),t.jsx("input",{type:"datetime-local",className:"w-full bg-gray-700 text-white px-4 py-2 rounded",defaultValue:c.scheduledStart||""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"End Date & Time"}),t.jsx("input",{type:"datetime-local",className:"w-full bg-gray-700 text-white px-4 py-2 rounded",defaultValue:c.scheduledEnd||""})]})]}),t.jsxs("div",{className:"flex space-x-2 mt-6",children:[t.jsx("button",{onClick:()=>l(!1),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>{const f=document.querySelector('input[type="datetime-local"]:first-of-type'),y=document.querySelector('input[type="datetime-local"]:last-of-type');x(f.value,y.value)},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Save Schedule"})]})]})})]})},yf=({onBack:s})=>{const[e,r]=b.useState("faq"),[i,n]=b.useState(""),[a,o]=b.useState(null),[l,c]=b.useState({subject:"",message:"",email:"",priority:"medium"}),d=[{question:"How do I start earning USDT?",answer:"To start earning USDT, simply watch ads on our platform. Each ad you watch earns you a small amount of USDT. The more ads you watch, the more you earn. You can also earn through our referral program by inviting friends."},{question:"What is the minimum withdrawal amount?",answer:"The minimum withdrawal amount is 10 USDT. This helps us cover transaction fees and ensure efficient processing of withdrawals."},{question:"How long does it take to receive my withdrawal?",answer:"Withdrawals are typically processed within 24-48 hours. USDT withdrawals are sent to your provided wallet address once approved by our team."},{question:"How does the referral program work?",answer:"When someone signs up using your referral code, you earn a bonus for each ad they watch. You can earn up to 20% of their earnings as referral bonuses."},{question:"What are VIP tiers and how do I unlock them?",answer:"VIP tiers provide additional benefits like higher earnings per ad, exclusive rewards, and priority support. You can unlock VIP tiers by watching a certain number of ads daily and maintaining an active streak."},{question:"Is my account secure?",answer:"Yes, we implement industry-standard security measures including two-factor authentication, KYC verification, and encrypted data storage to protect your account and funds."},{question:"Can I use multiple accounts?",answer:"No, we only allow one account per person. Using multiple accounts is against our terms of service and may result in account suspension."},{question:"What cryptocurrencies do you support?",answer:"We currently support USDT (TRC20 and ERC20), Bitcoin (BTC), and Ethereum (ETH) for deposits and withdrawals."}],h=[{title:"Getting Started Guide",description:"Learn how to create an account and start earning USDT",icon:"ðŸš€",content:"Step-by-step guide to setting up your account and beginning your earning journey."},{title:"Ad Watching Tips",description:"Maximize your earnings with these proven strategies",icon:"ðŸ“º",content:"Best practices for watching ads efficiently and earning more USDT."},{title:"Referral Program Guide",description:"Learn how to earn through our referral system",icon:"ðŸ‘¥",content:"Complete guide to the referral program and how to maximize your referral earnings."},{title:"VIP Program Explained",description:"Everything you need to know about VIP tiers",icon:"ðŸ‘‘",content:"Detailed explanation of VIP tiers, benefits, and how to unlock them."},{title:"Security Best Practices",description:"Keep your account and funds safe",icon:"ðŸ”’",content:"Essential security tips to protect your account and cryptocurrency."},{title:"Withdrawal Guide",description:"How to withdraw your earnings safely",icon:"ðŸ’°",content:"Step-by-step process for withdrawing your USDT earnings to your wallet."}],u=[{name:"Email Support",description:"Get help via email",icon:fs,contact:"support@usdtrewards.com",responseTime:"Within 24 hours"},{name:"Live Chat",description:"Chat with our support team",icon:fl,contact:"Available 24/7",responseTime:"Instant"},{name:"Phone Support",description:"Call us directly",icon:pl,contact:"+1 (555) 123-4567",responseTime:"Within 2 hours"}],m=d.filter(f=>f.question.toLowerCase().includes(i.toLowerCase())||f.answer.toLowerCase().includes(i.toLowerCase())),x=f=>{f.preventDefault(),alert("Thank you for contacting us! We will get back to you within 24 hours."),c({subject:"",message:"",email:"",priority:"medium"})},p=f=>{o(a===f?null:f)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("button",{onClick:s,className:"mr-4 p-2 text-slate-400 hover:text-white transition-colors",children:t.jsx(at,{size:24})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Support & Help Center"}),t.jsx("p",{className:"text-slate-400",children:"Get help and find answers to your questions"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[t.jsx("div",{className:"bg-slate-800 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(dl,{size:24,className:"text-blue-400 mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm",children:"Support Tickets"}),t.jsx("p",{className:"text-white text-xl font-bold",children:"24/7"})]})]})}),t.jsx("div",{className:"bg-slate-800 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(hl,{size:24,className:"text-green-400 mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm",children:"Response Time"}),t.jsx("p",{className:"text-white text-xl font-bold",children:"< 24h"})]})]})}),t.jsx("div",{className:"bg-slate-800 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(ul,{size:24,className:"text-purple-400 mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm",children:"Help Articles"}),t.jsx("p",{className:"text-white text-xl font-bold",children:"50+"})]})]})})]}),t.jsx("div",{className:"bg-slate-800 rounded-lg p-1 mb-6",children:t.jsxs("div",{className:"flex",children:[t.jsx("button",{onClick:()=>r("faq"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${e==="faq"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"FAQ"}),t.jsx("button",{onClick:()=>r("guides"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${e==="guides"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Help Guides"}),t.jsx("button",{onClick:()=>r("contact"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${e==="contact"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Contact Support"})]})}),e==="faq"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx(xa,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search FAQ...",value:i,onChange:f=>n(f.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsx("div",{className:"space-y-4",children:m.map((f,y)=>t.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700",children:[t.jsxs("button",{onClick:()=>p(y),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-slate-700 transition-colors",children:[t.jsx("span",{className:"text-white font-medium",children:f.question}),a===y?t.jsx(ml,{size:20,className:"text-slate-400"}):t.jsx(xl,{size:20,className:"text-slate-400"})]}),a===y&&t.jsx("div",{className:"px-6 pb-4",children:t.jsx("p",{className:"text-slate-300",children:f.answer})})]},y))}),m.length===0&&t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-slate-400",children:"No FAQ items found matching your search."})})]}),e==="guides"&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((f,y)=>t.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700 hover:border-slate-600 transition-colors",children:[t.jsx("div",{className:"text-4xl mb-4",children:f.icon}),t.jsx("h3",{className:"text-white font-semibold mb-2",children:f.title}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:f.description}),t.jsx("p",{className:"text-slate-300 text-sm",children:f.content}),t.jsx("button",{className:"mt-4 text-blue-400 hover:text-blue-300 text-sm font-medium",children:"Read More â†’"})]},y))}),e==="contact"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Contact Methods"}),u.map((f,y)=>t.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(f.icon,{size:24,className:"text-blue-400 mr-3"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium",children:f.name}),t.jsx("p",{className:"text-slate-400 text-sm",children:f.description})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-slate-300",children:f.contact}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["Response time: ",f.responseTime]})]})]},y))]}),t.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Send us a Message"}),t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Subject"}),t.jsx("input",{type:"text",value:l.subject,onChange:f=>c({...l,subject:f.target.value}),required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"What can we help you with?"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Email"}),t.jsx("input",{type:"email",value:l.email,onChange:f=>c({...l,email:f.target.value}),required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Priority"}),t.jsxs("select",{value:l.priority,onChange:f=>c({...l,priority:f.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Message"}),t.jsx("textarea",{value:l.message,onChange:f=>c({...l,message:f.target.value}),required:!0,rows:5,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Please describe your issue in detail..."})]}),t.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Send Message"})]})]})]})]})})};function vf(){const s=Vt();return t.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-green-700 px-4 py-12",children:[t.jsxs("button",{onClick:()=>s("/"),className:"fixed top-4 left-8 flex items-center px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-full shadow text-white font-semibold hover:bg-white/20 transition z-50",children:[t.jsx(at,{className:"w-5 h-5 mr-2"}),"Go Back"]}),t.jsxs("div",{className:"max-w-3xl w-full bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 sm:p-12 flex flex-col items-center text-center",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-4 bg-gradient-to-r from-purple-400 via-green-300 to-pink-400 bg-clip-text text-transparent",children:"About AdMoney"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/80 max-w-2xl mx-auto",children:"AdMoney is building the future of decentralized earning. Our mission is to empower everyone to earn crypto effortlessly, securely, and globallyâ€”no matter your background or experience."})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Our Mission"}),t.jsx("p",{className:"text-white/80 max-w-xl mx-auto",children:"We believe in financial inclusion and the power of blockchain to create new opportunities. By connecting users with innovative earning methods, we make crypto accessible, transparent, and rewarding for all."})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Our Vision & Team"}),t.jsx("p",{className:"text-white/80 max-w-xl mx-auto mb-4",children:"Our team is a diverse group of crypto enthusiasts, engineers, and designers passionate about Web3. We are committed to building a safe, user-friendly, and rewarding platform for the next generation of digital earners."}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:[t.jsx("div",{className:"bg-white/10 border border-white/20 rounded-xl px-6 py-4 text-white/90 font-semibold shadow-lg",children:"ðŸŒ Global Team"}),t.jsx("div",{className:"bg-white/10 border border-white/20 rounded-xl px-6 py-4 text-white/90 font-semibold shadow-lg",children:"ðŸ”’ Security First"}),t.jsx("div",{className:"bg-white/10 border border-white/20 rounded-xl px-6 py-4 text-white/90 font-semibold shadow-lg",children:"ðŸš€ Web3 Innovators"})]})]})]})]})}const jf=[{icon:Ot,title:"Watch Short Ads",description:"Enjoy 25-30 second video ads covering gaming, tech, apps, and more"},{icon:ue,title:"Earn USDT Instantly",description:"Get paid immediately after watching each ad - no delays or hidden fees"},{icon:Fe,title:"Daily Streak Bonuses",description:"Unlock extra rewards for consistent daily engagement"},{icon:It,title:"Secure & Trusted",description:"Top-tier security with instant withdrawals to any USDT wallet"},{icon:ke,title:"Referral Rewards",description:"Earn passive income by referring friends to the platform"},{icon:ps,title:"Real-Time Dashboard",description:"Track your earnings with live statistics and progress monitoring"}],Nf=()=>{const s=Vt();return t.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-[#0f0c29] via-[#302b63] to-[#24243e] overflow-hidden",children:[t.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-transparent backdrop-blur-xl border-b border-white/10",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-20 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",onClick:()=>s("/"),children:[t.jsx(at,{className:"w-5 h-5"}),t.jsx("span",{children:"Back to Home"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:t.jsx(ue,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-white",children:"AdMoney"})]})]})})}),t.jsx("section",{className:"relative z-10 pt-24 pb-16 px-6 lg:px-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Platform Features"}),t.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Everything you need to start earning crypto rewards"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:jf.map((e,r)=>t.jsx("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 h-full group",children:t.jsxs("div",{className:"flex flex-col items-center text-center h-full",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:t.jsx(e.icon,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:e.title}),t.jsx("p",{className:"text-white/70 leading-relaxed flex-1",children:e.description})]})},r))})]})})]})},Oe=({children:s,user:e})=>e?t.jsx(t.Fragment,{children:s}):t.jsx(Qe,{to:"/auth",replace:!0}),Af=({children:s,user:e})=>e?e.username!=="mhamad"?t.jsx(Qe,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:s}):t.jsx(Qe,{to:"/auth",replace:!0}),Sf=()=>{console.log("AppContent: Component rendering...");const[s,e]=b.useState(null),[r,i]=b.useState(!1),[n,a]=b.useState(null),[o,l]=b.useState(!0),[c,d]=b.useState(!1),[h,u]=b.useState(!1),[m,x]=b.useState(!1),[p,f]=b.useState(!1),y=qo(),w=Vt(),g=s&&!c&&!["/auth","/reset-password","/admin/login"].includes(y.pathname),j=b.useCallback(async N=>{i(!0),a(null);try{console.log("Auth attempt:",{hasUsername:!!N.username,hasEmail:!!N.email,isSignup:!!(N.username&&N.email),userData:N});let E;if(N.username&&N.email)console.log("Attempting to create user..."),E=V.createUser({username:N.username,email:N.email,firstName:N.firstName||"",lastName:N.lastName||"",password:N.password,birthday:N.birthday,referralCode:N.referralCode,referrerId:N.referrerId}),N.country&&(E.country=N.country,V.updateUser(E)),console.log("User created successfully:",E.username);else{if(!N.username)throw new Error("Username is required for login");console.log("Attempting to authenticate user..."),E=V.authenticateUser(N.username,N.password),console.log("User authenticated successfully:",E.username)}V.setCurrentUser(E),e(E);try{console.log("Creating session for user:",E.id),await ne.createSessionWithDeviceDetection(E.id),console.log("Session created successfully for user:",E.id)}catch(_){console.error("Failed to create session in backend:",_)}E.username==="mhamad"?w("/admin"):w("/dashboard")}catch(E){console.error("Authentication failed:",E),a(E instanceof Error?E.message:"Authentication failed")}finally{i(!1)}},[w]),C=b.useCallback(async()=>{if(s)try{const E=(await ne.getUserSessions(s.id)).find(_=>_.isCurrentSession);E&&await ne.terminateSession(E.id)}catch(N){console.error("Error terminating session on logout:",N)}V.setCurrentUser(null),e(null),w("/")},[w,s]),k=b.useCallback(()=>{w("/"),a(null)},[w]),P=b.useCallback(N=>{V.updateUser(N),e(N)},[]),I=b.useCallback(N=>{switch(console.log("navigateToPage called with:",N),window.scrollTo({top:0,behavior:"auto"}),N){case"landing":w("/");break;case"auth":w("/auth");break;case"dashboard":w("/dashboard");break;case"ads":w("/ads");break;case"withdraw":w("/withdraw");break;case"profile":w("/profile");break;case"referrals":w("/referrals");break;case"admin":w("/admin");break;case"settings":w("/settings");break;case"security":w("/security");break;case"notifications":w("/notifications");break;case"vip":w("/vip");break;case"analytics":w("/analytics");break;case"support":w("/support");break;case"features":w("/features");break}},[w]),O=b.useCallback(async N=>{i(!0),a(null);try{const E=V.authenticateUser(N.username,N.password);if(E.username==="mhamad"){V.setCurrentUser(E),e(E),d(!0);try{console.log("Creating session for admin user:",E.id),await ne.createSessionWithDeviceDetection(E.id),console.log("Session created successfully for admin user:",E.id)}catch(_){console.error("Failed to create session in backend for admin:",_)}w("/admin/dashboard")}else throw new Error("Access denied. Admin privileges required.")}catch(E){console.error("Admin authentication failed:",E),a(E instanceof Error?E.message:"Authentication failed")}finally{i(!1)}},[w]),S=b.useCallback(async()=>{if(s)try{const E=(await ne.getUserSessions(s.id)).find(_=>_.isCurrentSession);E&&await ne.terminateSession(E.id)}catch(N){console.error("Error terminating session on admin logout:",N)}V.setCurrentUser(null),e(null),d(!1),w("/")},[w,s]),U=b.useCallback(N=>{w(N?`/auth?ref=${N}`:"/auth")},[w]),T=b.useCallback(()=>{w("/dashboard")},[w]);b.useEffect(()=>{const N=E=>{const{message:_,userCount:K}=E.detail;if(console.log("Data restored:",_,"Users:",K),typeof window<"u"){const Q=document.createElement("div");Q.style.cssText=`
          position: fixed;
          top: 20px;
          right: 20px;
          background: #10b981;
          color: white;
          padding: 12px 20px;
          border-radius: 8px;
          z-index: 10000;
          font-family: system-ui, -apple-system, sans-serif;
          font-size: 14px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          animation: slideIn 0.3s ease-out;
        `,Q.textContent=_,document.body.appendChild(Q),setTimeout(()=>{Q.style.animation="slideOut 0.3s ease-in",setTimeout(()=>{Q.parentNode&&Q.parentNode.removeChild(Q)},300)},5e3);const te=document.createElement("style");te.textContent=`
          @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
          }
        `,document.head.appendChild(te)}};return window.addEventListener("dataRestored",N),()=>{window.removeEventListener("dataRestored",N)}},[]);const L=b.useMemo(()=>{switch(y.pathname){case"/":return"landing";case"/auth":return"auth";case"/dashboard":return"dashboard";case"/ads":return"ads";case"/withdraw":return"withdraw";case"/profile":return"profile";case"/referrals":return"referrals";case"/settings":return"settings";case"/security":return"security";case"/notifications":return"notifications";case"/vip":return"vip";case"/analytics":return"analytics";case"/support":return"support";case"/features":return"features";default:return"landing"}},[y.pathname]);return b.useEffect(()=>{s&&s.username==="mhamad"&&y.pathname.startsWith("/admin")?d(!0):d(!1)},[y.pathname,s]),b.useEffect(()=>{(async()=>{try{console.log("App initialization started"),V.getUserCount()===0&&(V.createDefaultAdmin(),console.log("Created default admin account (first time setup)"));const E=V.getCurrentUser();if(console.log("Initialization: savedUser from getCurrentUser:",E?E.username:"null"),E){console.log("Initialization: Found saved user:",E.username,"balance:",E.balance);const _=V.validateCurrentUser();console.log("Initialization: Current user validation result:",_);const K=V.getCurrentUser();console.log("Initialization: validatedUser:",K?K.username:"null"),K?(console.log("Initialization: Setting current user:",K.username,"balance:",K.balance),e(K),V.getCurrentSession(K.id)||(console.log("Initialization: No current session found, creating one for user:",K.id),V.createSession(K.id)),y.pathname==="/"&&(K.username==="mhamad"?w("/admin"):w("/dashboard"))):(console.log("Initialization: validatedUser is null, not setting current user"),V.setCurrentUser(null))}else console.log("Initialization: No saved user found")}catch(E){if(console.error("Error initializing app:",E),V.hasBackup()){console.log("Attempting to restore from backup...");try{if(V.restoreFromBackup()&&(console.log("Successfully restored from backup"),V.getUserCount()===0&&V.createDefaultAdmin(),V.getCurrentUser())){const K=V.validateCurrentUser();console.log("Backup restore: Current user validation result:",K);const Q=V.getCurrentUser();Q&&(e(Q),V.getCurrentSession(Q.id)||(console.log("Backup restore: No current session found, creating one for user:",Q.id),V.createSession(Q.id)),y.pathname==="/"&&(Q.username==="mhamad"?w("/admin"):w("/dashboard")))}}catch(_){console.error("Failed to restore from backup:",_)}}else E instanceof Error&&(E.message.includes("storage")||E.message.includes("localStorage")||E.message.includes("JSON")||E.message.includes("Unexpected token"))?(console.log("Critical storage error detected, clearing data..."),V.clearAllData(),V.getUserCount()===0&&V.createDefaultAdmin()):console.log("Non-critical error, preserving user data")}finally{l(!1)}})()},[]),b.useEffect(()=>{if(!s)return;const N=async()=>{try{const Q=(await ne.getUserSessions(s.id)).find(te=>te.isCurrentSession);Q?await ne.updateSessionActivity(Q.id):(console.log("ðŸ“± No current session found, creating one for user:",s.id),await ne.createSessionWithDeviceDetection(s.id))}catch(K){console.error("Error updating session activity:",K)}},E=()=>{N()};N();const _=setInterval(N,300*1e3);return document.addEventListener("mousedown",E),document.addEventListener("keydown",E),document.addEventListener("scroll",E),document.addEventListener("touchstart",E),()=>{clearInterval(_),document.removeEventListener("mousedown",E),document.removeEventListener("keydown",E),document.removeEventListener("scroll",E),document.removeEventListener("touchstart",E)}},[s]),o?t.jsx("div",{className:"min-h-screen flex items-center justify-center px-3 sm:px-4",style:{background:"linear-gradient(135deg, #0f172a 0%, #581c87 50%, #0f172a 100%)",backgroundAttachment:"fixed",backgroundSize:"cover"},children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-white text-lg sm:text-xl mb-3 sm:mb-4",children:"Loading Ad money..."}),t.jsx("div",{className:"text-white/60 text-sm sm:text-base",children:"Please wait while we initialize the application"})]})}):t.jsxs("div",{className:"min-h-screen responsive-container",children:[g&&t.jsx(jl,{currentPage:L,onNavigate:I,onLogout:C,user:s}),t.jsx("main",{className:`scrollable responsive-container ${g?"pt-[72px] sm:pt-16 lg:pt-20":""}`,children:t.jsxs(Go,{children:[t.jsx(ce,{path:"/",element:t.jsx(Ix,{onAuth:U})}),t.jsx(ce,{path:"/auth",element:s?t.jsx(Qe,{to:"/dashboard",replace:!0}):t.jsx(Fx,{onAuth:j,onBack:k,onResetPassword:()=>w("/reset-password"),isLoading:r,error:n})}),t.jsx(ce,{path:"/reset-password",element:s?t.jsx(Qe,{to:"/dashboard",replace:!0}):t.jsx(Vx,{onBack:()=>w("/auth"),onSuccess:()=>w("/auth")})}),t.jsx(ce,{path:"/admin/login",element:s&&s.username==="mhamad"?t.jsx(Qe,{to:"/admin/dashboard",replace:!0}):t.jsx(xf,{onAdminLogin:O,onBack:k,isLoading:r,error:n})}),t.jsx(ce,{path:"/admin/dashboard",element:s&&s.username==="mhamad"?t.jsx(ff,{onLogout:S,onBack:k}):t.jsx(Qe,{to:"/admin/login",replace:!0})}),t.jsx(ce,{path:"/dashboard",element:t.jsx(Oe,{user:s,children:t.jsx(_x,{onNavigate:I,user:s,onUserUpdate:P})})}),t.jsx(ce,{path:"/ads",element:t.jsx(Oe,{user:s,children:t.jsx($x,{onNavigate:I,user:s,onUserUpdate:P})})}),t.jsx(ce,{path:"/withdraw",element:t.jsx(Oe,{user:s,children:t.jsx(nf,{user:s,onUserUpdate:P})})}),t.jsx(ce,{path:"/profile",element:t.jsx(Oe,{user:s,children:t.jsx(of,{user:s,onUserUpdate:P,navigate:N=>w(N)})})}),t.jsx(ce,{path:"/referrals",element:t.jsx(Oe,{user:s,children:t.jsx(lf,{onBack:T})})}),t.jsx(ce,{path:"/settings",element:t.jsx(Oe,{user:s,children:t.jsx(uf,{user:s,onUserUpdate:P,onBack:T,showSecurityAndNotifications:!0,onShowNotificationSettings:()=>u(!0),onShowTwoFactorAuth:()=>x(!0),onShowKYCVerification:()=>f(!0)})})}),t.jsx(ce,{path:"/vip",element:t.jsx(Oe,{user:s,children:t.jsx(mf,{user:s,onUserUpdate:P,onBack:T})})}),t.jsx(ce,{path:"/analytics",element:t.jsx(Af,{user:s,children:t.jsx(wf,{})})}),t.jsx(ce,{path:"/support",element:t.jsx(Oe,{user:s,children:t.jsx(yf,{onBack:T})})}),t.jsx(ce,{path:"/about",element:t.jsx(vf,{})}),t.jsx(ce,{path:"/features",element:t.jsx(Nf,{})}),t.jsx(ce,{path:"*",element:t.jsx(Qe,{to:"/",replace:!0})})]})}),h&&t.jsx(pf,{onClose:()=>u(!1)}),m&&t.jsx(gf,{onClose:()=>x(!1)}),p&&t.jsx(bf,{onClose:()=>f(!1)})]})};function Cf(){return console.log("App: Component rendering..."),b.useEffect(()=>{console.log("App: Component mounted")},[]),t.jsx(Yo,{children:t.jsx(Sf,{})})}class Ef extends b.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){return this.state.hasError?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Something went wrong"}),t.jsx("p",{className:"text-white/80 mb-6",children:"We encountered an error while loading the application. Please try refreshing the page."}),t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-400 text-black px-6 py-3 rounded-lg font-semibold hover:bg-yellow-300 transition-colors",children:"Refresh Page"}),this.state.error&&t.jsxs("details",{className:"mt-4 text-left",children:[t.jsx("summary",{className:"text-white/60 cursor-pointer",children:"Error Details"}),t.jsx("pre",{className:"text-red-400 text-xs mt-2 bg-black/20 p-2 rounded overflow-auto",children:this.state.error.toString()})]})]})}):this.props.children}}console.log("main.tsx: Starting application...");const Tr=document.getElementById("root");console.log("main.tsx: Root element found:",!!Tr);if(!Tr)console.error("main.tsx: Root element not found!");else try{const s=yl.createRoot(Tr);console.log("main.tsx: React root created successfully"),s.render(t.jsx(b.StrictMode,{children:t.jsx(Ef,{children:t.jsx(Cf,{})})})),console.log("main.tsx: App rendered successfully")}catch(s){console.error("main.tsx: Error rendering app:",s)}
