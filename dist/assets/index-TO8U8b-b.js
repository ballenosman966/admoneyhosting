import{r as p,a as Fl,R as Ol}from"./vendor-D9-mwp39.js";import{C as _l,B as us,M as $l,L as cr,H as Ql,P as qe,W as dr,U as Es,S as Wl,a as Pe,G as Xe,I as zt,A as vt,b as xe,c as ht,D as ce,d as ks,Z as hr,e as yt,f as Se,g as Ce,T as jt,h as zl,i as Qe,j as _s,k as Hl,E as dt,l as Ve,m as ut,n as ur,X as ot,o as $e,p as Vr,F as Kl,q as Yl,r as Fr,s as Sa,t as Ca,u as Gl,v as ql,w as Jl,x as Nt,y as Ci,z as Lt,J as mr,K as Xl,N as Zl,O as ec,Q as Or,R as tc,V as sc,Y as rc,_ as ic,$ as nc,a0 as ac,a1 as mt,a2 as oc,a3 as Ea,a4 as lc,a5 as Ei,a6 as ki,a7 as Ti,a8 as Di,a9 as cc,aa as $s,ab as Pi,ac as dc,ad as hc,ae as uc,af as mc,ag as xc}from"./icons-Cow5qRk7.js";import{u as Ts,H as fc,a as pc,R as gc,b as de,N as Ge}from"./router-G9MsZ5es.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var ka={exports:{}},Ds={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=p,wc=Symbol.for("react.element"),yc=Symbol.for("react.fragment"),vc=Object.prototype.hasOwnProperty,jc=bc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nc={key:!0,ref:!0,__self:!0,__source:!0};function Ta(t,e,r){var i,n={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)vc.call(e,i)&&!Nc.hasOwnProperty(i)&&(n[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:wc,type:t,key:a,ref:o,props:n,_owner:jc.current}}Ds.Fragment=yc;Ds.jsx=Ta;Ds.jsxs=Ta;ka.exports=Ds;var s=ka.exports,Da,Ri=Fl;Da=Ri.createRoot,Ri.hydrateRoot;class Ac{constructor(){this.USERS_KEY="cryptoRewardsUsers",this.CURRENT_USER_KEY="cryptoRewardsCurrentUser",this.NOTIFICATIONS_KEY="cryptoRewardsNotifications",this.BACKUP_KEY="cryptoRewardsBackup",this.SESSIONS_KEY="cryptoRewardsSessions",this.usersCache=null,this.currentUserCache=null,this.cacheTimestamp=0,this.CACHE_DURATION=1e4;try{this.migrateDataFromOldStorage()}catch(e){console.error("UserStorage constructor error:",e)}}migrateDataFromOldStorage(){try{const e=localStorage.getItem(this.USERS_KEY),r=localStorage.getItem(this.CURRENT_USER_KEY);if(e||r){const n={users:e?JSON.parse(e):[],currentUser:r?JSON.parse(r):null,timestamp:Date.now(),port:window.location.port||"3000"};sessionStorage.setItem(this.BACKUP_KEY,JSON.stringify(n)),console.log("Data backed up to sessionStorage for port persistence")}const i=sessionStorage.getItem(this.BACKUP_KEY);if(i&&(!e||!r)){const n=JSON.parse(i);n.users&&n.users.length>0&&(localStorage.setItem(this.USERS_KEY,JSON.stringify(n.users)),console.log("Users data restored from backup"),typeof window<"u"&&setTimeout(()=>{const a=new CustomEvent("dataRestored",{detail:{message:`Your data has been restored from port ${n.port||"3000"}`,userCount:n.users.length}});window.dispatchEvent(a)},1e3)),n.currentUser&&(localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(n.currentUser)),console.log("Current user data restored from backup"))}}catch(e){console.error("Error during data migration:",e)}}getUsers(){const e=Date.now();if(this.usersCache&&e-this.cacheTimestamp<this.CACHE_DURATION)return this.usersCache;try{if(typeof window>"u"||!window.localStorage)return console.warn("localStorage not available"),[];const r=localStorage.getItem(this.USERS_KEY),i=r?JSON.parse(r):[];return this.usersCache=i,this.cacheTimestamp=e,i}catch(r){return console.error("Error reading users from localStorage:",r),[]}}saveUsers(e){try{if(typeof window>"u"||!window.localStorage){console.warn("localStorage not available");return}localStorage.setItem(this.USERS_KEY,JSON.stringify(e)),this.usersCache=e,this.cacheTimestamp=Date.now(),this.backupData()}catch(r){console.error("Error saving users to localStorage:",r)}}clearCache(){this.usersCache=null,this.currentUserCache=null,this.cacheTimestamp=0}backupData(){try{const e=localStorage.getItem(this.USERS_KEY),r=localStorage.getItem(this.CURRENT_USER_KEY),i={users:e?JSON.parse(e):[],currentUser:r?JSON.parse(r):null,timestamp:Date.now(),port:window.location.port||"3000"};sessionStorage.setItem(this.BACKUP_KEY,JSON.stringify(i)),console.log(`Data backed up for port ${window.location.port||"3000"}`)}catch(e){console.error("Error backing up data:",e)}}restoreFromPortBackup(){try{const e=sessionStorage.getItem(this.BACKUP_KEY);if(!e)return console.log("No port backup found in sessionStorage"),!1;const r=JSON.parse(e);return console.log("Restoring from backup:",r),r.users&&r.users.length>0&&(localStorage.setItem(this.USERS_KEY,JSON.stringify(r.users)),console.log(`Restored ${r.users.length} users from backup`)),r.currentUser&&(localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(r.currentUser)),console.log(`Restored current user: ${r.currentUser.username} from backup`)),this.clearCache(),!0}catch(e){return console.error("Error restoring from port backup:",e),!1}}hasPortBackup(){return sessionStorage.getItem(this.BACKUP_KEY)!==null}getBackupInfo(){try{const e=sessionStorage.getItem(this.BACKUP_KEY);return e?{hasBackup:!0,backupData:JSON.parse(e)}:{hasBackup:!1}}catch(e){return console.error("Error getting backup info:",e),{hasBackup:!1}}}checkEmailExists(e){return this.getUsers().some(i=>i.email.toLowerCase()===e.toLowerCase())}checkUsernameExists(e){return this.getUsers().some(i=>i.username.toLowerCase()===e.toLowerCase())}checkReferralCodeExists(e){return!e||e.trim()===""?!1:this.getUsers().some(i=>i.referralCode&&i.referralCode.toLowerCase()===e.toLowerCase())}getUserByReferralCode(e){return!e||e.trim()===""?null:this.getUsers().find(i=>i.referralCode&&i.referralCode.toLowerCase()===e.toLowerCase())||null}checkUserIdExists(e){return this.getUsers().some(i=>i.id===e)}getUserById(e){return this.getUsers().find(i=>i.id===e)||null}getUserByEmail(e){return this.getUsers().find(i=>i.email.toLowerCase()===e.toLowerCase())||null}updateUserPasswordByEmail(e,r){const i=this.getUsers(),n=i.findIndex(a=>a.email.toLowerCase()===e.toLowerCase());if(n!==-1){i[n].password=r,this.saveUsers(i);const a=this.getCurrentUser();a&&a.email.toLowerCase()===e.toLowerCase()&&(this.currentUserCache=i[n],localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(i[n])))}else throw new Error("User not found")}createUser(e){const r=this.getUsers();if(this.checkEmailExists(e.email))throw new Error("An account with this email already exists");if(this.checkUsernameExists(e.username))throw new Error("Username already taken");let i,n=!1;if(e.referrerId){const l=this.getUserById(e.referrerId);l&&(i=l.username,n=!0)}else if(e.referralCode){const l=r.find(c=>c.referralCode===e.referralCode);l&&(i=l.username,n=!0)}r.filter(l=>l.username!=="mhamad").length;const o={id:Date.now().toString(),username:e.username,email:e.email,firstName:e.firstName,lastName:e.lastName,password:e.password,balance:0,totalEarned:0,joinDate:new Date().toISOString(),referralCode:this.generateReferralCode(),referredBy:i,referralEarnings:0,referralCount:0,referralHistory:[],displayName:e.username,bio:"",phone:"",country:e.country||"",timezone:"UTC",language:"en",birthday:e.birthday||"",theme:"dark",emailNotifications:!0,pushNotifications:!0,soundEnabled:!0,autoPlayAds:!0,showEarnings:!0,twoFactorAuth:!1,sessionTimeout:30,newAds:!0,earnings:!0,streak:!0,withdrawals:!0,referrals:!0,promotions:!0,currentStreak:0,totalAdsWatched:0,vipTier:0,vipStartDate:void 0,lastVipReward:void 0,isSubscribed:!1,subscriptionType:void 0,subscriptionStartDate:void 0,subscriptionEndDate:void 0,subscriptionStatus:void 0,subscriptionHistory:[],isEmailVerified:!0,activityLog:[]};return r.push(o),this.saveUsers(r),n&&i&&this.addReferral(i,o),this.createSession(o.id),o}authenticateUser(e,r){const n=this.getUsers().find(o=>o.username.toLowerCase()===e.toLowerCase()||o.email.toLowerCase()===e.toLowerCase());if(!n||n.password!==r)throw new Error("Invalid username/email or password");const a={...n};return this.createSession(a.id),this.setCurrentUser(a),a}getCurrentUser(){if(this.currentUserCache)return console.log("getCurrentUser: Returning from cache:",this.currentUserCache.username),this.currentUserCache;try{const e=localStorage.getItem(this.CURRENT_USER_KEY);if(console.log("getCurrentUser: Raw localStorage data:",e?"exists":"null"),!e)return console.log("getCurrentUser: No user data in localStorage"),null;const r=JSON.parse(e);console.log("getCurrentUser: Parsed user data:",r.username,"balance:",r.balance);const n=this.getUsers().find(o=>o.id===r.id);if(!n)return console.log("getCurrentUser: User not found in users array, clearing current user"),this.setCurrentUser(null),null;const a={...n};return this.currentUserCache=a,console.log("getCurrentUser: Returning latest user data:",a.username,"balance:",a.balance),a}catch(e){return console.error("Error reading current user from localStorage:",e),this.setCurrentUser(null),null}}setCurrentUser(e){try{if(e){const i=this.getUsers().find(a=>a.id===e.id);if(!i){console.log("setCurrentUser: User not found in users array, cannot set as current user");return}const n={...i};localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(n)),this.currentUserCache=n,console.log("setCurrentUser: Set current user:",n.username,"balance:",n.balance)}else localStorage.removeItem(this.CURRENT_USER_KEY),this.currentUserCache=null,console.log("setCurrentUser: Cleared current user");this.backupData()}catch(r){console.error("Error saving current user to localStorage:",r),this.currentUserCache=null}}updateUser(e){const r=this.getUsers(),i=r.findIndex(n=>n.id===e.id);if(i!==-1){r[i]=e,this.saveUsers(r);const n=this.getCurrentUser();n&&n.id===e.id&&(this.currentUserCache=e,localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(e)))}}addEarnings(e,r){const i=this.getUsers(),n=i.findIndex(l=>l.id===e);if(n===-1)throw new Error("User not found");const a=i[n];a.balance+=r,a.totalEarned+=r,a.activityLog||(a.activityLog=[]),a.activityLog.unshift({type:"ad",message:"Watched an ad and earned",amount:r,date:new Date().toISOString()}),i[n]=a,this.saveUsers(i);const o=this.getCurrentUser();return o&&o.id===e&&this.setCurrentUser(a),a}clearAllData(){try{const e=this.getUsers(),r=this.getCurrentUser(),i={users:e,currentUser:r,timestamp:new Date().toISOString()};localStorage.setItem("cryptoRewardsBackup",JSON.stringify(i)),console.log("Backup created before clearing data")}catch(e){console.error("Failed to create backup:",e)}localStorage.removeItem(this.USERS_KEY),localStorage.removeItem(this.CURRENT_USER_KEY),this.clearCache()}cleanupSubscriptionData(){const e=this.getUsers();let r=!1;e.forEach((i,n)=>{if((i.subscriptionStatus==="cancelled"||i.subscriptionStatus==="expired")&&i.subscriptionHistory&&i.subscriptionHistory.length>0&&i.subscriptionHistory.forEach(a=>{a.status==="active"&&i.subscriptionStatus&&(a.status=i.subscriptionStatus,r=!0)}),!i.isSubscribed&&i.subscriptionHistory&&i.subscriptionHistory.length>0){const a=new Date;i.subscriptionHistory.some(l=>{const c=new Date(l.endDate);return l.status==="active"&&c>a})||i.subscriptionHistory.forEach(l=>{l.status==="active"&&(l.status="cancelled",r=!0)})}}),r&&(this.saveUsers(e),this.clearCache(),console.log("Subscription data cleaned up"))}restoreFromBackup(){try{const e=localStorage.getItem("cryptoRewardsBackup");if(!e)return console.log("No backup found"),!1;const r=JSON.parse(e);return r.users&&localStorage.setItem(this.USERS_KEY,JSON.stringify(r.users)),r.currentUser&&localStorage.setItem(this.CURRENT_USER_KEY,JSON.stringify(r.currentUser)),this.clearCache(),console.log("Data restored from backup"),!0}catch(e){return console.error("Failed to restore from backup:",e),!1}}hasBackup(){return localStorage.getItem("cryptoRewardsBackup")!==null}isFirstUser(){return this.getUsers().filter(i=>i.username!=="mhamad").length===0}getUserCount(){return this.getUsers().length}createDefaultAdmin(){const e=this.getUsers();if(!e.some(i=>i.username==="mhamad")){const i={id:"admin-001",username:"mhamad",email:"admin@cryptorewards.com",firstName:"Admin",lastName:"User",password:"@@mhamad$$",balance:0,totalEarned:0,joinDate:new Date().toISOString(),referralCode:this.generateReferralCode(),referralEarnings:0,referralCount:0,referralHistory:[],displayName:"Admin",bio:"System Administrator",phone:"",country:"",timezone:"UTC",language:"en",theme:"dark",emailNotifications:!0,pushNotifications:!0,soundEnabled:!0,autoPlayAds:!0,showEarnings:!0,twoFactorAuth:!1,sessionTimeout:30,newAds:!0,earnings:!0,streak:!0,withdrawals:!0,referrals:!0,promotions:!0,currentStreak:0,totalAdsWatched:0,vipTier:void 0,vipStartDate:void 0,lastVipReward:void 0,isSubscribed:!1,subscriptionType:void 0,subscriptionStartDate:void 0,subscriptionEndDate:void 0,subscriptionStatus:void 0,subscriptionHistory:[],isEmailVerified:!0,activityLog:[]};e.push(i),this.saveUsers(e)}}generateReferralCode(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let i=0;i<8;i++)r+=e[Math.floor(Math.random()*e.length)];return r}addReferral(e,r){const i=this.getUsers(),n=i.findIndex(l=>l.id===e);if(n===-1)throw new Error("User not found");const a=i[n],o={id:Date.now().toString(),referredUsername:r.username,referredEmail:r.email,joinDate:new Date().toISOString(),earnings:0,status:"active"};a.referralHistory.push(o),a.activityLog||(a.activityLog=[]),a.activityLog.unshift({type:"referral",message:`Referred ${r.username}`,date:new Date().toISOString(),extra:{referredUser:r.username}}),i[n]=a,this.saveUsers(i)}getReferralHistory(e){const i=this.getUsers().find(n=>n.id===e);if(!i)throw new Error("User not found");return i.referralHistory}updateReferralEarnings(e,r,i){const n=this.getUsers(),a=n.findIndex(d=>d.id===e);if(a===-1)throw new Error("User not found");const o=n[a],l=o.referralHistory.findIndex(d=>d.id===r);if(l===-1)throw new Error("Referral record not found");o.referralHistory[l].earnings=i,this.saveUsers(n);const c=this.getCurrentUser();c&&c.id===e&&this.setCurrentUser(o)}markReferralInactive(e,r){const i=this.getUsers(),n=i.findIndex(c=>c.id===e);if(n===-1)throw new Error("User not found");const a=i[n],o=a.referralHistory.findIndex(c=>c.id===r);if(o===-1)throw new Error("Referral record not found");a.referralHistory[o].status="inactive",this.saveUsers(i);const l=this.getCurrentUser();l&&l.id===e&&this.setCurrentUser(a)}handleDeposit(e,r){const i=this.getUsers(),n=i.findIndex(o=>o.id===e);if(n===-1)throw new Error("User not found");const a=i[n];a.balance+=r,a.activityLog||(a.activityLog=[]),a.activityLog.unshift({type:"deposit",message:"Deposit approved",amount:r,date:new Date().toISOString()}),i[n]=a,this.saveUsers(i)}processVIPRewards(){const e=new Date().toDateString(),r=`vipRewardsProcessed_${e}`;if(sessionStorage.getItem(r))return;const i=this.getUsers();let n=!1;i.forEach(a=>{if(a.vipTier&&a.vipStartDate){if(!a.vipAdProgress||a.vipAdProgress.lastResetDate!==e){const l=this.getVIPTier(a.vipTier);l&&(a.vipAdProgress={adsWatched:0,totalAdsRequired:10,dailyReward:l.dailyReward,lastResetDate:e},n=!0)}const o=this.getCurrentUser();o&&o.id===a.id&&this.setCurrentUser(a)}}),n&&(this.saveUsers(i),sessionStorage.setItem(r,"true"))}getVIPTier(e){return[{id:1,name:"VIP 1",dailyReward:.6},{id:2,name:"VIP 2",dailyReward:2.16},{id:3,name:"VIP 3",dailyReward:5.16},{id:4,name:"VIP 4",dailyReward:7.16},{id:5,name:"VIP 5",dailyReward:11.19},{id:6,name:"VIP 6",dailyReward:21.22},{id:7,name:"VIP 7",dailyReward:47.52}].find(i=>i.id===e)||null}processVIPAdReward(e){const r=this.getUsers(),i=r.findIndex(d=>d.id===e);if(i===-1||!r[i].vipTier||!r[i].vipAdProgress)return null;const n=r[i],a=new Date().toDateString();if(!n.vipAdProgress){const d=this.getVIPTier(n.vipTier);if(d)n.vipAdProgress={adsWatched:0,totalAdsRequired:10,dailyReward:d.dailyReward,lastResetDate:a};else return null}if(n.vipAdProgress.lastResetDate!==a){const d=this.getVIPTier(n.vipTier);d&&(n.vipAdProgress={adsWatched:0,totalAdsRequired:10,dailyReward:d.dailyReward,lastResetDate:a})}const o=n.vipAdProgress.dailyReward/10;n.vipAdProgress.adsWatched+=1;const l=n.vipAdProgress.adsWatched>=n.vipAdProgress.totalAdsRequired;n.balance+=o,n.totalEarned+=o,l&&(n.lastVipReward=new Date().toISOString()),this.saveUsers(r);const c=this.getCurrentUser();return c&&c.id===e&&this.setCurrentUser(n),{reward:o,isComplete:l,progress:n.vipAdProgress.adsWatched}}getAllUsers(){const e=this.getUsers();let r=!1;return e.forEach(i=>{(!i.referralCode||i.referralCode.trim()==="")&&(i.referralCode=this.generateReferralCode(),r=!0)}),r&&this.saveUsers(e),e}resetUserAccount(e){const r=this.getUsers(),i=r.findIndex(a=>a.username===e);if(i===-1)throw new Error(`User with username '${e}' not found`);r[i]={...r[i],balance:0,totalEarned:0,referralEarnings:0,referralCount:0,referralHistory:[],currentStreak:0,totalAdsWatched:0,vipTier:void 0,vipStartDate:void 0,lastVipReward:void 0,id:r[i].id,username:r[i].username,email:r[i].email,password:r[i].password,joinDate:r[i].joinDate,referralCode:r[i].referralCode,referredBy:r[i].referredBy,isSubscribed:!1,subscriptionType:void 0,subscriptionStartDate:void 0,subscriptionEndDate:void 0,subscriptionStatus:void 0,subscriptionHistory:[],isEmailVerified:!0,activityLog:[]},this.saveUsers(r);const n=this.getCurrentUser();n&&n.username===e&&this.setCurrentUser(r[i])}resetEarningsAndStats(){const e=this.getUsers();let r=!1;if(e.forEach(i=>{i.totalEarned=i.balance,i.totalAdsWatched=0,i.currentStreak=0,r=!0}),r){this.saveUsers(e);const i=this.getCurrentUser();if(i){const n=e.find(a=>a.id===i.id);n&&this.setCurrentUser(n)}}}addBalanceToUser(e,r){const i=this.getUsers(),n=i.findIndex(o=>o.username===e);if(n===-1)throw new Error(`User with username '${e}' not found`);i[n].balance+=r,i[n].totalEarned+=r,this.saveUsers(i);const a=this.getCurrentUser();a&&a.username===e&&this.setCurrentUser(i[n])}addSubscription(e,r){const i=this.getUsers(),n=i.findIndex(h=>h.id===e);if(n===-1)throw new Error("User not found");const a=i[n];if(r.paymentMethod==="wallet_balance"){if(a.balance<r.amount)throw new Error("Insufficient balance for subscription");a.balance-=r.amount}const o=new Date().toISOString(),l=new Date(Date.now()+r.duration*24*60*60*1e3).toISOString(),c={id:`sub_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:r.type,startDate:o,endDate:l,status:"active",amount:r.amount,paymentMethod:r.paymentMethod,transactionId:r.transactionId,notes:r.notes};a.isSubscribed=!0,a.subscriptionType=r.type,a.subscriptionStartDate=o,a.subscriptionEndDate=l,a.subscriptionStatus="active",a.subscriptionHistory||(a.subscriptionHistory=[]),a.subscriptionHistory.push(c),r.type==="vip"&&(a.vipTier=r.vipTierId||1,a.vipStartDate=o),i[n]=a,this.saveUsers(i);const d=this.getCurrentUser();return d&&d.id===e&&this.setCurrentUser(a),a.activityLog||(a.activityLog=[]),a.activityLog.unshift({type:"vip",message:`Purchased VIP (${r.type})`,amount:r.amount,date:new Date().toISOString(),extra:{duration:r.duration,paymentMethod:r.paymentMethod}}),this.saveUsers(i),a}cancelSubscription(e,r){const i=this.getUsers(),n=i.findIndex(c=>c.id===e);if(n===-1)throw new Error("User not found");const a=i[n];if(!this.hasActiveSubscription(e))throw new Error("User has no active subscription to cancel");if(a.subscriptionStatus="cancelled",a.isSubscribed=!1,a.subscriptionType==="vip"&&(a.vipTier=void 0,a.vipStartDate=void 0,a.lastVipReward=void 0,a.vipAdProgress=void 0),a.subscriptionHistory&&a.subscriptionHistory.length>0){const c=new Date;let d=0;if(a.subscriptionHistory.forEach(h=>{const m=new Date(h.endDate);h.status==="active"&&m>c&&(h.status="cancelled",r&&(h.notes=(h.notes||"")+` | Cancelled: ${r}`),d++)}),d===0&&a.subscriptionHistory.length>0){const h=a.subscriptionHistory[a.subscriptionHistory.length-1];h.status="cancelled",r&&(h.notes=(h.notes||"")+` | Cancelled: ${r}`)}}i[n]=a,this.saveUsers(i),this.clearCache();const l=this.getCurrentUser();return l&&l.id===e&&this.setCurrentUser(a),a}renewSubscription(e,r){return this.cancelSubscription(e,"Renewed"),this.addSubscription(e,r)}hasActiveSubscription(e){const r=this.getUserById(e);if(!r)return!1;if(r.isSubscribed&&r.subscriptionEndDate){const i=new Date;if(new Date(r.subscriptionEndDate)>i&&r.subscriptionStatus==="active")return!0}if(r.subscriptionHistory&&r.subscriptionHistory.length>0){const i=new Date;if(r.subscriptionHistory.find(a=>{const o=new Date(a.endDate);return a.status==="active"&&o>i}))return!0}return!1}getActiveSubscriptionInfo(e){const r=this.getUserById(e);if(!r||!r.isSubscribed||!r.subscriptionEndDate)return null;const i=new Date,n=new Date(r.subscriptionEndDate);if(n<=i||r.subscriptionStatus!=="active")return null;const a=Math.ceil((n.getTime()-i.getTime())/(1e3*60*60*24));return{type:r.subscriptionType||"unknown",endDate:r.subscriptionEndDate,daysRemaining:a,tierName:r.vipTier?`VIP ${r.vipTier}`:void 0}}getSubscriptionStats(){const r=this.getUsers().filter(a=>a.subscriptionHistory&&a.subscriptionHistory.length>0),i={totalSubscribers:r.length,activeSubscriptions:0,expiredSubscriptions:0,cancelledSubscriptions:0,revenueByType:{basic:0,premium:0,vip:0},recentSubscriptions:[]},n=new Date;return r.forEach(a=>{a.subscriptionHistory&&a.subscriptionHistory.forEach(o=>{o.status==="active"?new Date(o.endDate)>n?i.activeSubscriptions++:i.expiredSubscriptions++:o.status==="cancelled"&&i.cancelledSubscriptions++,i.revenueByType[o.type]+=o.amount;const l=new Date(o.startDate),c=new Date(n.getTime()-30*24*60*60*1e3);l>=c&&i.recentSubscriptions.push(o)})}),i.recentSubscriptions.sort((a,o)=>new Date(o.startDate).getTime()-new Date(a.startDate).getTime()),i}getSubscriptionsByDateRange(e,r){const i=this.getUsers(),n=[];return i.forEach(a=>{a.subscriptionHistory&&a.subscriptionHistory.forEach(o=>{const l=new Date(o.startDate);l>=e&&l<=r&&n.push({...o,username:a.username,email:a.email})})}),n.sort((a,o)=>new Date(o.startDate).getTime()-new Date(a.startDate).getTime())}checkExpiredSubscriptions(){const e=this.getUsers(),r=new Date;let i=!1;e.forEach((n,a)=>{if(n.isSubscribed&&n.subscriptionEndDate&&new Date(n.subscriptionEndDate)<r&&n.subscriptionStatus==="active"){if(e[a].subscriptionStatus="expired",e[a].isSubscribed=!1,e[a].subscriptionHistory&&e[a].subscriptionHistory.length>0){const l=e[a].subscriptionHistory[e[a].subscriptionHistory.length-1];l.status="expired"}i=!0}e[a].subscriptionHistory&&e[a].subscriptionHistory.length>0&&e[a].subscriptionHistory.forEach(o=>{new Date(o.endDate)<r&&o.status==="active"&&(o.status="expired",i=!0)})}),i&&(this.saveUsers(e),this.clearCache())}markEmailVerified(e){const r=this.getUsers(),i=r.findIndex(n=>n.id===e);if(i!==-1){r[i].isEmailVerified=!0,this.saveUsers(r);const n=this.getCurrentUser();n&&n.id===e&&this.setCurrentUser(r[i])}}setWithdrawPasscode(e,r){const i=this.getUsers(),n=i.findIndex(a=>a.id===e);if(n!==-1){i[n].withdrawPasscode=r,this.saveUsers(i);const a=this.getCurrentUser();a&&a.id===e&&this.setCurrentUser(i[n])}}checkWithdrawPasscode(e,r){return this.getUsers().find(n=>n.id===e)?.withdrawPasscode===r}resetAllBalances(){const e=this.getUsers();e.forEach(r=>{r.balance=0,r.totalEarned=0}),this.saveUsers(e),this.clearCache()}syncUserData(e){const i=this.getUsers().find(n=>n.id===e);if(i){const n=this.getCurrentUser();n&&n.id===e&&(this.setCurrentUser(i),console.log("syncUserData: Updated current user with latest data:",i.username,"balance:",i.balance))}}validateCurrentUser(){const e=this.getCurrentUser();if(!e)return console.log("validateCurrentUser: No current user found"),!1;const i=this.getUsers().find(a=>a.id===e.id);return i?e.balance===i.balance&&e.totalEarned===i.totalEarned&&e.vipTier===i.vipTier?(console.log("validateCurrentUser: Current user data is valid and consistent"),!0):(console.log("validateCurrentUser: Data inconsistent, updating current user"),this.setCurrentUser(i),!1):(console.log("validateCurrentUser: Current user not found in users array, clearing"),this.setCurrentUser(null),!1)}getUserNotifications(e){try{const r=localStorage.getItem(this.NOTIFICATIONS_KEY);return r?JSON.parse(r).filter(n=>n.userId===e):[]}catch(r){return console.error("Error reading notifications from localStorage:",r),[]}}addNotification(e,r){try{const i=localStorage.getItem(this.NOTIFICATIONS_KEY),n=i?JSON.parse(i):[],a={...r,id:`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e,timestamp:new Date().toISOString(),read:!1};n.push(a),localStorage.setItem(this.NOTIFICATIONS_KEY,JSON.stringify(n))}catch(i){console.error("Error adding notification to localStorage:",i)}}markNotificationAsRead(e){try{const r=localStorage.getItem(this.NOTIFICATIONS_KEY);if(!r)return;const n=JSON.parse(r).map(a=>a.id===e?{...a,read:!0}:a);localStorage.setItem(this.NOTIFICATIONS_KEY,JSON.stringify(n))}catch(r){console.error("Error marking notification as read:",r)}}markAllNotificationsAsRead(e){try{const r=localStorage.getItem(this.NOTIFICATIONS_KEY);if(!r)return;const n=JSON.parse(r).map(a=>a.userId===e?{...a,read:!0}:a);localStorage.setItem(this.NOTIFICATIONS_KEY,JSON.stringify(n))}catch(r){console.error("Error marking all notifications as read:",r)}}addWithdrawalApprovalNotification(e,r,i){const n=i?`Your withdrawal request for ${r} USDT has been approved and completed. Transaction hash: ${i}`:`Your withdrawal request for ${r} USDT has been approved and is being processed.`;this.addNotification(e,{type:"withdrawal",title:"Withdrawal Approved! 💰",message:n});const a=this.getUsers(),o=a.findIndex(l=>l.id===e);if(o!==-1){const l=a[o];l.activityLog||(l.activityLog=[]),l.activityLog.unshift({type:"withdrawal",message:"Withdrawal approved",amount:r,date:new Date().toISOString(),extra:{transactionHash:i}}),a[o]=l,this.saveUsers(a)}}addWithdrawalRejectionNotification(e,r,i){const n=i?`Your withdrawal request for ${r} USDT has been rejected. Reason: ${i}`:`Your withdrawal request for ${r} USDT has been rejected.`;this.addNotification(e,{type:"warning",title:"Withdrawal Rejected",message:n})}createTestBallenUser(){console.warn("createTestBallenUser is disabled - demo accounts not allowed in production")}ensureBallenUser(){console.warn("ensureBallenUser is disabled - demo accounts not allowed in production")}getSessions(){try{const e=localStorage.getItem(this.SESSIONS_KEY);console.log("🔧 Reading sessions from localStorage key:",this.SESSIONS_KEY),console.log("🔧 Raw sessions data:",e);const r=e?JSON.parse(e):[];return console.log("🔧 Parsed sessions:",r),r}catch(e){return console.error("Error reading sessions from localStorage:",e),[]}}saveSessions(e){try{localStorage.setItem(this.SESSIONS_KEY,JSON.stringify(e))}catch(r){console.error("Error saving sessions to localStorage:",r)}}createSession(e){console.log("🔧 Creating session for user:",e),console.log("🔧 User Agent:",navigator.userAgent);const r=this.getSessions();console.log("🔧 Existing sessions:",r.length);const i=r.find(c=>c.userId===e&&c.isCurrentSession&&c.userAgent===navigator.userAgent);if(i)return console.log("🔧 Updating existing session:",i.id),i.lastActive=new Date().toISOString(),this.saveSessions(r),i;r.forEach(c=>{c.userId===e&&(c.isCurrentSession=!1)});const n=navigator.userAgent,a=this.detectDeviceInfo(n);console.log("🔧 Device info detected:",a);const o=this.getIPInfo();console.log("🔧 IP info:",o);const l={id:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e,deviceName:a.deviceName,deviceType:a.deviceType,browser:a.browser,os:a.os,ipAddress:o.ip,location:o.location,lastActive:new Date().toISOString(),isCurrentSession:!0,userAgent:n,loginTime:new Date().toISOString()};return console.log("🔧 New session created:",l),r.push(l),this.saveSessions(r),console.log("🔧 Total sessions after creation:",r.length),this.updateSessionWithIP(l.id),l}getUserSessions(e){const r=this.getSessions(),i=r.filter(n=>n.userId===e);return console.log("🔧 Getting sessions for user:",e),console.log("🔧 Found sessions:",i.length),console.log("🔧 All sessions in storage:",r),i}updateSessionActivity(e){const r=this.getSessions(),i=r.findIndex(n=>n.id===e);i!==-1&&(r[i].lastActive=new Date().toISOString(),this.saveSessions(r))}terminateSession(e){const i=this.getSessions().filter(n=>n.id!==e);this.saveSessions(i)}terminateAllOtherSessions(e){const i=this.getSessions().find(a=>a.userId===e&&a.isCurrentSession),n=i?[i]:[];this.saveSessions(n)}terminateAllSessions(e){const i=this.getSessions().filter(n=>n.userId!==e);this.saveSessions(i)}cleanupOldSessions(){const e=this.getSessions(),r=new Date;r.setDate(r.getDate()-30);const i=e.filter(n=>new Date(n.lastActive)>r);i.length!==e.length&&this.saveSessions(i)}removeDuplicateSessions(e){const r=this.getSessions(),i=r.filter(c=>c.userId===e),n={};i.forEach(c=>{n[c.userAgent]||(n[c.userAgent]=[]),n[c.userAgent].push(c)});const a=[];Object.values(n).forEach(c=>{c.length>1&&c.sort((d,h)=>new Date(h.lastActive).getTime()-new Date(d.lastActive).getTime()),a.push(c[0])});const l=[...r.filter(c=>c.userId!==e),...a];this.saveSessions(l)}getCurrentSession(e){return this.getSessions().find(i=>i.userId===e&&i.isCurrentSession)||null}detectDeviceInfo(e){const r=e.toLowerCase();let i="desktop",n="Desktop Computer";const a=r.includes("mobile")||r.includes("android")||r.includes("iphone")||r.includes("ipod")||r.includes("blackberry")||r.includes("windows phone")||/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(r),o=r.includes("tablet")||r.includes("ipad")&&!r.includes("mobile")||r.includes("playbook")||r.includes("kindle");a&&!o?(i="mobile",n="Mobile Device"):o&&(i="tablet",n="Tablet Device");let l="Unknown Browser";r.includes("chrome")?l=r.includes("mobile")?"Chrome Mobile":"Chrome":r.includes("firefox")?l=r.includes("mobile")?"Firefox Mobile":"Firefox":r.includes("safari")&&!r.includes("chrome")?l=r.includes("mobile")?"Safari Mobile":"Safari":r.includes("edge")?l=r.includes("mobile")?"Edge Mobile":"Edge":r.includes("opera")?l=r.includes("mobile")?"Opera Mobile":"Opera":r.includes("samsung")&&(l="Samsung Internet");let c="Unknown OS";return r.includes("windows")?c=r.includes("phone")?"Windows Phone":"Windows":r.includes("mac os")?c=r.includes("iphone")||r.includes("ipad")?"iOS":"macOS":r.includes("linux")?c="Linux":r.includes("android")?c="Android":r.includes("ios")||r.includes("iphone")||r.includes("ipad")?c="iOS":r.includes("blackberry")&&(c="BlackBerry OS"),r.includes("iphone")?(n="iPhone",i="mobile"):r.includes("ipad")?(n="iPad",i="tablet"):r.includes("android")?r.includes("samsung")?n="Samsung Device":r.includes("huawei")?n="Huawei Device":r.includes("xiaomi")?n="Xiaomi Device":r.includes("oneplus")?n="OnePlus Device":r.includes("google")?n="Google Device":n="Android Device":r.includes("blackberry")&&(n="BlackBerry",i="mobile"),{deviceName:n,deviceType:i,browser:l,os:c}}getIPInfo(){const e=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("192.168."),r=window.location.hostname,i=window.location.port;return e?{ip:`${r}:${i} (Local)`,location:"Local Development"}:{ip:"Detecting...",location:"Unknown"}}async updateSessionWithIP(e){try{const i=await(await fetch("https://api.ipify.org?format=json")).json(),n=this.getSessions(),a=n.findIndex(o=>o.id===e);a!==-1&&(n[a].ipAddress=i.ip,n[a].location="Detected via API",this.saveSessions(n))}catch{try{const i=await this.getLocalNetworkIP(),n=this.getSessions(),a=n.findIndex(o=>o.id===e);a!==-1&&(n[a].ipAddress=i||"Local Network",n[a].location="Local Network",this.saveSessions(n))}catch{const n=this.getSessions(),a=n.findIndex(o=>o.id===e);a!==-1&&(n[a].ipAddress="Unknown IP",n[a].location="Location unavailable",this.saveSessions(n))}}}async getLocalNetworkIP(){try{const e=new RTCPeerConnection({iceServers:[]});e.createDataChannel("");const r=await e.createOffer();return await e.setLocalDescription(r),new Promise(i=>{e.onicecandidate=n=>{if(n.candidate){const a=n.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3})/);if(a){const o=a[1];if(o.startsWith("192.168.")||o.startsWith("10.")||o.startsWith("172.")){i(o);return}}}i(null)},setTimeout(()=>i(null),1e3)})}catch{return null}}formatRelativeTime(e){const r=new Date,i=new Date(e),n=Math.floor((r.getTime()-i.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:n<2592e3?`${Math.floor(n/86400)}d ago`:i.toLocaleDateString()}}const B=new Ac,Sc=({currentPage:t,onNavigate:e,onLogout:r,user:i})=>{const[n,a]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[h,m]=p.useState([]),u=p.useRef(null),f=p.useRef(null),w=p.useRef(null),[x,g]=p.useState(!1),b=[{id:"dashboard",label:"Dashboard",icon:Ql},{id:"ads",label:"Ads",icon:qe},{id:"withdraw",label:"Wallet",icon:dr},{id:"profile",label:"Profile",icon:Es},{id:"settings",label:"Settings",icon:Wl},{id:"vip",label:"VIP",icon:Pe}];i.username==="mhamad"&&console.log("Admin user navItems:",b),p.useEffect(()=>{const A=()=>{const E=B.getUserNotifications(i.id);m(E)};A();const D=setInterval(A,5e3);return()=>clearInterval(D)},[i.id]),p.useEffect(()=>{const A=D=>{u.current&&!u.current.contains(D.target)&&a(!1),f.current&&!f.current.contains(D.target)&&l(!1),w.current&&!w.current.contains(D.target)&&d(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const S=h.filter(A=>!A.read).length,j=A=>{B.markNotificationAsRead(A),m(D=>D.map(E=>E.id===A?{...E,read:!0}:E))},k=()=>{B.markAllNotificationsAsRead(i.id),m(A=>A.map(D=>({...D,read:!0})))},C=A=>{switch(A){case"success":return s.jsx(xe,{className:"w-5 h-5 text-green-400"});case"warning":return s.jsx(vt,{className:"w-5 h-5 text-yellow-400"});case"info":return s.jsx(zt,{className:"w-5 h-5 text-blue-400"});case"reward":return s.jsx(Xe,{className:"w-5 h-5 text-purple-400"});case"withdrawal":return s.jsx(dr,{className:"w-5 h-5 text-green-400"});default:return s.jsx(us,{className:"w-5 h-5 text-gray-400"})}},y=A=>{switch(A){case"success":return"border-green-500/20 bg-green-500/10";case"warning":return"border-yellow-500/20 bg-yellow-500/10";case"info":return"border-blue-500/20 bg-blue-500/10";case"reward":return"border-purple-500/20 bg-purple-500/10";case"withdrawal":return"border-green-500/20 bg-green-500/10";default:return"border-gray-500/20 bg-gray-500/10"}},N=A=>{const D=new Date(A),V=(new Date().getTime()-D.getTime())/(1e3*60*60);return V<1?"Just now":V<24?`${Math.floor(V)}h ago`:`${Math.floor(V/24)}d ago`};return t==="admin"?null:s.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 w-full max-w-full px-3 sm:px-4 bg-transparent mt-6",style:{background:"transparent"},children:[s.jsx("div",{className:"max-w-full sm:max-w-7xl mx-auto px-0 sm:px-4 bg-transparent",style:{background:"transparent"},children:s.jsxs("div",{className:"flex items-center justify-between h-16 min-w-0 w-full px-4",style:{background:"rgba(255, 255, 255, 0.15)",borderRadius:"16px",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.2)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.20)"},children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center",children:s.jsx(_l,{className:"w-6 h-6 text-white"})}),s.jsx("span",{className:"text-white font-bold text-lg text-responsive",children:"Ad money"})]}),s.jsx("nav",{className:"hidden xl:flex flex-1 justify-center items-center",children:s.jsx("div",{className:"flex space-x-2",children:b.map(({id:A,label:D,icon:E})=>s.jsxs("button",{onClick:()=>e(A),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 font-bold text-base whitespace-nowrap min-w-[44px] min-h-[44px] text-responsive ${t===A?"text-yellow-400 bg-white/10":"text-white/90 hover:text-yellow-300 hover:bg-white/5"}`,children:[s.jsx(E,{className:"w-5 h-5"}),s.jsx("span",{children:D})]},A))})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"hidden sm:block text-yellow-400 font-semibold text-base px-2",children:["$",i.balance.toFixed(2)," ",s.jsx("span",{className:"text-white/70 font-normal",children:"USDT"})]}),s.jsxs("div",{className:"relative",ref:f,children:[s.jsxs("button",{onClick:()=>l(!o),className:"relative flex items-center justify-center w-8 h-8 rounded-lg bg-white/10 hover:bg-white/20 transition-all duration-200",children:[s.jsx(us,{className:"w-4 h-4 text-white"}),S>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:S>9?"9+":S})]}),o&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-xl border border-white/20 shadow-xl backdrop-blur-sm z-50",children:[s.jsx("div",{className:"p-4 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-white font-semibold text-sm",children:"Notifications"}),S>0&&s.jsx("button",{onClick:k,className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"Mark all as read"})]})}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:h.length===0?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(us,{className:"w-8 h-8 text-white/40 mx-auto mb-2"}),s.jsx("p",{className:"text-white/60 text-sm",children:"No notifications yet"})]}):s.jsxs("div",{className:"p-2",children:[h.map(A=>s.jsx("div",{className:`p-3 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-white/5 ${A.read?"opacity-60":""} ${y(A.type)}`,onClick:()=>j(A.id),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[C(A.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h4",{className:"text-white font-medium text-sm",children:A.title}),!A.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full ml-2 flex-shrink-0"})]}),s.jsx("p",{className:"text-white/70 text-xs mt-1 line-clamp-2",children:A.message}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:N(A.timestamp)})]})]})},A.id)),h.length>3&&s.jsx("div",{className:"p-4 text-center",children:s.jsxs("p",{className:"text-white/60 text-sm",children:["Scroll to see all ",h.length," notifications"]})})]})})]})]}),s.jsxs("div",{className:"xl:hidden relative",ref:w,children:[s.jsx("button",{onClick:()=>d(!c),className:"flex items-center justify-center w-8 h-8 rounded-md transition-all duration-200 hover:bg-white/20",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:s.jsx($l,{className:"w-4 h-4 text-white"})}),c&&s.jsx("div",{className:"absolute right-0 mt-2 w-64 lg:w-56 sm:w-48 rounded-xl z-50 overflow-hidden",style:{background:"linear-gradient(135deg, rgba(88, 28, 135, 0.95) 0%, rgba(147, 51, 234, 0.9) 100%)",backdropFilter:"blur(50px)",WebkitBackdropFilter:"blur(50px)",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:s.jsxs("div",{className:"p-2 space-y-1",children:[b.map(({id:A,label:D,icon:E})=>s.jsxs("button",{onClick:()=>{e(A),d(!1)},className:`w-full flex items-center space-x-3 lg:space-x-2 px-4 py-4 lg:px-3 lg:py-3 sm:px-2 sm:py-2 rounded-lg transition-all duration-300 font-medium text-base lg:text-sm sm:text-xs ${t===A?"text-yellow-400":"text-white/90 hover:text-white"}`,style:{background:t===A?"linear-gradient(135deg, rgba(255, 193, 7, 0.4) 0%, rgba(255, 152, 0, 0.3) 100%)":"rgba(88, 28, 135, 0.8)",border:t===A?"1px solid rgba(255, 193, 7, 0.6)":"1px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(20px)"},onMouseEnter:V=>{t!==A&&(V.currentTarget.style.background="linear-gradient(135deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.03) 100%)",V.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.15)")},onMouseLeave:V=>{t!==A&&(V.currentTarget.style.background="rgba(88, 28, 135, 0.8)",V.currentTarget.style.border="1px solid rgba(255, 255, 255, 0.2)")},children:[s.jsx("div",{className:`w-10 h-10 lg:w-8 lg:h-8 sm:w-6 sm:h-6 rounded-md flex items-center justify-center transition-all duration-300 ${t===A?"bg-yellow-400/15":"bg-white/08"}`,style:{backdropFilter:"blur(10px)"},children:s.jsx(E,{className:`w-5 h-5 lg:w-4 lg:h-4 sm:w-3 sm:h-3 ${t===A?"text-yellow-400":"text-white/80"}`})}),s.jsx("span",{className:"font-medium",children:D})]},A)),s.jsx("div",{className:"pt-2 border-t border-white/15",children:s.jsxs("button",{onClick:()=>{d(!1),g(!0)},className:"w-full flex items-center space-x-3 lg:space-x-2 px-4 py-4 lg:px-3 lg:py-3 sm:px-2 sm:py-2 rounded-lg transition-all duration-300 font-medium text-base lg:text-sm sm:text-xs text-red-200",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.4) 0%, rgba(220, 38, 38, 0.3) 100%)",border:"1px solid rgba(239, 68, 68, 0.5)",backdropFilter:"blur(20px)"},onMouseEnter:A=>{A.currentTarget.style.background="linear-gradient(135deg, rgba(239, 68, 68, 0.25) 0%, rgba(220, 38, 38, 0.15) 100%)",A.currentTarget.style.border="1px solid rgba(239, 68, 68, 0.3)"},onMouseLeave:A=>{A.currentTarget.style.background="linear-gradient(135deg, rgba(239, 68, 68, 0.4) 0%, rgba(220, 38, 38, 0.3) 100%)",A.currentTarget.style.border="1px solid rgba(239, 68, 68, 0.5)"},children:[s.jsx("div",{className:"w-10 h-10 lg:w-8 lg:h-8 sm:w-6 sm:h-6 rounded-md flex items-center justify-center bg-red-500/15",style:{backdropFilter:"blur(10px)"},children:s.jsx(cr,{className:"w-5 h-5 lg:w-4 lg:h-4 sm:w-3 sm:h-3 text-red-300"})}),s.jsx("span",{className:"font-medium",children:"Logout"})]})})]})})]}),s.jsxs("button",{onClick:()=>g(!0),className:"hidden xl:flex items-center justify-center gap-2 px-5 py-2 rounded-xl bg-red-500/80 text-white font-bold text-lg shadow hover:bg-red-600 transition-colors border border-red-500/30",style:{minWidth:"120px"},children:[s.jsx(cr,{className:"w-5 h-5"}),s.jsx("span",{children:"Logout"})]})]})]})}),x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"glass-card border border-white/20 rounded-2xl p-8 max-w-sm w-full shadow-2xl backdrop-blur-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Confirm Logout"}),s.jsx("p",{className:"text-white/80 mb-6",children:"Are you sure you want to log out?"}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-4 rounded-xl shadow hover:bg-white/10 transition",onClick:()=>g(!1),children:"Cancel"}),s.jsx("button",{className:"glass-card border border-red-500/30 bg-red-500/20 text-red-300 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-500/40 hover:text-white transition",onClick:()=>{g(!1),r()},children:"Logout"})]})]})})]})},_r=p.createContext({});function Et(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const $r=typeof window<"u",Ps=$r?p.useLayoutEffect:p.useEffect,Rs=p.createContext(null);function Qr(t,e){t.indexOf(e)===-1&&t.push(e)}function Wr(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Fe=(t,e,r)=>r>e?e:r<t?t:r;let At=()=>{};const We={},Pa=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ra(t){return typeof t=="object"&&t!==null}const Ba=t=>/^0[^.\s]+$/u.test(t);function zr(t){let e;return()=>(e===void 0&&(e=t()),e)}const ge=t=>t,Cc=(t,e)=>r=>e(t(r)),Xt=(...t)=>t.reduce(Cc),St=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i};class Hr{constructor(){this.subscriptions=[]}add(e){return Qr(this.subscriptions,e),()=>Wr(this.subscriptions,e)}notify(e,r,i){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,r,i);else for(let a=0;a<n;a++){const o=this.subscriptions[a];o&&o(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ie=t=>t*1e3,Ue=t=>t/1e3;function Kr(t,e){return e?t*(1e3/e):0}const Ma=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Ec=1e-7,kc=12;function Tc(t,e,r,i,n){let a,o,l=0;do o=e+(r-e)/2,a=Ma(o,i,n)-t,a>0?r=o:e=o;while(Math.abs(a)>Ec&&++l<kc);return o}function Zt(t,e,r,i){if(t===e&&r===i)return ge;const n=a=>Tc(a,0,1,t,r);return a=>a===0||a===1?a:Ma(n(a),e,i)}const Ia=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ua=t=>e=>1-t(1-e),La=Zt(.33,1.53,.69,.99),Yr=Ua(La),Va=Ia(Yr),Fa=t=>(t*=2)<1?.5*Yr(t):.5*(2-Math.pow(2,-10*(t-1))),Gr=t=>1-Math.sin(Math.acos(t)),Oa=Ua(Gr),_a=Ia(Gr),Dc=Zt(.42,0,1,1),Pc=Zt(0,0,.58,1),$a=Zt(.42,0,.58,1),Rc=t=>Array.isArray(t)&&typeof t[0]!="number",Qa=t=>Array.isArray(t)&&typeof t[0]=="number",Bi={linear:ge,easeIn:Dc,easeInOut:$a,easeOut:Pc,circIn:Gr,circInOut:_a,circOut:Oa,backIn:Yr,backInOut:Va,backOut:La,anticipate:Fa},Bc=t=>typeof t=="string",Mi=t=>{if(Qa(t)){At(t.length===4);const[e,r,i,n]=t;return Zt(e,r,i,n)}else if(Bc(t))return At(Bi[t]!==void 0),Bi[t];return t},rs=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ii={value:null,addProjectionMetrics:null};function Mc(t,e){let r=new Set,i=new Set,n=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(m){o.has(m)&&(h.schedule(m),t()),c++,m(l)}const h={schedule:(m,u=!1,f=!1)=>{const x=f&&n?r:i;return u&&o.add(m),x.has(m)||x.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(l=m,n){a=!0;return}n=!0,[r,i]=[i,r],r.forEach(d),e&&Ii.value&&Ii.value.frameloop[e].push(c),c=0,r.clear(),n=!1,a&&(a=!1,h.process(m))}};return h}const Ic=40;function Wa(t,e){let r=!1,i=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=rs.reduce((j,k)=>(j[k]=Mc(a,e?k:void 0),j),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:u,render:f,postRender:w}=o,x=()=>{const j=We.useManualTiming?n.timestamp:performance.now();r=!1,We.useManualTiming||(n.delta=i?1e3/60:Math.max(Math.min(j-n.timestamp,Ic),1)),n.timestamp=j,n.isProcessing=!0,l.process(n),c.process(n),d.process(n),h.process(n),m.process(n),u.process(n),f.process(n),w.process(n),n.isProcessing=!1,r&&e&&(i=!1,t(x))},g=()=>{r=!0,i=!0,n.isProcessing||t(x)};return{schedule:rs.reduce((j,k)=>{const C=o[k];return j[k]=(y,N=!1,A=!1)=>(r||g(),C.schedule(y,N,A)),j},{}),cancel:j=>{for(let k=0;k<rs.length;k++)o[rs[k]].cancel(j)},state:n,steps:o}}const{schedule:J,cancel:Re,state:ae,steps:Qs}=Wa(typeof requestAnimationFrame<"u"?requestAnimationFrame:ge,!0);let ms;function Uc(){ms=void 0}const pe={now:()=>(ms===void 0&&pe.set(ae.isProcessing||We.useManualTiming?ae.timestamp:performance.now()),ms),set:t=>{ms=t,queueMicrotask(Uc)}},za=t=>e=>typeof e=="string"&&e.startsWith(t),qr=za("--"),Lc=za("var(--"),Jr=t=>Lc(t)?Vc.test(t.split("/*")[0].trim()):!1,Vc=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ht={...kt,transform:t=>Fe(0,1,t)},is={...kt,default:1},Vt=t=>Math.round(t*1e5)/1e5,Xr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Fc(t){return t==null}const Oc=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zr=(t,e)=>r=>!!(typeof r=="string"&&Oc.test(r)&&r.startsWith(t)||e&&!Fc(r)&&Object.prototype.hasOwnProperty.call(r,e)),Ha=(t,e,r)=>i=>{if(typeof i!="string")return i;const[n,a,o,l]=i.match(Xr);return{[t]:parseFloat(n),[e]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_c=t=>Fe(0,255,t),Ws={...kt,transform:t=>Math.round(_c(t))},nt={test:Zr("rgb","red"),parse:Ha("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Ws.transform(t)+", "+Ws.transform(e)+", "+Ws.transform(r)+", "+Vt(Ht.transform(i))+")"};function $c(t){let e="",r="",i="",n="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),n=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),n=t.substring(4,5),e+=e,r+=r,i+=i,n+=n),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}}const xr={test:Zr("#"),parse:$c,transform:nt.transform},es=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ye=es("deg"),Le=es("%"),K=es("px"),Qc=es("vh"),Wc=es("vw"),Ui={...Le,parse:t=>Le.parse(t)/100,transform:t=>Le.transform(t*100)},xt={test:Zr("hsl","hue"),parse:Ha("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+Le.transform(Vt(e))+", "+Le.transform(Vt(r))+", "+Vt(Ht.transform(i))+")"},ne={test:t=>nt.test(t)||xr.test(t)||xt.test(t),parse:t=>nt.test(t)?nt.parse(t):xt.test(t)?xt.parse(t):xr.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?nt.transform(t):xt.transform(t),getAnimatableNone:t=>{const e=ne.parse(t);return e.alpha=0,ne.transform(e)}},zc=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Hc(t){return isNaN(t)&&typeof t=="string"&&(t.match(Xr)?.length||0)+(t.match(zc)?.length||0)>0}const Ka="number",Ya="color",Kc="var",Yc="var(",Li="${}",Gc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kt(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},n=[];let a=0;const l=e.replace(Gc,c=>(ne.test(c)?(i.color.push(a),n.push(Ya),r.push(ne.parse(c))):c.startsWith(Yc)?(i.var.push(a),n.push(Kc),r.push(c)):(i.number.push(a),n.push(Ka),r.push(parseFloat(c))),++a,Li)).split(Li);return{values:r,split:l,indexes:i,types:n}}function Ga(t){return Kt(t).values}function qa(t){const{split:e,types:r}=Kt(t),i=e.length;return n=>{let a="";for(let o=0;o<i;o++)if(a+=e[o],n[o]!==void 0){const l=r[o];l===Ka?a+=Vt(n[o]):l===Ya?a+=ne.transform(n[o]):a+=n[o]}return a}}const qc=t=>typeof t=="number"?0:ne.test(t)?ne.getAnimatableNone(t):t;function Jc(t){const e=Ga(t);return qa(t)(e.map(qc))}const Je={test:Hc,parse:Ga,createTransformer:qa,getAnimatableNone:Jc};function zs(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Xc({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let n=0,a=0,o=0;if(!e)n=a=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;n=zs(c,l,t+1/3),a=zs(c,l,t),o=zs(c,l,t-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function vs(t,e){return r=>r>0?e:t}const ee=(t,e,r)=>t+(e-t)*r,Hs=(t,e,r)=>{const i=t*t,n=r*(e*e-i)+i;return n<0?0:Math.sqrt(n)},Zc=[xr,nt,xt],ed=t=>Zc.find(e=>e.test(t));function Vi(t){const e=ed(t);if(!e)return!1;let r=e.parse(t);return e===xt&&(r=Xc(r)),r}const Fi=(t,e)=>{const r=Vi(t),i=Vi(e);if(!r||!i)return vs(t,e);const n={...r};return a=>(n.red=Hs(r.red,i.red,a),n.green=Hs(r.green,i.green,a),n.blue=Hs(r.blue,i.blue,a),n.alpha=ee(r.alpha,i.alpha,a),nt.transform(n))},fr=new Set(["none","hidden"]);function td(t,e){return fr.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function sd(t,e){return r=>ee(t,e,r)}function ei(t){return typeof t=="number"?sd:typeof t=="string"?Jr(t)?vs:ne.test(t)?Fi:nd:Array.isArray(t)?Ja:typeof t=="object"?ne.test(t)?Fi:rd:vs}function Ja(t,e){const r=[...t],i=r.length,n=t.map((a,o)=>ei(a)(a,e[o]));return a=>{for(let o=0;o<i;o++)r[o]=n[o](a);return r}}function rd(t,e){const r={...t,...e},i={};for(const n in r)t[n]!==void 0&&e[n]!==void 0&&(i[n]=ei(t[n])(t[n],e[n]));return n=>{for(const a in i)r[a]=i[a](n);return r}}function id(t,e){const r=[],i={color:0,var:0,number:0};for(let n=0;n<e.values.length;n++){const a=e.types[n],o=t.indexes[a][i[a]],l=t.values[o]??0;r[n]=l,i[a]++}return r}const nd=(t,e)=>{const r=Je.createTransformer(e),i=Kt(t),n=Kt(e);return i.indexes.var.length===n.indexes.var.length&&i.indexes.color.length===n.indexes.color.length&&i.indexes.number.length>=n.indexes.number.length?fr.has(t)&&!n.values.length||fr.has(e)&&!i.values.length?td(t,e):Xt(Ja(id(i,n),n.values),r):vs(t,e)};function Xa(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?ee(t,e,r):ei(t)(t,e)}const ad=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>J.update(e,r),stop:()=>Re(e),now:()=>ae.isProcessing?ae.timestamp:pe.now()}},Za=(t,e,r=10)=>{let i="";const n=Math.max(Math.round(e/r),2);for(let a=0;a<n;a++)i+=Math.round(t(a/(n-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},js=2e4;function ti(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<js;)e+=r,i=t.next(e);return e>=js?1/0:e}function od(t,e=100,r){const i=r({...t,keyframes:[0,e]}),n=Math.min(ti(i),js);return{type:"keyframes",ease:a=>i.next(n*a).value/e,duration:Ue(n)}}const ld=5;function eo(t,e,r){const i=Math.max(e-ld,0);return Kr(r-t(i),e-i)}const se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ks=.001;function cd({duration:t=se.duration,bounce:e=se.bounce,velocity:r=se.velocity,mass:i=se.mass}){let n,a,o=1-e;o=Fe(se.minDamping,se.maxDamping,o),t=Fe(se.minDuration,se.maxDuration,Ue(t)),o<1?(n=d=>{const h=d*o,m=h*t,u=h-r,f=pr(d,o),w=Math.exp(-m);return Ks-u/f*w},a=d=>{const m=d*o*t,u=m*r+r,f=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-m),x=pr(Math.pow(d,2),o);return(-n(d)+Ks>0?-1:1)*((u-f)*w)/x}):(n=d=>{const h=Math.exp(-d*t),m=(d-r)*t+1;return-Ks+h*m},a=d=>{const h=Math.exp(-d*t),m=(r-d)*(t*t);return h*m});const l=5/t,c=hd(n,a,l);if(t=Ie(t),isNaN(c))return{stiffness:se.stiffness,damping:se.damping,duration:t};{const d=Math.pow(c,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:t}}}const dd=12;function hd(t,e,r){let i=r;for(let n=1;n<dd;n++)i=i-t(i)/e(i);return i}function pr(t,e){return t*Math.sqrt(1-e*e)}const ud=["duration","bounce"],md=["stiffness","damping","mass"];function Oi(t,e){return e.some(r=>t[r]!==void 0)}function xd(t){let e={velocity:se.velocity,stiffness:se.stiffness,damping:se.damping,mass:se.mass,isResolvedFromDuration:!1,...t};if(!Oi(t,md)&&Oi(t,ud))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),n=i*i,a=2*Fe(.05,1,1-(t.bounce||0))*Math.sqrt(n);e={...e,mass:se.mass,stiffness:n,damping:a}}else{const r=cd(t);e={...e,...r,mass:se.mass},e.isResolvedFromDuration=!0}return e}function Ns(t=se.visualDuration,e=se.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:n}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:h,duration:m,velocity:u,isResolvedFromDuration:f}=xd({...r,velocity:-Ue(r.velocity||0)}),w=u||0,x=d/(2*Math.sqrt(c*h)),g=o-a,b=Ue(Math.sqrt(c/h)),S=Math.abs(g)<5;i||(i=S?se.restSpeed.granular:se.restSpeed.default),n||(n=S?se.restDelta.granular:se.restDelta.default);let j;if(x<1){const C=pr(b,x);j=y=>{const N=Math.exp(-x*b*y);return o-N*((w+x*b*g)/C*Math.sin(C*y)+g*Math.cos(C*y))}}else if(x===1)j=C=>o-Math.exp(-b*C)*(g+(w+b*g)*C);else{const C=b*Math.sqrt(x*x-1);j=y=>{const N=Math.exp(-x*b*y),A=Math.min(C*y,300);return o-N*((w+x*b*g)*Math.sinh(A)+C*g*Math.cosh(A))/C}}const k={calculatedDuration:f&&m||null,next:C=>{const y=j(C);if(f)l.done=C>=m;else{let N=C===0?w:0;x<1&&(N=C===0?Ie(w):eo(j,C,y));const A=Math.abs(N)<=i,D=Math.abs(o-y)<=n;l.done=A&&D}return l.value=l.done?o:y,l},toString:()=>{const C=Math.min(ti(k),js),y=Za(N=>k.next(C*N).value,C,30);return C+"ms "+y},toTransition:()=>{}};return k}Ns.applyToOptions=t=>{const e=od(t,100,Ns);return t.ease=e.ease,t.duration=Ie(e.duration),t.type="keyframes",t};function gr({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=t[0],u={done:!1,value:m},f=A=>l!==void 0&&A<l||c!==void 0&&A>c,w=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let x=r*e;const g=m+x,b=o===void 0?g:o(g);b!==g&&(x=b-m);const S=A=>-x*Math.exp(-A/i),j=A=>b+S(A),k=A=>{const D=S(A),E=j(A);u.done=Math.abs(D)<=d,u.value=u.done?b:E};let C,y;const N=A=>{f(u.value)&&(C=A,y=Ns({keyframes:[u.value,w(u.value)],velocity:eo(j,A,u.value),damping:n,stiffness:a,restDelta:d,restSpeed:h}))};return N(0),{calculatedDuration:null,next:A=>{let D=!1;return!y&&C===void 0&&(D=!0,k(A),N(A)),C!==void 0&&A>=C?y.next(A-C):(!D&&k(A),u)}}}function fd(t,e,r){const i=[],n=r||We.mix||Xa,a=t.length-1;for(let o=0;o<a;o++){let l=n(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ge:e;l=Xt(c,l)}i.push(l)}return i}function si(t,e,{clamp:r=!0,ease:i,mixer:n}={}){const a=t.length;if(At(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=fd(e,i,n),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const u=St(t[m],t[m+1],h);return l[m](u)};return r?h=>d(Fe(t[0],t[a-1],h)):d}function pd(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const n=St(0,e,i);t.push(ee(r,1,n))}}function to(t){const e=[0];return pd(e,t.length-1),e}function gd(t,e){return t.map(r=>r*e)}function bd(t,e){return t.map(()=>e||$a).splice(0,t.length-1)}function Ft({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const n=Rc(i)?i.map(Mi):Mi(i),a={done:!1,value:e[0]},o=gd(r&&r.length===e.length?r:to(e),t),l=si(o,e,{ease:Array.isArray(n)?n:bd(e,n)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const wd=t=>t!==null;function ri(t,{repeat:e,repeatType:r="loop"},i,n=1){const a=t.filter(wd),l=n<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!l||i===void 0?a[l]:i}const yd={decay:gr,inertia:gr,tween:Ft,keyframes:Ft,spring:Ns};function so(t){typeof t.type=="string"&&(t.type=yd[t.type])}class ii{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const vd=t=>t/100;class ni extends ii{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==pe.now()&&this.tick(pe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;so(e);const{type:r=Ft,repeat:i=0,repeatDelay:n=0,repeatType:a,velocity:o=0}=e;let{keyframes:l}=e;const c=r||Ft;c!==Ft&&typeof l[0]!="number"&&(this.mixKeyframes=Xt(vd,Xa(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=ti(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+n,this.totalDuration=this.resolvedDuration*(i+1)-n,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:i,totalDuration:n,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:u,repeatDelay:f,type:w,onUpdate:x,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?b<0:b>n;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let j=this.currentTime,k=i;if(m){const A=Math.min(this.currentTime,n)/l;let D=Math.floor(A),E=A%1;!E&&A>=1&&(E=1),E===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(u==="reverse"?(E=1-E,f&&(E-=f/l)):u==="mirror"&&(k=o)),j=Fe(0,1,E)*l}const C=S?{done:!1,value:h[0]}:k.next(j);a&&(C.value=a(C.value));let{done:y}=C;!S&&c!==null&&(y=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&y);return N&&w!==gr&&(C.value=ri(h,this.options,g,this.speed)),x&&x(C.value),N&&this.finish(),C}then(e,r){return this.finished.then(e,r)}get duration(){return Ue(this.calculatedDuration)}get time(){return Ue(this.currentTime)}set time(e){e=Ie(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pe.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ue(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ad,startTime:r}=this.options;this.driver||(this.driver=e(n=>this.tick(n))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function jd(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const at=t=>t*180/Math.PI,br=t=>{const e=at(Math.atan2(t[1],t[0]));return wr(e)},Nd={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:br,rotateZ:br,skewX:t=>at(Math.atan(t[1])),skewY:t=>at(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},wr=t=>(t=t%360,t<0&&(t+=360),t),_i=br,$i=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Qi=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ad={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$i,scaleY:Qi,scale:t=>($i(t)+Qi(t))/2,rotateX:t=>wr(at(Math.atan2(t[6],t[5]))),rotateY:t=>wr(at(Math.atan2(-t[2],t[0]))),rotateZ:_i,rotate:_i,skewX:t=>at(Math.atan(t[4])),skewY:t=>at(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yr(t){return t.includes("scale")?1:0}function vr(t,e){if(!t||t==="none")return yr(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,n;if(r)i=Ad,n=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Nd,n=l}if(!n)return yr(e);const a=i[e],o=n[1].split(",").map(Cd);return typeof a=="function"?a(o):o[a]}const Sd=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return vr(r,e)};function Cd(t){return parseFloat(t.trim())}const Tt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dt=new Set(Tt),Wi=t=>t===kt||t===K,Ed=new Set(["x","y","z"]),kd=Tt.filter(t=>!Ed.has(t));function Td(t){const e=[];return kd.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const lt={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vr(e,"x"),y:(t,{transform:e})=>vr(e,"y")};lt.translateX=lt.x;lt.translateY=lt.y;const ct=new Set;let jr=!1,Nr=!1,Ar=!1;function ro(){if(Nr){const t=Array.from(ct).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const n=Td(i);n.length&&(r.set(i,n),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const n=r.get(i);n&&n.forEach(([a,o])=>{i.getValue(a)?.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Nr=!1,jr=!1,ct.forEach(t=>t.complete(Ar)),ct.clear()}function io(){ct.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Nr=!0)})}function Dd(){Ar=!0,io(),ro(),Ar=!1}class ai{constructor(e,r,i,n,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=n,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ct.add(this),jr||(jr=!0,J.read(io),J.resolveKeyframes(ro))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:n}=this;if(e[0]===null){const a=n?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&r){const l=i.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),n&&a===void 0&&n.set(e[0])}jd(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ct.delete(this)}cancel(){this.state==="scheduled"&&(ct.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pd=t=>t.startsWith("--");function Rd(t,e,r){Pd(e)?t.style.setProperty(e,r):t.style[e]=r}const no=zr(()=>window.ScrollTimeline!==void 0),Bd={};function Md(t,e){const r=zr(t);return()=>Bd[e]??r()}const ao=Md(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ut=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,zi={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ut([0,.65,.55,1]),circOut:Ut([.55,0,1,.45]),backIn:Ut([.31,.01,.66,-.59]),backOut:Ut([.33,1.53,.69,.99])};function oo(t,e){if(t)return typeof t=="function"?ao()?Za(t,e):"ease-out":Qa(t)?Ut(t):Array.isArray(t)?t.map(r=>oo(r,e)||zi.easeOut):zi[t]}function Id(t,e,r,{delay:i=0,duration:n=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:r};c&&(h.offset=c);const m=oo(l,n);Array.isArray(m)&&(h.easing=m);const u={delay:i,duration:n,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(u.pseudoElement=d),t.animate(h,u)}function lo(t){return typeof t=="function"&&"applyToOptions"in t}function Ud({type:t,...e}){return lo(t)&&ao()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ld extends ii{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:i,keyframes:n,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,At(typeof e.type!="string");const d=Ud(e);this.animation=Id(r,i,n,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=ri(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Rd(r,i,h),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ue(Number(e))}get time(){return Ue(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ie(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&no()?(this.animation.timeline=e,ge):r(this)}}const co={anticipate:Fa,backInOut:Va,circInOut:_a};function Vd(t){return t in co}function Fd(t){typeof t.ease=="string"&&Vd(t.ease)&&(t.ease=co[t.ease])}const Hi=10;class Od extends Ld{constructor(e){Fd(e),so(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:i,onComplete:n,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new ni({...o,autoplay:!1}),c=Ie(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-Hi).value,l.sample(c).value,Hi),l.stop()}}const Ki=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Je.test(t)||t==="0")&&!t.startsWith("url("));function _d(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function $d(t,e,r,i){const n=t[0];if(n===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=Ki(n,e),l=Ki(a,e);return!o||!l?!1:_d(t)||(r==="spring"||lo(r))&&i}const Qd=new Set(["opacity","clipPath","filter","transform"]),Wd=zr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zd(t){const{motionValue:e,name:r,repeatDelay:i,repeatType:n,damping:a,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Wd()&&r&&Qd.has(r)&&(r!=="transform"||!d)&&!c&&!i&&n!=="mirror"&&a!==0&&o!=="inertia"}const Hd=40;class Kd extends ii{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=pe.now();const u={autoplay:e,delay:r,type:i,repeat:n,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:h,...m},f=h?.KeyframeResolver||ai;this.keyframeResolver=new f(l,(w,x,g)=>this.onKeyframesResolved(w,x,u,!g),c,d,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,i,n){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=i;this.resolvedAt=pe.now(),$d(e,a,o,l)||((We.instantAnimations||!c)&&h?.(ri(e,i,r)),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const u={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>Hd?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:e},f=!d&&zd(u)?new Od({...u,element:u.motionValue.owner.current}):new ni(u);f.finished.then(()=>this.notifyFinished()).catch(ge),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Dd()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Yd=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gd(t){const e=Yd.exec(t);if(!e)return[,];const[,r,i,n]=e;return[`--${r??i}`,n]}function ho(t,e,r=1){const[i,n]=Gd(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const o=a.trim();return Pa(o)?parseFloat(o):o}return Jr(n)?ho(n,e,r+1):n}function oi(t,e){return t?.[e]??t?.default??t}const uo=new Set(["width","height","top","left","right","bottom",...Tt]),qd={test:t=>t==="auto",parse:t=>t},mo=t=>e=>e.test(t),xo=[kt,K,Le,Ye,Wc,Qc,qd],Yi=t=>xo.find(mo(t));function Jd(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ba(t):!0}const Xd=new Set(["brightness","contrast","saturate","opacity"]);function Zd(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(Xr)||[];if(!i)return t;const n=r.replace(i,"");let a=Xd.has(e)?1:0;return i!==r&&(a*=100),e+"("+a+n+")"}const eh=/\b([a-z-]*)\(.*?\)/gu,Sr={...Je,getAnimatableNone:t=>{const e=t.match(eh);return e?e.map(Zd).join(" "):t}},Gi={...kt,transform:Math.round},th={rotate:Ye,rotateX:Ye,rotateY:Ye,rotateZ:Ye,scale:is,scaleX:is,scaleY:is,scaleZ:is,skew:Ye,skewX:Ye,skewY:Ye,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:Ht,originX:Ui,originY:Ui,originZ:K},li={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,backgroundPositionX:K,backgroundPositionY:K,...th,zIndex:Gi,fillOpacity:Ht,strokeOpacity:Ht,numOctaves:Gi},sh={...li,color:ne,backgroundColor:ne,outlineColor:ne,fill:ne,stroke:ne,borderColor:ne,borderTopColor:ne,borderRightColor:ne,borderBottomColor:ne,borderLeftColor:ne,filter:Sr,WebkitFilter:Sr},fo=t=>sh[t];function po(t,e){let r=fo(t);return r!==Sr&&(r=Je),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const rh=new Set(["auto","none","0"]);function ih(t,e,r){let i=0,n;for(;i<t.length&&!n;){const a=t[i];typeof a=="string"&&!rh.has(a)&&Kt(a).values.length&&(n=t[i]),i++}if(n&&r)for(const a of e)t[a]=po(r,n)}class nh extends ai{constructor(e,r,i,n,a){super(e,r,i,n,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Jr(d))){const h=ho(d,r.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!uo.has(i)||e.length!==2)return;const[n,a]=e,o=Yi(n),l=Yi(a);if(o!==l)if(Wi(o)&&Wi(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else lt[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let n=0;n<e.length;n++)(e[n]===null||Jd(e[n]))&&i.push(n);i.length&&ih(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lt[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const n=r[r.length-1];n!==void 0&&e.getValue(i,n).jump(n,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const n=e.getValue(r);n&&n.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=lt[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function go(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const n=document.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const bo=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ci(t){return Ra(t)&&"offsetHeight"in t}const qi=30,ah=t=>!isNaN(parseFloat(t)),Ot={current:void 0};class oh{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,n=!0)=>{const a=pe.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();n&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=pe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ah(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Hr);const i=this.events[e].add(r);return e==="change"?()=>{i(),J.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Ot.current&&Ot.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=pe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qi)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,qi);return Kr(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Te(t,e){return new oh(t,e)}const{schedule:di,cancel:g0}=Wa(queueMicrotask,!1),Ee={x:!1,y:!1};function wo(){return Ee.x||Ee.y}function lh(t){return t==="x"||t==="y"?Ee[t]?null:(Ee[t]=!0,()=>{Ee[t]=!1}):Ee.x||Ee.y?null:(Ee.x=Ee.y=!0,()=>{Ee.x=Ee.y=!1})}function yo(t,e){const r=go(t),i=new AbortController,n={passive:!0,...e,signal:i.signal};return[r,n,()=>i.abort()]}function Ji(t){return!(t.pointerType==="touch"||wo())}function ch(t,e,r={}){const[i,n,a]=yo(t,r),o=l=>{if(!Ji(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=m=>{Ji(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,n)};return i.forEach(l=>{l.addEventListener("pointerenter",o,n)}),a}const vo=(t,e)=>e?t===e?!0:vo(t,e.parentElement):!1,hi=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dh=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hh(t){return dh.has(t.tagName)||t.tabIndex!==-1}const xs=new WeakSet;function Xi(t){return e=>{e.key==="Enter"&&t(e)}}function Ys(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uh=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=Xi(()=>{if(xs.has(r))return;Ys(r,"down");const n=Xi(()=>{Ys(r,"up")}),a=()=>Ys(r,"cancel");r.addEventListener("keyup",n,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function Zi(t){return hi(t)&&!wo()}function mh(t,e,r={}){const[i,n,a]=yo(t,r),o=l=>{const c=l.currentTarget;if(!Zi(l))return;xs.add(c);const d=e(c,l),h=(f,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",u),xs.has(c)&&xs.delete(c),Zi(f)&&typeof d=="function"&&d(f,{success:w})},m=f=>{h(f,c===window||c===document||r.useGlobalTarget||vo(c,f.target))},u=f=>{h(f,!1)};window.addEventListener("pointerup",m,n),window.addEventListener("pointercancel",u,n)};return i.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),ci(l)&&(l.addEventListener("focus",d=>uh(d,n)),!hh(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function ui(t){return Ra(t)&&"ownerSVGElement"in t}const fs=new WeakMap;let ps;const jo=(t,e,r)=>(i,n)=>n&&n[0]?n[0][t+"Size"]:ui(i)&&"getBBox"in i?i.getBBox()[e]:i[r],xh=jo("inline","width","offsetWidth"),fh=jo("block","height","offsetHeight");function ph({target:t,borderBoxSize:e}){fs.get(t)?.forEach(r=>{r(t,{get width(){return xh(t,e)},get height(){return fh(t,e)}})})}function gh(t){t.forEach(ph)}function bh(){typeof ResizeObserver>"u"||(ps=new ResizeObserver(gh))}function wh(t,e){ps||bh();const r=go(t);return r.forEach(i=>{let n=fs.get(i);n||(n=new Set,fs.set(i,n)),n.add(e),ps?.observe(i)}),()=>{r.forEach(i=>{const n=fs.get(i);n?.delete(e),n?.size||ps?.unobserve(i)})}}const gs=new Set;let ft;function yh(){ft=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};gs.forEach(e=>e(t))},window.addEventListener("resize",ft)}function vh(t){return gs.add(t),ft||yh(),()=>{gs.delete(t),!gs.size&&typeof ft=="function"&&(window.removeEventListener("resize",ft),ft=void 0)}}function jh(t,e){return typeof t=="function"?vh(t):wh(t,e)}function No(t,e){let r;const i=()=>{const{currentTime:n}=e,o=(n===null?0:n.value)/100;r!==o&&t(o),r=o};return J.preUpdate(i,!0),()=>Re(i)}function Nh(t){return ui(t)&&t.tagName==="svg"}function Ah(...t){const e=!Array.isArray(t[0]),r=e?0:-1,i=t[0+r],n=t[1+r],a=t[2+r],o=t[3+r],l=si(n,a,o);return e?l(i):l}const he=t=>!!(t&&t.getVelocity),Sh=[...xo,ne,Je],Ch=t=>Sh.find(mo(t)),Bs=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Eh extends p.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=r.offsetParent,n=ci(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kh({children:t,isPresent:e,anchorX:r,root:i}){const n=p.useId(),a=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(Bs);return p.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:m,right:u}=o.current;if(e||!a.current||!c||!d)return;const f=r==="left"?`left: ${m}`:`right: ${u}`;a.current.dataset.motionPopId=n;const w=document.createElement("style");l&&(w.nonce=l);const x=i??document.head;return x.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${f}px !important;
            top: ${h}px !important;
          }
        `),()=>{x.removeChild(w),x.contains(w)&&x.removeChild(w)}},[e]),s.jsx(Eh,{isPresent:e,childRef:a,sizeRef:o,children:p.cloneElement(t,{ref:a})})}const Th=({children:t,initial:e,isPresent:r,onExitComplete:i,custom:n,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const d=Et(Dh),h=p.useId();let m=!0,u=p.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:r,custom:n,onExitComplete:f=>{d.set(f,!0);for(const w of d.values())if(!w)return;i&&i()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[r,d,i]);return a&&m&&(u={...u}),p.useMemo(()=>{d.forEach((f,w)=>d.set(w,!1))},[r]),p.useEffect(()=>{!r&&!d.size&&i&&i()},[r]),o==="popLayout"&&(t=s.jsx(kh,{isPresent:r,anchorX:l,root:c,children:t})),s.jsx(Rs.Provider,{value:u,children:t})};function Dh(){return new Map}function Ao(t=!0){const e=p.useContext(Rs);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:n}=e,a=p.useId();p.useEffect(()=>{if(t)return n(a)},[t]);const o=p.useCallback(()=>t&&i&&i(a),[a,i,t]);return!r&&i?[!1,o]:[!0]}const ns=t=>t.key||"";function en(t){const e=[];return p.Children.forEach(t,r=>{p.isValidElement(r)&&e.push(r)}),e}const Ph=({children:t,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:n=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,h]=Ao(o),m=p.useMemo(()=>en(t),[t]),u=o&&!d?[]:m.map(ns),f=p.useRef(!0),w=p.useRef(m),x=Et(()=>new Map),[g,b]=p.useState(m),[S,j]=p.useState(m);Ps(()=>{f.current=!1,w.current=m;for(let y=0;y<S.length;y++){const N=ns(S[y]);u.includes(N)?x.delete(N):x.get(N)!==!0&&x.set(N,!1)}},[S,u.length,u.join("-")]);const k=[];if(m!==g){let y=[...m];for(let N=0;N<S.length;N++){const A=S[N],D=ns(A);u.includes(D)||(y.splice(N,0,A),k.push(A))}return a==="wait"&&k.length&&(y=k),j(en(y)),b(m),null}const{forceRender:C}=p.useContext(_r);return s.jsx(s.Fragment,{children:S.map(y=>{const N=ns(y),A=o&&!d?!1:m===S||u.includes(N),D=()=>{if(x.has(N))x.set(N,!0);else return;let E=!0;x.forEach(V=>{V||(E=!1)}),E&&(C?.(),j(w.current),o&&h?.(),i&&i())};return s.jsx(Th,{isPresent:A,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:n,mode:a,root:c,onExitComplete:A?void 0:D,anchorX:l,children:y},N)})})},So=p.createContext({strict:!1}),tn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ct={};for(const t in tn)Ct[t]={isEnabled:e=>tn[t].some(r=>!!e[r])};function Rh(t){for(const e in t)Ct[e]={...Ct[e],...t[e]}}const Bh=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function As(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Bh.has(t)}let Co=t=>!As(t);function Mh(t){typeof t=="function"&&(Co=e=>e.startsWith("on")?!As(e):t(e))}try{Mh(require("@emotion/is-prop-valid").default)}catch{}function Ih(t,e,r){const i={};for(const n in t)n==="values"&&typeof t.values=="object"||(Co(n)||r===!0&&As(n)||!e&&!As(n)||t.draggable&&n.startsWith("onDrag"))&&(i[n]=t[n]);return i}const Ms=p.createContext({});function Is(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yt(t){return typeof t=="string"||Array.isArray(t)}const mi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xi=["initial",...mi];function Us(t){return Is(t.animate)||xi.some(e=>Yt(t[e]))}function Eo(t){return!!(Us(t)||t.variants)}function Uh(t,e){if(Us(t)){const{initial:r,animate:i}=t;return{initial:r===!1||Yt(r)?r:void 0,animate:Yt(i)?i:void 0}}return t.inherit!==!1?e:{}}function Lh(t){const{initial:e,animate:r}=Uh(t,p.useContext(Ms));return p.useMemo(()=>({initial:e,animate:r}),[sn(e),sn(r)])}function sn(t){return Array.isArray(t)?t.join(" "):t}const Gt={};function Vh(t){for(const e in t)Gt[e]=t[e],qr(e)&&(Gt[e].isCSSVariable=!0)}function ko(t,{layout:e,layoutId:r}){return Dt.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Gt[t]||t==="opacity")}const Fh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Oh=Tt.length;function _h(t,e,r){let i="",n=!0;for(let a=0;a<Oh;a++){const o=Tt[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=bo(l,li[o]);if(!c){n=!1;const h=Fh[o]||o;i+=`${h}(${d}) `}r&&(e[o]=d)}}return i=i.trim(),r?i=r(e,n?"":i):n&&(i="none"),i}function fi(t,e,r){const{style:i,vars:n,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Dt.has(c)){o=!0;continue}else if(qr(c)){n[c]=d;continue}else{const h=bo(d,li[c]);c.startsWith("origin")?(l=!0,a[c]=h):i[c]=h}}if(e.transform||(o||r?i.transform=_h(e,t.transform,r):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=a;i.transformOrigin=`${c} ${d} ${h}`}}const pi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function To(t,e,r){for(const i in e)!he(e[i])&&!ko(i,r)&&(t[i]=e[i])}function $h({transformTemplate:t},e){return p.useMemo(()=>{const r=pi();return fi(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Qh(t,e){const r=t.style||{},i={};return To(i,r,t),Object.assign(i,$h(t,e)),i}function Wh(t,e){const r={},i=Qh(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const zh={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hh={offset:"strokeDashoffset",array:"strokeDasharray"};function Kh(t,e,r=1,i=0,n=!0){t.pathLength=1;const a=n?zh:Hh;t[a.offset]=K.transform(-i);const o=K.transform(e),l=K.transform(r);t[a.array]=`${o} ${l}`}function Do(t,{attrX:e,attrY:r,attrScale:i,pathLength:n,pathSpacing:a=1,pathOffset:o=0,...l},c,d,h){if(fi(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:u}=t;m.transform&&(u.transform=m.transform,delete m.transform),(u.transform||m.transformOrigin)&&(u.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),u.transform&&(u.transformBox=h?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),i!==void 0&&(m.scale=i),n!==void 0&&Kh(m,n,a,o,!1)}const Po=()=>({...pi(),attrs:{}}),Ro=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yh(t,e,r,i){const n=p.useMemo(()=>{const a=Po();return Do(a,e,Ro(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};To(a,t.style,t),n.style={...a,...n.style}}return n}const Gh=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gi(t){return typeof t!="string"||t.includes("-")?!1:!!(Gh.indexOf(t)>-1||/[A-Z]/u.test(t))}function qh(t,e,r,{latestValues:i},n,a=!1){const l=(gi(t)?Yh:Wh)(e,i,n,t),c=Ih(e,typeof t=="string",a),d=t!==p.Fragment?{...c,...l,ref:r}:{},{children:h}=e,m=p.useMemo(()=>he(h)?h.get():h,[h]);return p.createElement(t,{...d,children:m})}function rn(t){const e=[{},{}];return t?.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function bi(t,e,r,i){if(typeof e=="function"){const[n,a]=rn(i);e=e(r!==void 0?r:t.custom,n,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[n,a]=rn(i);e=e(r!==void 0?r:t.custom,n,a)}return e}function bs(t){return he(t)?t.get():t}function Jh({scrapeMotionValuesFromProps:t,createRenderState:e},r,i,n){return{latestValues:Xh(r,i,n,t),renderState:e()}}function Xh(t,e,r,i){const n={},a=i(t,{});for(const u in a)n[u]=bs(a[u]);let{initial:o,animate:l}=t;const c=Us(t),d=Eo(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Is(m)){const u=Array.isArray(m)?m:[m];for(let f=0;f<u.length;f++){const w=bi(t,u[f]);if(w){const{transitionEnd:x,transition:g,...b}=w;for(const S in b){let j=b[S];if(Array.isArray(j)){const k=h?j.length-1:0;j=j[k]}j!==null&&(n[S]=j)}for(const S in x)n[S]=x[S]}}}return n}const Bo=t=>(e,r)=>{const i=p.useContext(Ms),n=p.useContext(Rs),a=()=>Jh(t,e,i,n);return r?a():Et(a)};function wi(t,e,r){const{style:i}=t,n={};for(const a in i)(he(i[a])||e.style&&he(e.style[a])||ko(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(n[a]=i[a]);return n}const Zh=Bo({scrapeMotionValuesFromProps:wi,createRenderState:pi});function Mo(t,e,r){const i=wi(t,e,r);for(const n in t)if(he(t[n])||he(e[n])){const a=Tt.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;i[a]=t[n]}return i}const eu=Bo({scrapeMotionValuesFromProps:Mo,createRenderState:Po}),tu=Symbol.for("motionComponentSymbol");function pt(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function su(t,e,r){return p.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):pt(r)&&(r.current=i))},[e])}const yi=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ru="framerAppearId",Io="data-"+yi(ru),Uo=p.createContext({});function iu(t,e,r,i,n){const{visualElement:a}=p.useContext(Ms),o=p.useContext(So),l=p.useContext(Rs),c=p.useContext(Bs).reducedMotion,d=p.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=p.useContext(Uo);h&&!h.projection&&n&&(h.type==="html"||h.type==="svg")&&nu(d.current,r,n,m);const u=p.useRef(!1);p.useInsertionEffect(()=>{h&&u.current&&h.update(r,l)});const f=r[Io],w=p.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return Ps(()=>{h&&(u.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),p.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),w.current=!1))}),h}function nu(t,e,r,i){const{layoutId:n,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Lo(t.parent)),t.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!o||l&&pt(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:c,layoutRoot:d})}function Lo(t){if(t)return t.options.allowProjection!==!1?t.projection:Lo(t.parent)}function Gs(t,{forwardMotionProps:e=!1}={},r,i){r&&Rh(r);const n=gi(t)?eu:Zh;function a(l,c){let d;const h={...p.useContext(Bs),...l,layoutId:au(l)},{isStatic:m}=h,u=Lh(l),f=n(l,m);if(!m&&$r){ou();const w=lu(h);d=w.MeasureLayout,u.visualElement=iu(t,f,h,i,w.ProjectionNode)}return s.jsxs(Ms.Provider,{value:u,children:[d&&u.visualElement?s.jsx(d,{visualElement:u.visualElement,...h}):null,qh(t,l,su(f,u.visualElement,c),f,m,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=p.forwardRef(a);return o[tu]=t,o}function au({layoutId:t}){const e=p.useContext(_r).id;return e&&t!==void 0?e+"-"+t:t}function ou(t,e){p.useContext(So).strict}function lu(t){const{drag:e,layout:r}=Ct;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function cu(t,e){if(typeof Proxy>"u")return Gs;const r=new Map,i=(a,o)=>Gs(a,o,t,e),n=(a,o)=>i(a,o);return new Proxy(n,{get:(a,o)=>o==="create"?i:(r.has(o)||r.set(o,Gs(o,void 0,t,e)),r.get(o))})}function Vo({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function du({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hu(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function qs(t){return t===void 0||t===1}function Cr({scale:t,scaleX:e,scaleY:r}){return!qs(t)||!qs(e)||!qs(r)}function it(t){return Cr(t)||Fo(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Fo(t){return nn(t.x)||nn(t.y)}function nn(t){return t&&t!=="0%"}function Ss(t,e,r){const i=t-r,n=e*i;return r+n}function an(t,e,r,i,n){return n!==void 0&&(t=Ss(t,n,i)),Ss(t,r,i)+e}function Er(t,e=0,r=1,i,n){t.min=an(t.min,e,r,i,n),t.max=an(t.max,e,r,i,n)}function Oo(t,{x:e,y:r}){Er(t.x,e.translate,e.scale,e.originPoint),Er(t.y,r.translate,r.scale,r.originPoint)}const on=.999999999999,ln=1.0000000000001;function uu(t,e,r,i=!1){const n=r.length;if(!n)return;e.x=e.y=1;let a,o;for(let l=0;l<n;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bt(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Oo(t,o)),i&&it(a.latestValues)&&bt(t,a.latestValues))}e.x<ln&&e.x>on&&(e.x=1),e.y<ln&&e.y>on&&(e.y=1)}function gt(t,e){t.min=t.min+e,t.max=t.max+e}function cn(t,e,r,i,n=.5){const a=ee(t.min,t.max,n);Er(t,e,r,a,i)}function bt(t,e){cn(t.x,e.x,e.scaleX,e.scale,e.originX),cn(t.y,e.y,e.scaleY,e.scale,e.originY)}function _o(t,e){return Vo(hu(t.getBoundingClientRect(),e))}function mu(t,e,r){const i=_o(t,r),{scroll:n}=e;return n&&(gt(i.x,n.offset.x),gt(i.y,n.offset.y)),i}const dn=()=>({translate:0,scale:1,origin:0,originPoint:0}),wt=()=>({x:dn(),y:dn()}),hn=()=>({min:0,max:0}),ie=()=>({x:hn(),y:hn()}),kr={current:null},$o={current:!1};function xu(){if($o.current=!0,!!$r)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kr.current=t.matches;t.addEventListener("change",e),e()}else kr.current=!1}const fu=new WeakMap;function pu(t,e,r){for(const i in e){const n=e[i],a=r[i];if(he(n))t.addValue(i,n);else if(he(a))t.addValue(i,Te(n,{owner:t}));else if(a!==n)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=t.getStaticValue(i);t.addValue(i,Te(o!==void 0?o:n,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const un=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gu{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:n,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ai,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const u=pe.now();this.renderScheduledAt<u&&(this.renderScheduledAt=u,J.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Us(r),this.isVariantNode=Eo(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const u in m){const f=m[u];c[u]!==void 0&&he(f)&&f.set(c[u],!1)}}mount(e){this.current=e,fu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),$o.current||xu(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kr.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Re(this.notifyUpdate),Re(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Dt.has(e);i&&this.onBindTransform&&this.onBindTransform();const n=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&J.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{n(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ct){const r=Ct[e];if(!r)continue;const{isEnabled:i,Feature:n}=r;if(!this.features[e]&&n&&i(this.props)&&(this.features[e]=new n(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ie()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<un.length;i++){const n=un[i];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a="on"+n,o=e[a];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=pu(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Te(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Pa(i)||Ba(i))?i=parseFloat(i):!Ch(i)&&Je.test(r)&&(i=po(e,r)),this.setBaseTarget(e,he(i)?i.get():i)),he(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=bi(this.props,r,this.presenceContext?.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const n=this.getBaseTargetFromProps(this.props,e);return n!==void 0&&!he(n)?n:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Hr),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){di.render(this.render)}}class Qo extends gu{constructor(){super(...arguments),this.KeyframeResolver=nh}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;he(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Wo(t,{style:e,vars:r},i,n){const a=t.style;let o;for(o in e)a[o]=e[o];n?.applyProjectionStyles(a,i);for(o in r)a.setProperty(o,r[o])}function bu(t){return window.getComputedStyle(t)}class wu extends Qo{constructor(){super(...arguments),this.type="html",this.renderInstance=Wo}readValueFromInstance(e,r){if(Dt.has(r))return this.projection?.isProjecting?yr(r):Sd(e,r);{const i=bu(e),n=(qr(r)?i.getPropertyValue(r):i[r])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:r}){return _o(e,r)}build(e,r,i){fi(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return wi(e,r,i)}}const zo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yu(t,e,r,i){Wo(t,e,void 0,i);for(const n in e.attrs)t.setAttribute(zo.has(n)?n:yi(n),e.attrs[n])}class vu extends Qo{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ie}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Dt.has(r)){const i=fo(r);return i&&i.default||0}return r=zo.has(r)?r:yi(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return Mo(e,r,i)}build(e,r,i){Do(e,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,r,i,n){yu(e,r,i,n)}mount(e){this.isSVGTag=Ro(e.tagName),super.mount(e)}}const ju=(t,e)=>gi(t)?new vu(e):new wu(e,{allowProjection:t!==p.Fragment});function qt(t,e,r){const i=t.getProps();return bi(i,e,r!==void 0?r:i.custom,t)}const Tr=t=>Array.isArray(t);function Nu(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Te(r))}function Au(t){return Tr(t)?t[t.length-1]||0:t}function Su(t,e){const r=qt(t,e);let{transitionEnd:i={},transition:n={},...a}=r||{};a={...a,...i};for(const o in a){const l=Au(a[o]);Nu(t,o,l)}}function Cu(t){return!!(he(t)&&t.add)}function Dr(t,e){const r=t.getValue("willChange");if(Cu(r))return r.add(e);if(!r&&We.WillChange){const i=new We.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Ho(t){return t.props[Io]}const Eu=t=>t!==null;function ku(t,{repeat:e,repeatType:r="loop"},i){const n=t.filter(Eu),a=e&&r!=="loop"&&e%2===1?0:n.length-1;return!a||i===void 0?n[a]:i}const Tu={type:"spring",stiffness:500,damping:25,restSpeed:10},Du=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Pu={type:"keyframes",duration:.8},Ru={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bu=(t,{keyframes:e})=>e.length>2?Pu:Dt.has(t)?t.startsWith("scale")?Du(e[1]):Tu:Ru;function Mu({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:n,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const vi=(t,e,r,i={},n,a)=>o=>{const l=oi(i,t)||{},c=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Ie(c);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:u=>{e.set(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:n};Mu(l)||Object.assign(h,Bu(t,h)),h.duration&&(h.duration=Ie(h.duration)),h.repeatDelay&&(h.repeatDelay=Ie(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),(We.instantAnimations||We.skipAnimations)&&(m=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!a&&e.get()!==void 0){const u=ku(h.keyframes,l);if(u!==void 0){J.update(()=>{h.onUpdate(u),h.onComplete()});return}}return l.isSync?new ni(h):new Kd(h)};function Iu({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function Ko(t,e,{delay:r=0,transitionOverride:i,type:n}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(a=i);const c=[],d=n&&t.animationState&&t.animationState.getState()[n];for(const h in l){const m=t.getValue(h,t.latestValues[h]??null),u=l[h];if(u===void 0||d&&Iu(d,h))continue;const f={delay:r,...oi(a||{},h)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(u)&&u===w&&!f.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const b=Ho(t);if(b){const S=window.MotionHandoffAnimation(b,h,J);S!==null&&(f.startTime=S,x=!0)}}Dr(t,h),m.start(vi(h,m,u,t.shouldReduceMotion&&uo.has(h)?{type:!1}:f,t,x));const g=m.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{J.update(()=>{o&&Su(t,o)})}),c}function Pr(t,e,r={}){const i=qt(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(n=r.transitionOverride);const a=i?()=>Promise.all(Ko(t,i,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=n;return Uu(t,e,c,d,h,m,r)}:()=>Promise.resolve(),{when:l}=n;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function Uu(t,e,r=0,i=0,n=0,a=1,o){const l=[],c=t.variantChildren.size,d=(c-1)*n,h=typeof i=="function",m=h?u=>i(u,c):a===1?(u=0)=>u*n:(u=0)=>d-u*n;return Array.from(t.variantChildren).sort(Lu).forEach((u,f)=>{u.notify("AnimationStart",e),l.push(Pr(u,e,{...o,delay:r+(h?0:i)+m(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(l)}function Lu(t,e){return t.sortNodePosition(e)}function Vu(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const n=e.map(a=>Pr(t,a,r));i=Promise.all(n)}else if(typeof e=="string")i=Pr(t,e,r);else{const n=typeof e=="function"?qt(t,e,r.custom):e;i=Promise.all(Ko(t,n,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}function Yo(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}const Fu=xi.length;function Go(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Go(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Fu;r++){const i=xi[r],n=t.props[i];(Yt(n)||n===!1)&&(e[i]=n)}return e}const Ou=[...mi].reverse(),_u=mi.length;function $u(t){return e=>Promise.all(e.map(({animation:r,options:i})=>Vu(t,r,i)))}function Qu(t){let e=$u(t),r=mn(),i=!0;const n=c=>(d,h)=>{const m=qt(t,h,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:u,transitionEnd:f,...w}=m;d={...d,...w,...f}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,h=Go(t.parent)||{},m=[],u=new Set;let f={},w=1/0;for(let g=0;g<_u;g++){const b=Ou[g],S=r[b],j=d[b]!==void 0?d[b]:h[b],k=Yt(j),C=b===c?S.isActive:null;C===!1&&(w=g);let y=j===h[b]&&j!==d[b]&&k;if(y&&i&&t.manuallyAnimateOnMount&&(y=!1),S.protectedKeys={...f},!S.isActive&&C===null||!j&&!S.prevProp||Is(j)||typeof j=="boolean")continue;const N=Wu(S.prevProp,j);let A=N||b===c&&S.isActive&&!y&&k||g>w&&k,D=!1;const E=Array.isArray(j)?j:[j];let V=E.reduce(n(b),{});C===!1&&(V={});const{prevResolvedValues:R={}}=S,F={...R,...V},P=H=>{A=!0,u.has(H)&&(D=!0,u.delete(H)),S.needsAnimating[H]=!0;const O=t.getValue(H);O&&(O.liveStyle=!1)};for(const H in F){const O=V[H],L=R[H];if(f.hasOwnProperty(H))continue;let Y=!1;Tr(O)&&Tr(L)?Y=!Yo(O,L):Y=O!==L,Y?O!=null?P(H):u.add(H):O!==void 0&&u.has(H)?P(H):S.protectedKeys[H]=!0}S.prevProp=j,S.prevResolvedValues=V,S.isActive&&(f={...f,...V}),i&&t.blockInitialAnimation&&(A=!1),A&&(!(y&&N)||D)&&m.push(...E.map(H=>({animation:H,options:{type:b}})))}if(u.size){const g={};if(typeof d.initial!="boolean"){const b=qt(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(g.transition=b.transition)}u.forEach(b=>{const S=t.getBaseTarget(b),j=t.getValue(b);j&&(j.liveStyle=!0),g[b]=S??null}),m.push({animation:g})}let x=!!m.length;return i&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(m):Promise.resolve()}function l(c,d){if(r[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,d)),r[c].isActive=d;const h=o(c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=mn(),i=!0}}}function Wu(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yo(e,t):!1}function st(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mn(){return{animate:st(!0),whileInView:st(),whileHover:st(),whileTap:st(),whileDrag:st(),whileFocus:st(),exit:st()}}class Ze{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zu extends Ze{constructor(e){super(e),e.animationState||(e.animationState=Qu(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Is(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Hu=0;class Ku extends Ze{constructor(){super(...arguments),this.id=Hu++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const n=this.node.animationState.setActive("exit",!e);r&&!e&&n.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Yu={animation:{Feature:zu},exit:{Feature:Ku}};function Jt(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function ts(t){return{point:{x:t.pageX,y:t.pageY}}}const Gu=t=>e=>hi(e)&&t(e,ts(e));function _t(t,e,r,i){return Jt(t,e,Gu(r),i)}const qo=1e-4,qu=1-qo,Ju=1+qo,Jo=.01,Xu=0-Jo,Zu=0+Jo;function fe(t){return t.max-t.min}function em(t,e,r){return Math.abs(t-e)<=r}function xn(t,e,r,i=.5){t.origin=i,t.originPoint=ee(e.min,e.max,t.origin),t.scale=fe(r)/fe(e),t.translate=ee(r.min,r.max,t.origin)-t.originPoint,(t.scale>=qu&&t.scale<=Ju||isNaN(t.scale))&&(t.scale=1),(t.translate>=Xu&&t.translate<=Zu||isNaN(t.translate))&&(t.translate=0)}function $t(t,e,r,i){xn(t.x,e.x,r.x,i?i.originX:void 0),xn(t.y,e.y,r.y,i?i.originY:void 0)}function fn(t,e,r){t.min=r.min+e.min,t.max=t.min+fe(e)}function tm(t,e,r){fn(t.x,e.x,r.x),fn(t.y,e.y,r.y)}function pn(t,e,r){t.min=e.min-r.min,t.max=t.min+fe(e)}function Qt(t,e,r){pn(t.x,e.x,r.x),pn(t.y,e.y,r.y)}function Ae(t){return[t("x"),t("y")]}const Xo=({current:t})=>t?t.ownerDocument.defaultView:null,gn=(t,e)=>Math.abs(t-e);function sm(t,e){const r=gn(t.x,e.x),i=gn(t.y,e.y);return Math.sqrt(r**2+i**2)}class Zo{constructor(e,r,{transformPagePoint:i,contextWindow:n=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Xs(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,w=sm(u.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!w)return;const{point:x}=u,{timestamp:g}=ae;this.history.push({...x,timestamp:g});const{onStart:b,onMove:S}=this.handlers;f||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,u)},this.handlePointerMove=(u,f)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Js(f,this.transformPagePoint),J.update(this.updatePoint,!0)},this.handlePointerUp=(u,f)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Xs(u.type==="pointercancel"?this.lastMoveEventInfo:Js(f,this.transformPagePoint),this.history);this.startEvent&&w&&w(u,b),x&&x(u,b)},!hi(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=n||window;const l=ts(e),c=Js(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=ae;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=r;m&&m(e,Xs(c,this.history)),this.removeListeners=Xt(_t(this.contextWindow,"pointermove",this.handlePointerMove),_t(this.contextWindow,"pointerup",this.handlePointerUp),_t(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Re(this.updatePoint)}}function Js(t,e){return e?{point:e(t.point)}:t}function bn(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xs({point:t},e){return{point:t,delta:bn(t,el(e)),offset:bn(t,rm(e)),velocity:im(e,.1)}}function rm(t){return t[0]}function el(t){return t[t.length-1]}function im(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const n=el(t);for(;r>=0&&(i=t[r],!(n.timestamp-i.timestamp>Ie(e)));)r--;if(!i)return{x:0,y:0};const a=Ue(n.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(n.x-i.x)/a,y:(n.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nm(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?ee(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?ee(r,t,i.max):Math.min(t,r)),t}function wn(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function am(t,{top:e,left:r,bottom:i,right:n}){return{x:wn(t.x,r,n),y:wn(t.y,e,i)}}function yn(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function om(t,e){return{x:yn(t.x,e.x),y:yn(t.y,e.y)}}function lm(t,e){let r=.5;const i=fe(t),n=fe(e);return n>i?r=St(e.min,e.max-i,t.min):i>n&&(r=St(t.min,t.max-n,e.min)),Fe(0,1,r)}function cm(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Rr=.35;function dm(t=Rr){return t===!1?t=0:t===!0&&(t=Rr),{x:vn(t,"left","right"),y:vn(t,"top","bottom")}}function vn(t,e,r){return{min:jn(t,e),max:jn(t,r)}}function jn(t,e){return typeof t=="number"?t:t[e]||0}const hm=new WeakMap;class um{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ie(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ts(m).point)},o=(m,u)=>{const{drag:f,dragPropagation:w,onDragStart:x}=this.getProps();if(f&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lh(f),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=u,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ae(b=>{let S=this.getAxisMotionValue(b).get()||0;if(Le.test(S)){const{projection:j}=this.visualElement;if(j&&j.layout){const k=j.layout.layoutBox[b];k&&(S=fe(k)*(parseFloat(S)/100))}}this.originPoint[b]=S}),x&&J.postRender(()=>x(m,u)),Dr(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u;const{dragPropagation:f,dragDirectionLock:w,onDirectionLock:x,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=u;if(w&&this.currentDirection===null){this.currentDirection=mm(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),g&&g(m,u)},c=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u,this.stop(m,u),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ae(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Zo(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:Xo(this.visualElement)})}stop(e,r){const i=e||this.latestPointerEvent,n=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!n||!i)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&J.postRender(()=>l(i,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:n}=this.getProps();if(!i||!as(e,n,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=nm(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;e&&pt(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=am(i.layoutBox,e):this.constraints=!1,this.elastic=dm(r),n!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ae(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=cm(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!pt(e))return!1;const i=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=mu(i,n.root,this.visualElement.getTransformPagePoint());let o=om(n.layout.layoutBox,a);if(r){const l=r(du(o));this.hasMutatedConstraints=!!l,l&&(o=Vo(l))}return o}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:n,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ae(h=>{if(!as(h,r,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const u=n?200:1e6,f=n?40:1e7,w={type:"inertia",velocity:i?e[h]:0,bounceStiffness:u,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(h,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return Dr(this.visualElement,e),i.start(vi(e,i,0,r,this.visualElement,!1))}stopAnimation(){Ae(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ae(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),n=i[r];return n||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ae(r=>{const{drag:i}=this.getProps();if(!as(r,i,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(r);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[r];a.set(e[r]-ee(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!pt(r)||!i||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Ae(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=lm({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ae(o=>{if(!as(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ee(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;hm.set(this.visualElement,this);const e=this.visualElement.current,r=_t(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();pt(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",i);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),J.read(i);const o=Jt(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ae(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:o=Rr,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:n,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function as(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function mm(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class xm extends Ze{constructor(e){super(e),this.removeGroupControls=ge,this.removeListeners=ge,this.controls=new um(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nn=t=>(e,r)=>{t&&J.postRender(()=>t(e,r))};class fm extends Ze{constructor(){super(...arguments),this.removePointerDownListener=ge}onPointerDown(e){this.session=new Zo(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xo(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:n}=this.node.getProps();return{onSessionStart:Nn(e),onStart:Nn(r),onMove:i,onEnd:(a,o)=>{delete this.session,n&&J.postRender(()=>n(a,o))}}}mount(){this.removePointerDownListener=_t(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ws={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function An(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(K.test(t))t=parseFloat(t);else return t;const r=An(t,e.target.x),i=An(t,e.target.y);return`${r}% ${i}%`}},pm={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,n=Je.parse(t);if(n.length>5)return i;const a=Je.createTransformer(t),o=typeof n[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;n[0+o]/=l,n[1+o]/=c;const d=ee(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),a(n)}};let Sn=!1;class gm extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:n}=this.props,{projection:a}=e;Vh(bm),a&&(r.group&&r.group.add(a),i&&i.register&&n&&i.register(a),Sn&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ws.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:n,isPresent:a}=this.props,{projection:o}=i;return o&&(o.isPresent=a,Sn=!0,n||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||J.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),di.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),i&&i.deregister&&i.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tl(t){const[e,r]=Ao(),i=p.useContext(_r);return s.jsx(gm,{...t,layoutGroup:i,switchLayoutGroup:p.useContext(Uo),isPresent:e,safeToRemove:r})}const bm={borderRadius:{...Mt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomLeftRadius:Mt,borderBottomRightRadius:Mt,boxShadow:pm};function wm(t,e,r){const i=he(t)?t:Te(t);return i.start(vi("",i,e,r)),i.animation}const ym=(t,e)=>t.depth-e.depth;class vm{constructor(){this.children=[],this.isDirty=!1}add(e){Qr(this.children,e),this.isDirty=!0}remove(e){Wr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ym),this.isDirty=!1,this.children.forEach(e)}}function jm(t,e){const r=pe.now(),i=({timestamp:n})=>{const a=n-r;a>=e&&(Re(i),t(a-e))};return J.setup(i,!0),()=>Re(i)}const sl=["TopLeft","TopRight","BottomLeft","BottomRight"],Nm=sl.length,Cn=t=>typeof t=="string"?parseFloat(t):t,En=t=>typeof t=="number"||K.test(t);function Am(t,e,r,i,n,a){n?(t.opacity=ee(0,r.opacity??1,Sm(i)),t.opacityExit=ee(e.opacity??1,0,Cm(i))):a&&(t.opacity=ee(e.opacity??1,r.opacity??1,i));for(let o=0;o<Nm;o++){const l=`border${sl[o]}Radius`;let c=kn(e,l),d=kn(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||En(c)===En(d)?(t[l]=Math.max(ee(Cn(c),Cn(d),i),0),(Le.test(d)||Le.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=ee(e.rotate||0,r.rotate||0,i))}function kn(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Sm=rl(0,.5,Oa),Cm=rl(.5,.95,ge);function rl(t,e,r){return i=>i<t?0:i>e?1:r(St(t,e,i))}function Tn(t,e){t.min=e.min,t.max=e.max}function ve(t,e){Tn(t.x,e.x),Tn(t.y,e.y)}function Dn(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Pn(t,e,r,i,n){return t-=e,t=Ss(t,1/r,i),n!==void 0&&(t=Ss(t,1/n,i)),t}function Em(t,e=0,r=1,i=.5,n,a=t,o=t){if(Le.test(e)&&(e=parseFloat(e),e=ee(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=ee(a.min,a.max,i);t===a&&(l-=e),t.min=Pn(t.min,e,r,l,n),t.max=Pn(t.max,e,r,l,n)}function Rn(t,e,[r,i,n],a,o){Em(t,e[r],e[i],e[n],e.scale,a,o)}const km=["x","scaleX","originX"],Tm=["y","scaleY","originY"];function Bn(t,e,r,i){Rn(t.x,e,km,r?r.x:void 0,i?i.x:void 0),Rn(t.y,e,Tm,r?r.y:void 0,i?i.y:void 0)}function Mn(t){return t.translate===0&&t.scale===1}function il(t){return Mn(t.x)&&Mn(t.y)}function In(t,e){return t.min===e.min&&t.max===e.max}function Dm(t,e){return In(t.x,e.x)&&In(t.y,e.y)}function Un(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nl(t,e){return Un(t.x,e.x)&&Un(t.y,e.y)}function Ln(t){return fe(t.x)/fe(t.y)}function Vn(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Pm{constructor(){this.members=[]}add(e){Qr(this.members,e),e.scheduleRender()}remove(e){if(Wr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(n=>e===n);if(r===0)return!1;let i;for(let n=r;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;n===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rm(t,e,r){let i="";const n=t.x.translate/e.x,a=t.y.translate/e.y,o=r?.z||0;if((n||a||o)&&(i=`translate3d(${n}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:u,skewX:f,skewY:w}=r;d&&(i=`perspective(${d}px) ${i}`),h&&(i+=`rotate(${h}deg) `),m&&(i+=`rotateX(${m}deg) `),u&&(i+=`rotateY(${u}deg) `),f&&(i+=`skewX(${f}deg) `),w&&(i+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const Zs=["","X","Y","Z"],Bm=1e3;let Mm=0;function er(t,e,r,i){const{latestValues:n}=e;n[t]&&(r[t]=n[t],e.setStaticValue(t,0),i&&(i[t]=0))}function al(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Ho(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:n,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",J,!(n||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&al(i)}function ol({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(o={},l=e?.()){this.id=Mm++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Lm),this.nodes.forEach(_m),this.nodes.forEach($m),this.nodes.forEach(Vm)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new vm)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Hr),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ui(o)&&!Nh(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,m=0;const u=()=>this.root.updateBlockedByResize=!1;J.read(()=>{m=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==m&&(m=f,this.root.updateBlockedByResize=!0,h&&h(),h=jm(u,250),ws.hasAnimatedSinceResize&&(ws.hasAnimatedSinceResize=!1,this.nodes.forEach(_n)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:u,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||Km,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),b=!this.targetLayout||!nl(this.targetLayout,f),S=!m&&u;if(this.options.layoutRoot||this.resumeFrom||S||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...oi(w,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(h,S)}else m||_n(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Re(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qm),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&al(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fn);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(On);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Om),this.nodes.forEach(Im),this.nodes.forEach(Um)):this.nodes.forEach(On),this.clearAllSnapshots();const l=pe.now();ae.delta=Fe(0,1e3/60,l-ae.timestamp),ae.timestamp=l,ae.isProcessing=!0,Qs.update.process(ae),Qs.preRender.process(ae),Qs.render.process(ae),ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,di.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Fm),this.sharedNodes.forEach(Wm)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,J.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){J.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fe(this.snapshot.measuredBox.x)&&!fe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!il(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||it(this.latestValues)||h)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Ym(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ie();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Gm))){const{scroll:d}=this.root;d&&(gt(l.x,d.offset.x),gt(l.y,d.offset.y))}return l}removeElementScroll(o){const l=ie();if(ve(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ve(l,o),gt(l.x,h.offset.x),gt(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=ie();ve(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&bt(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),it(h.latestValues)&&bt(c,h.latestValues)}return it(this.latestValues)&&bt(c,this.latestValues),c}removeTransform(o){const l=ie();ve(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!it(d.latestValues))continue;Cr(d.latestValues)&&d.updateSnapshot();const h=ie(),m=d.measurePageBox();ve(h,m),Bn(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return it(this.latestValues)&&Bn(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=ae.timestamp,!this.targetDelta&&!this.relativeTarget){const u=this.getClosestProjectingParent();u&&u.layout&&this.animationProgress!==1?(this.relativeParent=u,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ie(),this.relativeTargetOrigin=ie(),Qt(this.relativeTargetOrigin,this.layout.layoutBox,u.layout.layoutBox),ve(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ie(),this.targetWithTransforms=ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tm(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ve(this.target,this.layout.layoutBox),Oo(this.target,this.targetDelta)):ve(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const u=this.getClosestProjectingParent();u&&!!u.resumingFrom==!!this.resumingFrom&&!u.options.layoutScroll&&u.target&&this.animationProgress!==1?(this.relativeParent=u,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ie(),this.relativeTargetOrigin=ie(),Qt(this.relativeTargetOrigin,this.target,u.target),ve(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Cr(this.parent.latestValues)||Fo(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ae.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ve(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,u=this.treeScale.y;uu(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ie());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dn(this.prevProjectionDelta.x,this.projectionDelta.x),Dn(this.prevProjectionDelta.y,this.projectionDelta.y)),$t(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==u||!Vn(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vn(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wt(),this.projectionDelta=wt(),this.projectionDeltaWithTransform=wt()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=wt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const u=ie(),f=c?c.source:void 0,w=this.layout?this.layout.source:void 0,x=f!==w,g=this.getStack(),b=!g||g.members.length<=1,S=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(Hm));this.animationProgress=0;let j;this.mixTargetDelta=k=>{const C=k/1e3;$n(m.x,o.x,C),$n(m.y,o.y,C),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qt(u,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zm(this.relativeTarget,this.relativeTargetOrigin,u,C),j&&Dm(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=ie()),ve(j,this.relativeTarget)),x&&(this.animationValues=h,Am(h,d,this.latestValues,C,S,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Re(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=J.update(()=>{ws.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Te(0)),this.currentAnimation=wm(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&ll(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ie();const m=fe(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const u=fe(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+u}ve(l,c),bt(l,h),$t(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Pm),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&er("z",o,d,this.animationValues);for(let h=0;h<Zs.length;h++)er(`rotate${Zs[h]}`,o,d,this.animationValues),er(`skew${Zs[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=bs(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=bs(l?.pointerEvents)||""),this.hasProjected&&!it(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Rm(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:u,y:f}=this.projectionDelta;o.transformOrigin=`${u.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Gt){if(h[w]===void 0)continue;const{correct:x,applyTo:g,isCSSVariable:b}=Gt[w],S=m==="none"?h[w]:x(h[w],d);if(g){const j=g.length;for(let k=0;k<j;k++)o[g[k]]=S}else b?this.options.visualElement.renderState.vars[w]=S:o[w]=S}this.options.layoutId&&(o.pointerEvents=d===this?bs(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Fn),this.root.sharedNodes.clear()}}}function Im(t){t.updateLayout()}function Um(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:n}=t.options,a=e.source!==t.layout.source;n==="size"?Ae(h=>{const m=a?e.measuredBox[h]:e.layoutBox[h],u=fe(m);m.min=r[h].min,m.max=m.min+u}):ll(n,e.layoutBox,r)&&Ae(h=>{const m=a?e.measuredBox[h]:e.layoutBox[h],u=fe(r[h]);m.max=m.min+u,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+u)});const o=wt();$t(o,r,e.layoutBox);const l=wt();a?$t(l,t.applyTransform(i,!0),e.measuredBox):$t(l,r,e.layoutBox);const c=!il(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:u}=h;if(m&&u){const f=ie();Qt(f,e.layoutBox,m.layoutBox);const w=ie();Qt(w,r,u.layoutBox),nl(f,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=f,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Lm(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Vm(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Fm(t){t.clearSnapshot()}function Fn(t){t.clearMeasurements()}function On(t){t.isLayoutDirty=!1}function Om(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _n(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _m(t){t.resolveTargetDelta()}function $m(t){t.calcProjection()}function Qm(t){t.resetSkewAndRotation()}function Wm(t){t.removeLeadSnapshot()}function $n(t,e,r){t.translate=ee(e.translate,0,r),t.scale=ee(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Qn(t,e,r,i){t.min=ee(e.min,r.min,i),t.max=ee(e.max,r.max,i)}function zm(t,e,r,i){Qn(t.x,e.x,r.x,i),Qn(t.y,e.y,r.y,i)}function Hm(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Km={duration:.45,ease:[.4,0,.1,1]},Wn=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zn=Wn("applewebkit/")&&!Wn("chrome/")?Math.round:ge;function Hn(t){t.min=zn(t.min),t.max=zn(t.max)}function Ym(t){Hn(t.x),Hn(t.y)}function ll(t,e,r){return t==="position"||t==="preserve-aspect"&&!em(Ln(e),Ln(r),.2)}function Gm(t){return t!==t.root&&t.scroll?.wasRoot}const qm=ol({attachResizeListener:(t,e)=>Jt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tr={current:void 0},cl=ol({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tr.current){const t=new qm({});t.mount(window),t.setOptions({layoutScroll:!0}),tr.current=t}return tr.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Jm={pan:{Feature:fm},drag:{Feature:xm,ProjectionNode:cl,MeasureLayout:tl}};function Kn(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const n="onHover"+r,a=i[n];a&&J.postRender(()=>a(e,ts(e)))}class Xm extends Ze{mount(){const{current:e}=this.node;e&&(this.unmount=ch(e,(r,i)=>(Kn(this.node,i,"Start"),n=>Kn(this.node,n,"End"))))}unmount(){}}class Zm extends Ze{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xt(Jt(this.node.current,"focus",()=>this.onFocus()),Jt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yn(t,e,r){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const n="onTap"+(r==="End"?"":r),a=i[n];a&&J.postRender(()=>a(e,ts(e)))}class ex extends Ze{mount(){const{current:e}=this.node;e&&(this.unmount=mh(e,(r,i)=>(Yn(this.node,i,"Start"),(n,{success:a})=>Yn(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Br=new WeakMap,sr=new WeakMap,tx=t=>{const e=Br.get(t.target);e&&e(t)},sx=t=>{t.forEach(tx)};function rx({root:t,...e}){const r=t||document;sr.has(r)||sr.set(r,{});const i=sr.get(r),n=JSON.stringify(e);return i[n]||(i[n]=new IntersectionObserver(sx,{root:t,...e})),i[n]}function ix(t,e,r){const i=rx(e);return Br.set(t,r),i.observe(t),()=>{Br.delete(t),i.unobserve(t)}}const nx={some:0,all:1};class ax extends Ze{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:n="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:i,threshold:typeof n=="number"?n:nx[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),u=d?h:m;u&&u(c)};return ix(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(ox(e,r))&&this.startObserver()}unmount(){}}function ox({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const lx={inView:{Feature:ax},tap:{Feature:ex},focus:{Feature:Zm},hover:{Feature:Xm}},cx={layout:{ProjectionNode:cl,MeasureLayout:tl}},dx={...Yu,...lx,...Jm,...cx},te=cu(dx,ju),hx=50,Gn=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ux=()=>({time:0,x:Gn(),y:Gn()}),mx={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function qn(t,e,r,i){const n=r[e],{length:a,position:o}=mx[e],l=n.current,c=r.time;n.current=t[`scroll${o}`],n.scrollLength=t[`scroll${a}`]-t[`client${a}`],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=St(0,n.scrollLength,n.current);const d=i-c;n.velocity=d>hx?0:Kr(n.current-l,d)}function xx(t,e,r){qn(t,"x",e,r),qn(t,"y",e,r),e.time=r}function fx(t,e){const r={x:0,y:0};let i=t;for(;i&&i!==e;)if(ci(i))r.x+=i.offsetLeft,r.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const n=i.getBoundingClientRect();i=i.parentElement;const a=i.getBoundingClientRect();r.x+=n.left-a.left,r.y+=n.top-a.top}else if(i instanceof SVGGraphicsElement){const{x:n,y:a}=i.getBBox();r.x+=n,r.y+=a;let o=null,l=i.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=i.parentNode;i=o}else break;return r}const Mr={start:0,center:.5,end:1};function Jn(t,e,r=0){let i=0;if(t in Mr&&(t=Mr[t]),typeof t=="string"){const n=parseFloat(t);t.endsWith("px")?i=n:t.endsWith("%")?t=n/100:t.endsWith("vw")?i=n/100*document.documentElement.clientWidth:t.endsWith("vh")?i=n/100*document.documentElement.clientHeight:t=n}return typeof t=="number"&&(i=e*t),r+i}const px=[0,0];function gx(t,e,r,i){let n=Array.isArray(t)?t:px,a=0,o=0;return typeof t=="number"?n=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?n=t.split(" "):n=[t,Mr[t]?t:"0"]),a=Jn(n[0],r,i),o=Jn(n[1],e),a-o}const bx={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},wx={x:0,y:0};function yx(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function vx(t,e,r){const{offset:i=bx.All}=r,{target:n=t,axis:a="y"}=r,o=a==="y"?"height":"width",l=n!==t?fx(n,t):wx,c=n===t?{width:t.scrollWidth,height:t.scrollHeight}:yx(n),d={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let h=!e[a].interpolate;const m=i.length;for(let u=0;u<m;u++){const f=gx(i[u],d[o],c[o],l[a]);!h&&f!==e[a].interpolatorOffsets[u]&&(h=!0),e[a].offset[u]=f}h&&(e[a].interpolate=si(e[a].offset,to(i),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=Fe(0,1,e[a].interpolate(e[a].current))}function jx(t,e=t,r){if(r.x.targetOffset=0,r.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)r.x.targetOffset+=i.offsetLeft,r.y.targetOffset+=i.offsetTop,i=i.offsetParent}r.x.targetLength=e===t?e.scrollWidth:e.clientWidth,r.y.targetLength=e===t?e.scrollHeight:e.clientHeight,r.x.containerLength=t.clientWidth,r.y.containerLength=t.clientHeight}function Nx(t,e,r,i={}){return{measure:n=>{jx(t,i.target,r),xx(t,r,n),(i.offset||i.target)&&vx(t,r,i)},notify:()=>e(r)}}const It=new WeakMap,Xn=new WeakMap,rr=new WeakMap,Zn=t=>t===document.scrollingElement?window:t;function dl(t,{container:e=document.scrollingElement,...r}={}){if(!e)return ge;let i=rr.get(e);i||(i=new Set,rr.set(e,i));const n=ux(),a=Nx(e,t,n,r);if(i.add(a),!It.has(e)){const l=()=>{for(const m of i)m.measure(ae.timestamp);J.preUpdate(c)},c=()=>{for(const m of i)m.notify()},d=()=>J.read(l);It.set(e,d);const h=Zn(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&Xn.set(e,jh(e,d)),h.addEventListener("scroll",d,{passive:!0}),d()}const o=It.get(e);return J.read(o,!1,!0),()=>{Re(o);const l=rr.get(e);if(!l||(l.delete(a),l.size))return;const c=It.get(e);It.delete(e),c&&(Zn(e).removeEventListener("scroll",c),Xn.get(e)?.(),window.removeEventListener("resize",c))}}const ea=new Map;function Ax(t){const e={value:0},r=dl(i=>{e.value=i[t.axis].progress*100},t);return{currentTime:e,cancel:r}}function hl({source:t,container:e,...r}){const{axis:i}=r;t&&(e=t);const n=ea.get(e)??new Map;ea.set(e,n);const a=r.target??"self",o=n.get(a)??{},l=i+(r.offset??[]).join(",");return o[l]||(o[l]=!r.target&&no()?new ScrollTimeline({source:e,axis:i}):Ax({container:e,...r})),o[l]}function Sx(t,e){const r=hl(e);return t.attachTimeline({timeline:e.target?void 0:r,observe:i=>(i.pause(),No(n=>{i.time=i.duration*n},r))})}function Cx(t){return t.length===2}function Ex(t,e){return Cx(t)?dl(r=>{t(r[e.axis].progress,r)},e):No(t,hl(e))}function kx(t,{axis:e="y",container:r=document.scrollingElement,...i}={}){if(!r)return ge;const n={axis:e,container:r,...i};return typeof t=="function"?Ex(t,n):Sx(t,n)}const Tx=()=>({scrollX:Te(0),scrollY:Te(0),scrollXProgress:Te(0),scrollYProgress:Te(0)}),os=t=>t?!t.current:!1;function Dx({container:t,target:e,...r}={}){const i=Et(Tx),n=p.useRef(null),a=p.useRef(!1),o=p.useCallback(()=>(n.current=kx((l,{x:c,y:d})=>{i.scrollX.set(c.current),i.scrollXProgress.set(c.progress),i.scrollY.set(d.current),i.scrollYProgress.set(d.progress)},{...r,container:t?.current||void 0,target:e?.current||void 0}),()=>{n.current?.()}),[t,e,JSON.stringify(r.offset)]);return Ps(()=>{if(a.current=!1,os(t)||os(e)){a.current=!0;return}else return o()},[o]),p.useEffect(()=>{if(a.current)return At(!os(t)),At(!os(e)),o()},[o]),i}function Px(t){const e=Et(()=>Te(t)),{isStatic:r}=p.useContext(Bs);if(r){const[,i]=p.useState(t);p.useEffect(()=>e.on("change",i),[])}return e}function ul(t,e){const r=Px(e()),i=()=>r.set(e());return i(),Ps(()=>{const n=()=>J.preRender(i,!1,!0),a=t.map(o=>o.on("change",n));return()=>{a.forEach(o=>o()),Re(i)}}),r}function Rx(t){Ot.current=[],t();const e=ul(Ot.current,t);return Ot.current=void 0,e}function ta(t,e,r,i){if(typeof t=="function")return Rx(t);const n=typeof e=="function"?e:Ah(e,r,i);return Array.isArray(t)?sa(t,n):sa([t],([a])=>n(a))}function sa(t,e){const r=Et(()=>[]);return ul(t,()=>{r.length=0;const i=t.length;for(let n=0;n<i;n++)r[n]=t[n].get();return e(r)})}const Bx=({onBack:t})=>{const[e,r]=p.useState(0),{scrollY:i}=Dx(),n=ta(i,[0,300],[0,-100]),a=ta(i,[0,300],[0,100]),o=[{number:"01",title:"Sign Up",description:"Create your account and verify your email address",icon:ks,details:["Quick registration with email","Instant email verification","No personal documents required","Secure account setup"],color:"from-purple-500 to-pink-500"},{number:"02",title:"Watch Ads",description:"Enjoy short video ads and complete simple tasks",icon:qe,details:["25-30 second video ads","Gaming, tech, and app content","Simple engagement tasks","Earn while you learn"],color:"from-blue-500 to-cyan-500"},{number:"03",title:"Earn & Withdraw",description:"Get paid instantly and withdraw to your wallet",icon:dr,details:["Instant USDT payments","No minimum withdrawal","Multiple wallet support","24/7 withdrawal access"],color:"from-green-500 to-emerald-500"}],l=[{icon:hr,title:"Instant Payouts",desc:"Get paid within seconds"},{icon:yt,title:"Secure Platform",desc:"Bank-level security"},{icon:Se,title:"Global Access",desc:"Available worldwide"},{icon:Xe,title:"Daily Bonuses",desc:"Earn extra rewards"},{icon:Ce,title:"Referral Program",desc:"Invite friends & earn"},{icon:jt,title:"Real-time Stats",desc:"Track your earnings"}];return s.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-[#0f0c29] via-[#302b63] to-[#24243e] overflow-hidden",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[s.jsx(te.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-3xl",style:{y:n},animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),s.jsx(te.div,{className:"absolute top-3/4 right-1/4 w-64 h-64 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-full blur-2xl",style:{y:a},animate:{scale:[1,1.1,1],opacity:[.2,.5,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}})]}),s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-transparent backdrop-blur-xl border-b border-white/10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-20 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(te.button,{className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(ht,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Home"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(ce,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"CryptoRewards"})]})]})})}),s.jsx("div",{className:"relative z-10 pt-24 pb-16 px-6 lg:px-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsx(te.h1,{className:"text-4xl lg:text-6xl font-bold text-white mb-6",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},children:"How It Works"}),s.jsx(te.p,{className:"text-xl text-white/80 max-w-3xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},children:"Get started in three simple steps and begin earning crypto rewards"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20",children:o.map((c,d)=>s.jsx(te.div,{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 h-full cursor-pointer",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:d*.2},whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},onClick:()=>r(d),children:s.jsxs("div",{className:"text-center",children:[s.jsx(te.div,{className:`w-16 h-16 bg-gradient-to-br ${c.color} rounded-2xl flex items-center justify-center mx-auto mb-6 text-2xl font-bold text-white`,whileHover:{scale:1.1,rotate:360},transition:{duration:.5},children:c.number}),s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:c.title}),s.jsx("p",{className:"text-white/70 leading-relaxed mb-6",children:c.description}),s.jsx("div",{className:"space-y-3",children:c.details.map((h,m)=>s.jsxs(te.div,{className:"flex items-center space-x-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:m*.1},children:[s.jsx(xe,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),s.jsx("span",{className:"text-white/80 text-sm",children:h})]},m))})]})},d))}),s.jsxs(te.div,{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-8 border border-white/10 mb-20",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Interactive Demo"}),s.jsx("p",{className:"text-white/80",children:"Click on any step above to see detailed information"})]}),e!==null&&s.jsxs(te.div,{className:"text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:Ol.createElement(o[e].icon,{className:"w-12 h-12 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:o[e].title}),s.jsx("p",{className:"text-white/80 text-lg max-w-2xl mx-auto",children:o[e].description})]})]}),s.jsxs(te.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6",children:"Why Choose CryptoRewards?"}),s.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Discover the features that make us the leading choice for crypto earnings"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map((c,d)=>s.jsxs(te.div,{className:"text-center p-6 bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 hover:border-white/20 transition-all duration-300",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:d*.1},whileHover:{scale:1.05,boxShadow:"0 15px 35px rgba(0,0,0,0.2)"},children:[s.jsx(te.div,{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-4",whileHover:{scale:1.1,rotate:360},transition:{duration:.5},children:s.jsx(c.icon,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-white font-semibold text-sm mb-2",children:c.title}),s.jsx("p",{className:"text-white/70 text-xs",children:c.desc})]},d))})]})}),s.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20 bg-gradient-to-r from-purple-900/30 to-pink-900/30",children:s.jsxs(te.div,{className:"max-w-5xl mx-auto text-center",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},children:[s.jsx(te.h2,{className:"text-3xl lg:text-4xl font-bold text-white mb-6",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},children:"Ready to Start Earning?"}),s.jsx(te.p,{className:"text-xl text-white/80 mb-8 max-w-3xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},children:"Join thousands of users already earning passive income with CryptoRewards"}),s.jsx(te.button,{onClick:t,className:"bg-gradient-to-r from-green-400 to-emerald-500 text-black font-bold px-12 py-6 rounded-2xl text-xl hover:from-green-300 hover:to-emerald-400 transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-green-500/50",whileHover:{scale:1.1,boxShadow:"0 25px 50px rgba(34, 197, 94, 0.5)"},whileTap:{scale:.95},initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:"Get Started Now"})]})})]})};function Wt(t){let e=t[0],r=t[1],i=t[2];return Math.sqrt(e*e+r*r+i*i)}function Ir(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Mx(t,e,r,i){return t[0]=e,t[1]=r,t[2]=i,t}function ra(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function ia(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function Ix(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function Ux(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function ir(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function Lx(t,e){let r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}function Vx(t,e){let r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return r*r+i*i+n*n}function na(t){let e=t[0],r=t[1],i=t[2];return e*e+r*r+i*i}function Fx(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Ox(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Ur(t,e){let r=e[0],i=e[1],n=e[2],a=r*r+i*i+n*n;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function ml(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function aa(t,e,r){let i=e[0],n=e[1],a=e[2],o=r[0],l=r[1],c=r[2];return t[0]=n*c-a*l,t[1]=a*o-i*c,t[2]=i*l-n*o,t}function _x(t,e,r,i){let n=e[0],a=e[1],o=e[2];return t[0]=n+i*(r[0]-n),t[1]=a+i*(r[1]-a),t[2]=o+i*(r[2]-o),t}function $x(t,e,r,i,n){const a=Math.exp(-i*n);let o=e[0],l=e[1],c=e[2];return t[0]=r[0]+(o-r[0])*a,t[1]=r[1]+(l-r[1])*a,t[2]=r[2]+(c-r[2])*a,t}function Qx(t,e,r){let i=e[0],n=e[1],a=e[2],o=r[3]*i+r[7]*n+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/o,t[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/o,t[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/o,t}function Wx(t,e,r){let i=e[0],n=e[1],a=e[2],o=r[3]*i+r[7]*n+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*i+r[4]*n+r[8]*a)/o,t[1]=(r[1]*i+r[5]*n+r[9]*a)/o,t[2]=(r[2]*i+r[6]*n+r[10]*a)/o,t}function zx(t,e,r){let i=e[0],n=e[1],a=e[2];return t[0]=i*r[0]+n*r[3]+a*r[6],t[1]=i*r[1]+n*r[4]+a*r[7],t[2]=i*r[2]+n*r[5]+a*r[8],t}function Hx(t,e,r){let i=e[0],n=e[1],a=e[2],o=r[0],l=r[1],c=r[2],d=r[3],h=l*a-c*n,m=c*i-o*a,u=o*n-l*i,f=l*u-c*m,w=c*h-o*u,x=o*m-l*h,g=d*2;return h*=g,m*=g,u*=g,f*=2,w*=2,x*=2,t[0]=i+h+f,t[1]=n+m+w,t[2]=a+u+x,t}const Kx=function(){const t=[0,0,0],e=[0,0,0];return function(r,i){Ir(t,r),Ir(e,i),Ur(t,t),Ur(e,e);let n=ml(t,e);return n>1?0:n<-1?Math.PI:Math.acos(n)}}();function Yx(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class De extends Array{constructor(e=0,r=e,i=e){return super(e,r,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,r=e,i=e){return e.length?this.copy(e):(Mx(this,e,r,i),this)}copy(e){return Ir(this,e),this}add(e,r){return r?ra(this,e,r):ra(this,this,e),this}sub(e,r){return r?ia(this,e,r):ia(this,this,e),this}multiply(e){return e.length?Ix(this,this,e):ir(this,this,e),this}divide(e){return e.length?Ux(this,this,e):ir(this,this,1/e),this}inverse(e=this){return Ox(this,e),this}len(){return Wt(this)}distance(e){return e?Lx(this,e):Wt(this)}squaredLen(){return na(this)}squaredDistance(e){return e?Vx(this,e):na(this)}negate(e=this){return Fx(this,e),this}cross(e,r){return r?aa(this,e,r):aa(this,this,e),this}scale(e){return ir(this,this,e),this}normalize(){return Ur(this,this),this}dot(e){return ml(this,e)}equals(e){return Yx(this,e)}applyMatrix3(e){return zx(this,this,e),this}applyMatrix4(e){return Qx(this,this,e),this}scaleRotateMatrix4(e){return Wx(this,this,e),this}applyQuaternion(e){return Hx(this,this,e),this}angle(e){return Kx(this,e)}lerp(e,r){return _x(this,this,e,r),this}smoothLerp(e,r,i){return $x(this,this,e,r,i),this}clone(){return new De(this[0],this[1],this[2])}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}transformDirection(e){const r=this[0],i=this[1],n=this[2];return this[0]=e[0]*r+e[4]*i+e[8]*n,this[1]=e[1]*r+e[5]*i+e[9]*n,this[2]=e[2]*r+e[6]*i+e[10]*n,this.normalize()}}const oa=new De;let Gx=1,qx=1,la=!1;class Jx{constructor(e,r={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=r,this.id=Gx++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in r)this.addAttribute(i,r[i])}addAttribute(e,r){if(this.attributes[e]=r,r.id=qx++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.usage=r.usage||this.gl.STATIC_DRAW,r.buffer||this.updateAttribute(r),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else e==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(e){const r=!e.buffer;r&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),r?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((r,{name:i,type:n})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const a=this.attributes[i];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let o=1;n===35674&&(o=2),n===35675&&(o=3),n===35676&&(o=4);const l=a.size/o,c=o===1?0:o*o*4,d=o===1?0:o*4;for(let h=0;h<o;h++)this.gl.vertexAttribPointer(r+h,l,a.type,a.normalized,a.stride+c,a.offset+h*d),this.gl.enableVertexAttribArray(r+h),this.gl.renderer.vertexAttribDivisor(r+h,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:r=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((n,{name:a})=>{const o=this.attributes[a];o.needsUpdate&&this.updateAttribute(o)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!la)return console.warn("No position buffer data found to compute bounds"),la=!0}computeBoundingBox(e){e||(e=this.getPosition());const r=e.data,i=e.size;this.bounds||(this.bounds={min:new De,max:new De,center:new De,scale:new De,radius:1/0});const n=this.bounds.min,a=this.bounds.max,o=this.bounds.center,l=this.bounds.scale;n.set(1/0),a.set(-1/0);for(let c=0,d=r.length;c<d;c+=i){const h=r[c],m=r[c+1],u=r[c+2];n.x=Math.min(h,n.x),n.y=Math.min(m,n.y),n.z=Math.min(u,n.z),a.x=Math.max(h,a.x),a.y=Math.max(m,a.y),a.z=Math.max(u,a.z)}l.sub(a,n),o.add(n,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const r=e.data,i=e.size;this.bounds||this.computeBoundingBox(e);let n=0;for(let a=0,o=r.length;a<o;a+=i)oa.fromArray(r,a),n=Math.max(n,this.bounds.center.squaredDistance(oa));this.bounds.radius=Math.sqrt(n)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let Xx=1;const ca={};class Zx{constructor(e,{vertex:r,fragment:i,uniforms:n={},transparent:a=!1,cullFace:o=e.BACK,frontFace:l=e.CCW,depthTest:c=!0,depthWrite:d=!0,depthFunc:h=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=n,this.id=Xx++,r||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=o,this.frontFace=l,this.depthTest=c,this.depthWrite=d,this.depthFunc=h,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:r,fragment:i})}setShaders({vertex:e,fragment:r}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${da(e)}`)),r&&(this.gl.shaderSource(this.fragmentShader,r),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${da(r)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<i;o++){let l=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(l,this.gl.getUniformLocation(this.program,l.name));const c=l.name.match(/(\w+)/g);l.uniformName=c[0],l.nameComponents=c.slice(1)}this.attributeLocations=new Map;const n=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<a;o++){const l=this.gl.getActiveAttrib(this.program,o),c=this.gl.getAttribLocation(this.program,l.name);c!==-1&&(n[c]=l.name,this.attributeLocations.set(l,c))}this.attributeOrder=n.join("")}setBlendFunc(e,r,i,n){this.blendFunc.src=e,this.blendFunc.dst=r,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=n,e&&(this.transparent=!0)}setBlendEquation(e,r){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=r}setStencilFunc(e,r,i){this.stencilRef=r,this.stencilFunc.func=e,this.stencilFunc.ref=r,this.stencilFunc.mask=i}setStencilOp(e,r,i){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=r,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let r=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((n,a)=>{let o=this.uniforms[a.uniformName];for(const l of a.nameComponents){if(!o)break;if(l in o)o=o[l];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return ha(`Active uniform ${a.name} has not been supplied`);if(o&&o.value===void 0)return ha(`${a.name} uniform is missing a value parameter`);if(o.value.texture)return r=r+1,o.value.update(r),nr(this.gl,a.type,n,r);if(o.value.length&&o.value[0].texture){const l=[];return o.value.forEach(c=>{r=r+1,c.update(r),l.push(r)}),nr(this.gl,a.type,n,l)}nr(this.gl,a.type,n,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function nr(t,e,r,i){i=i.length?ef(i):i;const n=t.renderer.state.uniformLocations.get(r);if(i.length)if(n===void 0||n.length!==i.length)t.renderer.state.uniformLocations.set(r,i.slice(0));else{if(tf(n,i))return;n.set?n.set(i):sf(n,i),t.renderer.state.uniformLocations.set(r,n)}else{if(n===i)return;t.renderer.state.uniformLocations.set(r,i)}switch(e){case 5126:return i.length?t.uniform1fv(r,i):t.uniform1f(r,i);case 35664:return t.uniform2fv(r,i);case 35665:return t.uniform3fv(r,i);case 35666:return t.uniform4fv(r,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?t.uniform1iv(r,i):t.uniform1i(r,i);case 35671:case 35667:return t.uniform2iv(r,i);case 35672:case 35668:return t.uniform3iv(r,i);case 35673:case 35669:return t.uniform4iv(r,i);case 35674:return t.uniformMatrix2fv(r,!1,i);case 35675:return t.uniformMatrix3fv(r,!1,i);case 35676:return t.uniformMatrix4fv(r,!1,i)}}function da(t){let e=t.split(`
`);for(let r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join(`
`)}function ef(t){const e=t.length,r=t[0].length;if(r===void 0)return t;const i=e*r;let n=ca[i];n||(ca[i]=n=new Float32Array(i));for(let a=0;a<e;a++)n.set(t[a],a*r);return n}function tf(t,e){if(t.length!==e.length)return!1;for(let r=0,i=t.length;r<i;r++)if(t[r]!==e[r])return!1;return!0}function sf(t,e){for(let r=0,i=t.length;r<i;r++)t[r]=e[r]}let ar=0;function ha(t){ar>100||(console.warn(t),ar++,ar>100&&console.warn("More than 100 program warnings - stopping logs."))}const or=new De;let rf=1;class nf{constructor({canvas:e=document.createElement("canvas"),width:r=300,height:i=150,dpr:n=1,alpha:a=!1,depth:o=!0,stencil:l=!1,antialias:c=!1,premultipliedAlpha:d=!1,preserveDrawingBuffer:h=!1,powerPreference:m="default",autoClear:u=!0,webgl:f=2}={}){const w={alpha:a,depth:o,stencil:l,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:h,powerPreference:m};this.dpr=n,this.alpha=a,this.color=!0,this.depth=o,this.stencil=l,this.premultipliedAlpha=d,this.autoClear=u,this.id=rf++,f===2&&(this.gl=e.getContext("webgl2",w)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",w)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,r){this.width=e,this.height=r,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=r*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:r+"px"})}setViewport(e,r,i=0,n=0){this.state.viewport.width===e&&this.state.viewport.height===r||(this.state.viewport.width=e,this.state.viewport.height=r,this.state.viewport.x=i,this.state.viewport.y=n,this.gl.viewport(i,n,e,r))}setScissor(e,r,i=0,n=0){this.gl.scissor(i,n,e,r)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,r,i,n){this.state.blendFunc.src===e&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===n||(this.state.blendFunc.src=e,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=n,i!==void 0?this.gl.blendFuncSeparate(e,r,i,n):this.gl.blendFunc(e,r))}setBlendEquation(e,r){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(e,r):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,r,i){this.state.stencilFunc===e&&this.state.stencilRef===r&&this.state.stencilFuncMask===i||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=r||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(e||this.gl.ALWAYS,r||0,i||0))}setStencilOp(e,r,i){this.state.stencilFail===e&&this.state.stencilDepthFail===r&&this.state.stencilDepthPass===i||(this.state.stencilFail=e,this.state.stencilDepthFail=r,this.state.stencilDepthPass=i,this.gl.stencilOp(e,r,i))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(e,r))}getExtension(e,r,i){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),r?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:e.zDepth!==r.zDepth?e.zDepth-r.zDepth:r.id-e.id}sortTransparent(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.zDepth!==r.zDepth?r.zDepth-e.zDepth:r.id-e.id}sortUI(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:r.id-e.id}getRenderList({scene:e,camera:r,frustumCull:i,sort:n}){let a=[];if(r&&i&&r.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(i&&o.frustumCulled&&r&&!r.frustumIntersectsMesh(o)||a.push(o))}),n){const o=[],l=[],c=[];a.forEach(d=>{d.program.transparent?d.program.depthTest?l.push(d):c.push(d):o.push(d),d.zDepth=0,!(d.renderOrder!==0||!d.program.depthTest||!r)&&(d.worldMatrix.getTranslation(or),or.applyMatrix4(r.projectionViewMatrix),d.zDepth=or.z)}),o.sort(this.sortOpaque),l.sort(this.sortTransparent),c.sort(this.sortUI),a=o.concat(l,c)}return a}render({scene:e,camera:r,target:i=null,update:n=!0,sort:a=!0,frustumCull:o=!0,clear:l}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(l||this.autoClear&&l!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),n&&e.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:e,camera:r,frustumCull:o,sort:a}).forEach(d=>{d.draw({camera:r})})}}function af(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function of(t,e,r,i,n){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t}function lf(t,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=r*r+i*i+n*n+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=i*o,t[2]=n*o,t[3]=a*o,t}function cf(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function df(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function hf(t,e,r){r=r*.5;let i=Math.sin(r);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(r),t}function ua(t,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=r[0],c=r[1],d=r[2],h=r[3];return t[0]=i*h+o*l+n*d-a*c,t[1]=n*h+o*c+a*l-i*d,t[2]=a*h+o*d+i*c-n*l,t[3]=o*h-i*l-n*c-a*d,t}function uf(t,e,r){r*=.5;let i=e[0],n=e[1],a=e[2],o=e[3],l=Math.sin(r),c=Math.cos(r);return t[0]=i*c+o*l,t[1]=n*c+a*l,t[2]=a*c-n*l,t[3]=o*c-i*l,t}function mf(t,e,r){r*=.5;let i=e[0],n=e[1],a=e[2],o=e[3],l=Math.sin(r),c=Math.cos(r);return t[0]=i*c-a*l,t[1]=n*c+o*l,t[2]=a*c+i*l,t[3]=o*c-n*l,t}function xf(t,e,r){r*=.5;let i=e[0],n=e[1],a=e[2],o=e[3],l=Math.sin(r),c=Math.cos(r);return t[0]=i*c+n*l,t[1]=n*c-i*l,t[2]=a*c+o*l,t[3]=o*c-a*l,t}function ff(t,e,r,i){let n=e[0],a=e[1],o=e[2],l=e[3],c=r[0],d=r[1],h=r[2],m=r[3],u,f,w,x,g;return f=n*c+a*d+o*h+l*m,f<0&&(f=-f,c=-c,d=-d,h=-h,m=-m),1-f>1e-6?(u=Math.acos(f),w=Math.sin(u),x=Math.sin((1-i)*u)/w,g=Math.sin(i*u)/w):(x=1-i,g=i),t[0]=x*n+g*c,t[1]=x*a+g*d,t[2]=x*o+g*h,t[3]=x*l+g*m,t}function pf(t,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=r*r+i*i+n*n+a*a,l=o?1/o:0;return t[0]=-r*l,t[1]=-i*l,t[2]=-n*l,t[3]=a*l,t}function gf(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function bf(t,e){let r=e[0]+e[4]+e[8],i;if(r>0)i=Math.sqrt(r+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[n*3+n]&&(n=2);let a=(n+1)%3,o=(n+2)%3;i=Math.sqrt(e[n*3+n]-e[a*3+a]-e[o*3+o]+1),t[n]=.5*i,i=.5/i,t[3]=(e[a*3+o]-e[o*3+a])*i,t[a]=(e[a*3+n]+e[n*3+a])*i,t[o]=(e[o*3+n]+e[n*3+o])*i}return t}function wf(t,e,r="YXZ"){let i=Math.sin(e[0]*.5),n=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),l=Math.sin(e[2]*.5),c=Math.cos(e[2]*.5);return r==="XYZ"?(t[0]=i*o*c+n*a*l,t[1]=n*a*c-i*o*l,t[2]=n*o*l+i*a*c,t[3]=n*o*c-i*a*l):r==="YXZ"?(t[0]=i*o*c+n*a*l,t[1]=n*a*c-i*o*l,t[2]=n*o*l-i*a*c,t[3]=n*o*c+i*a*l):r==="ZXY"?(t[0]=i*o*c-n*a*l,t[1]=n*a*c+i*o*l,t[2]=n*o*l+i*a*c,t[3]=n*o*c-i*a*l):r==="ZYX"?(t[0]=i*o*c-n*a*l,t[1]=n*a*c+i*o*l,t[2]=n*o*l-i*a*c,t[3]=n*o*c+i*a*l):r==="YZX"?(t[0]=i*o*c+n*a*l,t[1]=n*a*c+i*o*l,t[2]=n*o*l-i*a*c,t[3]=n*o*c-i*a*l):r==="XZY"&&(t[0]=i*o*c-n*a*l,t[1]=n*a*c-i*o*l,t[2]=n*o*l+i*a*c,t[3]=n*o*c+i*a*l),t}const yf=af,vf=of,jf=cf,Nf=lf;class Af extends Array{constructor(e=0,r=0,i=0,n=1){super(e,r,i,n),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(o,l){const c=Reflect.set(...arguments);return c&&a.includes(l)&&o.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return df(this._target),this.onChange(),this}set(e,r,i,n){return e.length?this.copy(e):(vf(this._target,e,r,i,n),this.onChange(),this)}rotateX(e){return uf(this._target,this._target,e),this.onChange(),this}rotateY(e){return mf(this._target,this._target,e),this.onChange(),this}rotateZ(e){return xf(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return pf(this._target,e),this.onChange(),this}conjugate(e=this._target){return gf(this._target,e),this.onChange(),this}copy(e){return yf(this._target,e),this.onChange(),this}normalize(e=this._target){return Nf(this._target,e),this.onChange(),this}multiply(e,r){return r?ua(this._target,e,r):ua(this._target,this._target,e),this.onChange(),this}dot(e){return jf(this._target,e)}fromMatrix3(e){return bf(this._target,e),this.onChange(),this}fromEuler(e,r){return wf(this._target,e,e.order),r||this.onChange(),this}fromAxisAngle(e,r){return hf(this._target,e,r),this.onChange(),this}slerp(e,r){return ff(this._target,this._target,e,r),this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this._target[3]=e[r+3],this.onChange(),this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e}}const Sf=1e-6;function Cf(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ef(t,e,r,i,n,a,o,l,c,d,h,m,u,f,w,x,g){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t[4]=a,t[5]=o,t[6]=l,t[7]=c,t[8]=d,t[9]=h,t[10]=m,t[11]=u,t[12]=f,t[13]=w,t[14]=x,t[15]=g,t}function kf(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Tf(t,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=e[4],l=e[5],c=e[6],d=e[7],h=e[8],m=e[9],u=e[10],f=e[11],w=e[12],x=e[13],g=e[14],b=e[15],S=r*l-i*o,j=r*c-n*o,k=r*d-a*o,C=i*c-n*l,y=i*d-a*l,N=n*d-a*c,A=h*x-m*w,D=h*g-u*w,E=h*b-f*w,V=m*g-u*x,R=m*b-f*x,F=u*b-f*g,P=S*F-j*R+k*V+C*E-y*D+N*A;return P?(P=1/P,t[0]=(l*F-c*R+d*V)*P,t[1]=(n*R-i*F-a*V)*P,t[2]=(x*N-g*y+b*C)*P,t[3]=(u*y-m*N-f*C)*P,t[4]=(c*E-o*F-d*D)*P,t[5]=(r*F-n*E+a*D)*P,t[6]=(g*k-w*N-b*j)*P,t[7]=(h*N-u*k+f*j)*P,t[8]=(o*R-l*E+d*A)*P,t[9]=(i*E-r*R-a*A)*P,t[10]=(w*y-x*k+b*S)*P,t[11]=(m*k-h*y-f*S)*P,t[12]=(l*D-o*V-c*A)*P,t[13]=(r*V-i*D+n*A)*P,t[14]=(x*j-w*C-g*S)*P,t[15]=(h*C-m*j+u*S)*P,t):null}function xl(t){let e=t[0],r=t[1],i=t[2],n=t[3],a=t[4],o=t[5],l=t[6],c=t[7],d=t[8],h=t[9],m=t[10],u=t[11],f=t[12],w=t[13],x=t[14],g=t[15],b=e*o-r*a,S=e*l-i*a,j=e*c-n*a,k=r*l-i*o,C=r*c-n*o,y=i*c-n*l,N=d*w-h*f,A=d*x-m*f,D=d*g-u*f,E=h*x-m*w,V=h*g-u*w,R=m*g-u*x;return b*R-S*V+j*E+k*D-C*A+y*N}function ma(t,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=e[4],c=e[5],d=e[6],h=e[7],m=e[8],u=e[9],f=e[10],w=e[11],x=e[12],g=e[13],b=e[14],S=e[15],j=r[0],k=r[1],C=r[2],y=r[3];return t[0]=j*i+k*l+C*m+y*x,t[1]=j*n+k*c+C*u+y*g,t[2]=j*a+k*d+C*f+y*b,t[3]=j*o+k*h+C*w+y*S,j=r[4],k=r[5],C=r[6],y=r[7],t[4]=j*i+k*l+C*m+y*x,t[5]=j*n+k*c+C*u+y*g,t[6]=j*a+k*d+C*f+y*b,t[7]=j*o+k*h+C*w+y*S,j=r[8],k=r[9],C=r[10],y=r[11],t[8]=j*i+k*l+C*m+y*x,t[9]=j*n+k*c+C*u+y*g,t[10]=j*a+k*d+C*f+y*b,t[11]=j*o+k*h+C*w+y*S,j=r[12],k=r[13],C=r[14],y=r[15],t[12]=j*i+k*l+C*m+y*x,t[13]=j*n+k*c+C*u+y*g,t[14]=j*a+k*d+C*f+y*b,t[15]=j*o+k*h+C*w+y*S,t}function Df(t,e,r){let i=r[0],n=r[1],a=r[2],o,l,c,d,h,m,u,f,w,x,g,b;return e===t?(t[12]=e[0]*i+e[4]*n+e[8]*a+e[12],t[13]=e[1]*i+e[5]*n+e[9]*a+e[13],t[14]=e[2]*i+e[6]*n+e[10]*a+e[14],t[15]=e[3]*i+e[7]*n+e[11]*a+e[15]):(o=e[0],l=e[1],c=e[2],d=e[3],h=e[4],m=e[5],u=e[6],f=e[7],w=e[8],x=e[9],g=e[10],b=e[11],t[0]=o,t[1]=l,t[2]=c,t[3]=d,t[4]=h,t[5]=m,t[6]=u,t[7]=f,t[8]=w,t[9]=x,t[10]=g,t[11]=b,t[12]=o*i+h*n+w*a+e[12],t[13]=l*i+m*n+x*a+e[13],t[14]=c*i+u*n+g*a+e[14],t[15]=d*i+f*n+b*a+e[15]),t}function Pf(t,e,r){let i=r[0],n=r[1],a=r[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Rf(t,e,r,i){let n=i[0],a=i[1],o=i[2],l=Math.hypot(n,a,o),c,d,h,m,u,f,w,x,g,b,S,j,k,C,y,N,A,D,E,V,R,F,P,T;return Math.abs(l)<Sf?null:(l=1/l,n*=l,a*=l,o*=l,c=Math.sin(r),d=Math.cos(r),h=1-d,m=e[0],u=e[1],f=e[2],w=e[3],x=e[4],g=e[5],b=e[6],S=e[7],j=e[8],k=e[9],C=e[10],y=e[11],N=n*n*h+d,A=a*n*h+o*c,D=o*n*h-a*c,E=n*a*h-o*c,V=a*a*h+d,R=o*a*h+n*c,F=n*o*h+a*c,P=a*o*h-n*c,T=o*o*h+d,t[0]=m*N+x*A+j*D,t[1]=u*N+g*A+k*D,t[2]=f*N+b*A+C*D,t[3]=w*N+S*A+y*D,t[4]=m*E+x*V+j*R,t[5]=u*E+g*V+k*R,t[6]=f*E+b*V+C*R,t[7]=w*E+S*V+y*R,t[8]=m*F+x*P+j*T,t[9]=u*F+g*P+k*T,t[10]=f*F+b*P+C*T,t[11]=w*F+S*P+y*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Bf(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function fl(t,e){let r=e[0],i=e[1],n=e[2],a=e[4],o=e[5],l=e[6],c=e[8],d=e[9],h=e[10];return t[0]=Math.hypot(r,i,n),t[1]=Math.hypot(a,o,l),t[2]=Math.hypot(c,d,h),t}function Mf(t){let e=t[0],r=t[1],i=t[2],n=t[4],a=t[5],o=t[6],l=t[8],c=t[9],d=t[10];const h=e*e+r*r+i*i,m=n*n+a*a+o*o,u=l*l+c*c+d*d;return Math.sqrt(Math.max(h,m,u))}const pl=function(){const t=[1,1,1];return function(e,r){let i=t;fl(i,r);let n=1/i[0],a=1/i[1],o=1/i[2],l=r[0]*n,c=r[1]*a,d=r[2]*o,h=r[4]*n,m=r[5]*a,u=r[6]*o,f=r[8]*n,w=r[9]*a,x=r[10]*o,g=l+m+x,b=0;return g>0?(b=Math.sqrt(g+1)*2,e[3]=.25*b,e[0]=(u-w)/b,e[1]=(f-d)/b,e[2]=(c-h)/b):l>m&&l>x?(b=Math.sqrt(1+l-m-x)*2,e[3]=(u-w)/b,e[0]=.25*b,e[1]=(c+h)/b,e[2]=(f+d)/b):m>x?(b=Math.sqrt(1+m-l-x)*2,e[3]=(f-d)/b,e[0]=(c+h)/b,e[1]=.25*b,e[2]=(u+w)/b):(b=Math.sqrt(1+x-l-m)*2,e[3]=(c-h)/b,e[0]=(f+d)/b,e[1]=(u+w)/b,e[2]=.25*b),e}}();function If(t,e,r,i){let n=Wt([t[0],t[1],t[2]]);const a=Wt([t[4],t[5],t[6]]),o=Wt([t[8],t[9],t[10]]);xl(t)<0&&(n=-n),r[0]=t[12],r[1]=t[13],r[2]=t[14];const c=t.slice(),d=1/n,h=1/a,m=1/o;c[0]*=d,c[1]*=d,c[2]*=d,c[4]*=h,c[5]*=h,c[6]*=h,c[8]*=m,c[9]*=m,c[10]*=m,pl(e,c),i[0]=n,i[1]=a,i[2]=o}function Uf(t,e,r,i){const n=t,a=e[0],o=e[1],l=e[2],c=e[3],d=a+a,h=o+o,m=l+l,u=a*d,f=a*h,w=a*m,x=o*h,g=o*m,b=l*m,S=c*d,j=c*h,k=c*m,C=i[0],y=i[1],N=i[2];return n[0]=(1-(x+b))*C,n[1]=(f+k)*C,n[2]=(w-j)*C,n[3]=0,n[4]=(f-k)*y,n[5]=(1-(u+b))*y,n[6]=(g+S)*y,n[7]=0,n[8]=(w+j)*N,n[9]=(g-S)*N,n[10]=(1-(u+x))*N,n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function Lf(t,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=r+r,l=i+i,c=n+n,d=r*o,h=i*o,m=i*l,u=n*o,f=n*l,w=n*c,x=a*o,g=a*l,b=a*c;return t[0]=1-m-w,t[1]=h+b,t[2]=u-g,t[3]=0,t[4]=h-b,t[5]=1-d-w,t[6]=f+x,t[7]=0,t[8]=u+g,t[9]=f-x,t[10]=1-d-m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Vf(t,e,r,i,n){let a=1/Math.tan(e/2),o=1/(i-n);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+i)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*i*o,t[15]=0,t}function Ff(t,e,r,i,n,a,o){let l=1/(e-r),c=1/(i-n),d=1/(a-o);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+r)*l,t[13]=(n+i)*c,t[14]=(o+a)*d,t[15]=1,t}function Of(t,e,r,i){let n=e[0],a=e[1],o=e[2],l=i[0],c=i[1],d=i[2],h=n-r[0],m=a-r[1],u=o-r[2],f=h*h+m*m+u*u;f===0?u=1:(f=1/Math.sqrt(f),h*=f,m*=f,u*=f);let w=c*u-d*m,x=d*h-l*u,g=l*m-c*h;return f=w*w+x*x+g*g,f===0&&(d?l+=1e-6:c?d+=1e-6:c+=1e-6,w=c*u-d*m,x=d*h-l*u,g=l*m-c*h,f=w*w+x*x+g*g),f=1/Math.sqrt(f),w*=f,x*=f,g*=f,t[0]=w,t[1]=x,t[2]=g,t[3]=0,t[4]=m*g-u*x,t[5]=u*w-h*g,t[6]=h*x-m*w,t[7]=0,t[8]=h,t[9]=m,t[10]=u,t[11]=0,t[12]=n,t[13]=a,t[14]=o,t[15]=1,t}function xa(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function fa(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function _f(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}class Cs extends Array{constructor(e=1,r=0,i=0,n=0,a=0,o=1,l=0,c=0,d=0,h=0,m=1,u=0,f=0,w=0,x=0,g=1){return super(e,r,i,n,a,o,l,c,d,h,m,u,f,w,x,g),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,r,i,n,a,o,l,c,d,h,m,u,f,w,x,g){return e.length?this.copy(e):(Ef(this,e,r,i,n,a,o,l,c,d,h,m,u,f,w,x,g),this)}translate(e,r=this){return Df(this,r,e),this}rotate(e,r,i=this){return Rf(this,i,e,r),this}scale(e,r=this){return Pf(this,r,typeof e=="number"?[e,e,e]:e),this}add(e,r){return r?xa(this,e,r):xa(this,this,e),this}sub(e,r){return r?fa(this,e,r):fa(this,this,e),this}multiply(e,r){return e.length?r?ma(this,e,r):ma(this,this,e):_f(this,this,e),this}identity(){return kf(this),this}copy(e){return Cf(this,e),this}fromPerspective({fov:e,aspect:r,near:i,far:n}={}){return Vf(this,e,r,i,n),this}fromOrthogonal({left:e,right:r,bottom:i,top:n,near:a,far:o}){return Ff(this,e,r,i,n,a,o),this}fromQuaternion(e){return Lf(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return Tf(this,e),this}compose(e,r,i){return Uf(this,e,r,i),this}decompose(e,r,i){return If(this,e,r,i),this}getRotation(e){return pl(e,this),this}getTranslation(e){return Bf(e,this),this}getScaling(e){return fl(e,this),this}getMaxScaleOnAxis(){return Mf(this)}lookAt(e,r,i){return Of(this,e,r,i),this}determinant(){return xl(this)}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this[3]=e[r+3],this[4]=e[r+4],this[5]=e[r+5],this[6]=e[r+6],this[7]=e[r+7],this[8]=e[r+8],this[9]=e[r+9],this[10]=e[r+10],this[11]=e[r+11],this[12]=e[r+12],this[13]=e[r+13],this[14]=e[r+14],this[15]=e[r+15],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e[r+4]=this[4],e[r+5]=this[5],e[r+6]=this[6],e[r+7]=this[7],e[r+8]=this[8],e[r+9]=this[9],e[r+10]=this[10],e[r+11]=this[11],e[r+12]=this[12],e[r+13]=this[13],e[r+14]=this[14],e[r+15]=this[15],e}}function $f(t,e,r="YXZ"){return r==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):r==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):r==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):r==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):r==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):r==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const pa=new Cs;class Qf extends Array{constructor(e=0,r=e,i=e,n="YXZ"){super(e,r,i),this.order=n,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(o,l){const c=Reflect.set(...arguments);return c&&a.includes(l)&&o.onChange(),c}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,r=e,i=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=r,this._target[2]=i,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,r=this.order){return $f(this._target,e,r),this.onChange(),this}fromQuaternion(e,r=this.order,i){return pa.fromQuaternion(e),this._target.fromRotationMatrix(pa,r),i||this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}}class Wf{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Cs,this.worldMatrix=new Cs,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new De,this.quaternion=new Af,this.scale=new De(1),this.rotation=new Qf,this.up=new De(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,r=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,r&&e&&e.addChild(this,!1)}addChild(e,r=!0){~this.children.indexOf(e)||this.children.push(e),r&&e.setParent(this,!1)}removeChild(e,r=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),r&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let r=0,i=this.children.length;r<i;r++)this.children[r].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let r=0,i=this.children.length;r<i;r++)this.children[r].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,r=!1){r?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function zf(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Hf(t,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=r+r,l=i+i,c=n+n,d=r*o,h=i*o,m=i*l,u=n*o,f=n*l,w=n*c,x=a*o,g=a*l,b=a*c;return t[0]=1-m-w,t[3]=h-b,t[6]=u+g,t[1]=h+b,t[4]=1-d-w,t[7]=f-x,t[2]=u-g,t[5]=f+x,t[8]=1-d-m,t}function Kf(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Yf(t,e,r,i,n,a,o,l,c,d){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t[4]=a,t[5]=o,t[6]=l,t[7]=c,t[8]=d,t}function Gf(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function qf(t,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=e[4],l=e[5],c=e[6],d=e[7],h=e[8],m=h*o-l*d,u=-h*a+l*c,f=d*a-o*c,w=r*m+i*u+n*f;return w?(w=1/w,t[0]=m*w,t[1]=(-h*i+n*d)*w,t[2]=(l*i-n*o)*w,t[3]=u*w,t[4]=(h*r-n*c)*w,t[5]=(-l*r+n*a)*w,t[6]=f*w,t[7]=(-d*r+i*c)*w,t[8]=(o*r-i*a)*w,t):null}function ga(t,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=e[4],c=e[5],d=e[6],h=e[7],m=e[8],u=r[0],f=r[1],w=r[2],x=r[3],g=r[4],b=r[5],S=r[6],j=r[7],k=r[8];return t[0]=u*i+f*o+w*d,t[1]=u*n+f*l+w*h,t[2]=u*a+f*c+w*m,t[3]=x*i+g*o+b*d,t[4]=x*n+g*l+b*h,t[5]=x*a+g*c+b*m,t[6]=S*i+j*o+k*d,t[7]=S*n+j*l+k*h,t[8]=S*a+j*c+k*m,t}function Jf(t,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=e[4],c=e[5],d=e[6],h=e[7],m=e[8],u=r[0],f=r[1];return t[0]=i,t[1]=n,t[2]=a,t[3]=o,t[4]=l,t[5]=c,t[6]=u*i+f*o+d,t[7]=u*n+f*l+h,t[8]=u*a+f*c+m,t}function Xf(t,e,r){let i=e[0],n=e[1],a=e[2],o=e[3],l=e[4],c=e[5],d=e[6],h=e[7],m=e[8],u=Math.sin(r),f=Math.cos(r);return t[0]=f*i+u*o,t[1]=f*n+u*l,t[2]=f*a+u*c,t[3]=f*o-u*i,t[4]=f*l-u*n,t[5]=f*c-u*a,t[6]=d,t[7]=h,t[8]=m,t}function Zf(t,e,r){let i=r[0],n=r[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ep(t,e){let r=e[0],i=e[1],n=e[2],a=e[3],o=e[4],l=e[5],c=e[6],d=e[7],h=e[8],m=e[9],u=e[10],f=e[11],w=e[12],x=e[13],g=e[14],b=e[15],S=r*l-i*o,j=r*c-n*o,k=r*d-a*o,C=i*c-n*l,y=i*d-a*l,N=n*d-a*c,A=h*x-m*w,D=h*g-u*w,E=h*b-f*w,V=m*g-u*x,R=m*b-f*x,F=u*b-f*g,P=S*F-j*R+k*V+C*E-y*D+N*A;return P?(P=1/P,t[0]=(l*F-c*R+d*V)*P,t[1]=(c*E-o*F-d*D)*P,t[2]=(o*R-l*E+d*A)*P,t[3]=(n*R-i*F-a*V)*P,t[4]=(r*F-n*E+a*D)*P,t[5]=(i*E-r*R-a*A)*P,t[6]=(x*N-g*y+b*C)*P,t[7]=(g*k-w*N-b*j)*P,t[8]=(w*y-x*k+b*S)*P,t):null}class tp extends Array{constructor(e=1,r=0,i=0,n=0,a=1,o=0,l=0,c=0,d=1){return super(e,r,i,n,a,o,l,c,d),this}set(e,r,i,n,a,o,l,c,d){return e.length?this.copy(e):(Yf(this,e,r,i,n,a,o,l,c,d),this)}translate(e,r=this){return Jf(this,r,e),this}rotate(e,r=this){return Xf(this,r,e),this}scale(e,r=this){return Zf(this,r,e),this}multiply(e,r){return r?ga(this,e,r):ga(this,this,e),this}identity(){return Gf(this),this}copy(e){return Kf(this,e),this}fromMatrix4(e){return zf(this,e),this}fromQuaternion(e){return Hf(this,e),this}fromBasis(e,r,i){return this.set(e[0],e[1],e[2],r[0],r[1],r[2],i[0],i[1],i[2]),this}inverse(e=this){return qf(this,e),this}getNormalMatrix(e){return ep(this,e),this}}let sp=0;class rp extends Wf{constructor(e,{geometry:r,program:i,mode:n=e.TRIANGLES,frustumCulled:a=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=sp++,this.geometry=r,this.program=i,this.mode=n,this.frustumCulled=a,this.renderOrder=o,this.modelViewMatrix=new Cs,this.normalMatrix=new tp,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}));let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}))}}const ba={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function wa(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function ip(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function ya(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?wa(t):ba[t.toLowerCase()]?wa(ba[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):ip(t)}class va extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...ya(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(ya(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class np extends Jx{constructor(e,{attributes:r={}}={}){Object.assign(r,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,r)}}const ap=`#version 300 es
in vec2 position;
void main() {
  gl_Position = vec4(position, 0.0, 1.0);
}
`,op=`#version 300 es
precision highp float;

uniform float uTime;
uniform float uAmplitude;
uniform vec3 uColorStops[3];
uniform vec2 uResolution;
uniform float uBlend;

out vec4 fragColor;

vec3 permute(vec3 x) {
  return mod(((x * 34.0) + 1.0) * x, 289.0);
}

float snoise(vec2 v){
  const vec4 C = vec4(
      0.211324865405187, 0.366025403784439,
      -0.577350269189626, 0.024390243902439
  );
  vec2 i  = floor(v + dot(v, C.yy));
  vec2 x0 = v - i + dot(i, C.xx);
  vec2 i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
  vec4 x12 = x0.xyxy + C.xxzz;
  x12.xy -= i1;
  i = mod(i, 289.0);

  vec3 p = permute(
      permute(i.y + vec3(0.0, i1.y, 1.0))
    + i.x + vec3(0.0, i1.x, 1.0)
  );

  vec3 m = max(
      0.5 - vec3(
          dot(x0, x0),
          dot(x12.xy, x12.xy),
          dot(x12.zw, x12.zw)
      ), 
      0.0
  );
  m = m * m;
  m = m * m;

  vec3 x = 2.0 * fract(p * C.www) - 1.0;
  vec3 h = abs(x) - 0.5;
  vec3 ox = floor(x + 0.5);
  vec3 a0 = x - ox;
  m *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);

  vec3 g;
  g.x  = a0.x  * x0.x  + h.x  * x0.y;
  g.yz = a0.yz * x12.xz + h.yz * x12.yw;
  return 130.0 * dot(m, g);
}

struct ColorStop {
  vec3 color;
  float position;
};

#define COLOR_RAMP(colors, factor, finalColor) {                int index = 0;                                              for (int i = 0; i < 2; i++) {                                    ColorStop currentColor = colors[i];                         bool isInBetween = currentColor.position <= factor;         index = int(mix(float(index), float(i), float(isInBetween)));   }                                                           ColorStop currentColor = colors[index];                     ColorStop nextColor = colors[index + 1];                    float range = nextColor.position - currentColor.position;   float lerpFactor = (factor - currentColor.position) / range;   finalColor = mix(currentColor.color, nextColor.color, lerpFactor); }

void main() {
  vec2 uv = gl_FragCoord.xy / uResolution;
  
  ColorStop colors[3];
  colors[0] = ColorStop(uColorStops[0], 0.0);
  colors[1] = ColorStop(uColorStops[1], 0.5);
  colors[2] = ColorStop(uColorStops[2], 1.0);
  
  vec3 rampColor;
  COLOR_RAMP(colors, uv.x, rampColor);
  
  float height = snoise(vec2(uv.x * 2.0 + uTime * 0.1, uTime * 0.25)) * 0.5 * uAmplitude;
  height = exp(height);
  height = (uv.y * 2.0 - height + 0.2);
  float intensity = 0.6 * height;
  
  float midPoint = 0.20;
  float auroraAlpha = smoothstep(midPoint - uBlend * 0.5, midPoint + uBlend * 0.5, intensity);
  
  vec3 auroraColor = intensity * rampColor;
  
  fragColor = vec4(auroraColor * auroraAlpha, auroraAlpha);
}
`;function ze(t){const{colorStops:e=["#5227FF","#7cff67","#5227FF"],amplitude:r=1,blend:i=.5}=t,n=p.useRef(t);n.current=t;const a=p.useRef(null);return p.useEffect(()=>{const o=a.current;if(!o)return;const l=new nf({alpha:!0,premultipliedAlpha:!0,antialias:!0}),c=l.gl;c.clearColor(0,0,0,0),c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),c.canvas.style.backgroundColor="transparent";let d;function h(){if(!o)return;const g=o.offsetWidth,b=o.offsetHeight;l.setSize(g,b),d&&(d.uniforms.uResolution.value=[g,b])}window.addEventListener("resize",h);const m=new np(c);m.attributes.uv&&delete m.attributes.uv;const u=e.map(g=>{const b=new va(g);return[b.r,b.g,b.b]});d=new Zx(c,{vertex:ap,fragment:op,uniforms:{uTime:{value:0},uAmplitude:{value:r},uColorStops:{value:u},uResolution:{value:[o.offsetWidth,o.offsetHeight]},uBlend:{value:i}}});const f=new rp(c,{geometry:m,program:d});o.appendChild(c.canvas);let w=0;const x=g=>{w=requestAnimationFrame(x);const{time:b=g*.01,speed:S=1}=n.current;d.uniforms.uTime.value=b*S*.1,d.uniforms.uAmplitude.value=n.current.amplitude??1,d.uniforms.uBlend.value=n.current.blend??i;const j=n.current.colorStops??e;d.uniforms.uColorStops.value=j.map(k=>{const C=new va(k);return[C.r,C.g,C.b]}),l.render({scene:f})};return w=requestAnimationFrame(x),h(),()=>{cancelAnimationFrame(w),window.removeEventListener("resize",h),o&&c.canvas.parentNode===o&&o.removeChild(c.canvas),c.getExtension("WEBGL_lose_context")?.loseContext()}},[r]),s.jsx("div",{ref:a,className:"aurora-container"})}const lp=({onAuth:t})=>{const e=Ts(),[r,i]=p.useState(!1),[n,a]=p.useState(!1);p.useState(!1),p.useState(!1),p.useState(!1),p.useState(!1),p.useState(!1),p.useState(!1);const[o,l]=p.useState({x:0,y:0}),[c,d]=p.useState("home"),m=new URLSearchParams(window.location.search).get("ref");B.getCurrentUser();const u=()=>{t(m||void 0)};p.useEffect(()=>{const g=b=>{l({x:b.clientX,y:b.clientY})};return window.addEventListener("mousemove",g),()=>window.removeEventListener("mousemove",g)},[]);const f=[{icon:qe,title:"Watch Short Ads",description:"Enjoy 25-30 second video ads covering gaming, tech, apps, and more"},{icon:ce,title:"Earn USDT Instantly",description:"Get paid immediately after watching each ad - no delays or hidden fees"},{icon:Qe,title:"Daily Streak Bonuses",description:"Unlock extra rewards for consistent daily engagement"},{icon:yt,title:"Secure & Trusted",description:"Top-tier security with instant withdrawals to any USDT wallet"},{icon:Ce,title:"Referral Rewards",description:"Earn passive income by referring friends to the platform"},{icon:jt,title:"Real-Time Dashboard",description:"Track your earnings with live statistics and progress monitoring"}],w=["Beginner-Friendly Interface","Worldwide Access","No Hidden Fees","Instant Withdrawals","24/7 Support"],x=[{rate:"22,398+",amount:"Active Users"},{rate:"$5,213+",amount:"Daily Payouts"},{rate:"$2.4M+",amount:"Total Earned"}];return c==="how-it-works"?s.jsx(Bx,{onBack:()=>d("home")}):s.jsxs("div",{className:"relative min-h-screen w-full overflow-x-hidden",children:[s.jsx(ze,{}),s.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-transparent backdrop-blur-xl border-b border-white/10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-20 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{className:"flex items-center space-x-2",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(ce,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"CryptoRewards"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[s.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"Home"}),s.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>e("/about"),children:"About"}),s.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>d("how-it-works"),children:"How It Works"}),s.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>{const g=document.querySelector("#features-section");g&&g.scrollIntoView({behavior:"smooth"})},children:"Features"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"text-white/80 hover:text-white transition-colors font-medium",onClick:()=>{u()},children:"Login"}),s.jsx("button",{onClick:u,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-2 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-purple-500/25",children:"Sign Up"})]})]})})}),r&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 max-w-lg w-full relative border border-white/20",children:[s.jsx("button",{className:"absolute top-3 right-3 text-white/60 hover:text-white",onClick:()=>i(!1),children:s.jsx(zt,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Learn More"}),s.jsx("p",{className:"text-white/80 mb-2",children:"CryptoRewards lets you earn USDT by watching ads, referring friends, and more. Withdraw instantly, no KYC required!"}),s.jsxs("ul",{className:"list-disc pl-6 text-white/80 mb-2",children:[s.jsx("li",{children:"Watch ads, earn crypto"}),s.jsx("li",{children:"Invite friends for bonuses"}),s.jsx("li",{children:"Withdraw to your wallet anytime"})]}),s.jsx("button",{className:"mt-4 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-2 rounded-lg font-semibold",onClick:()=>i(!1),children:"Close"})]})}),n&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl p-8 max-w-lg w-full relative border border-white/20",children:[s.jsx("button",{className:"absolute top-3 right-3 text-white/60 hover:text-white",onClick:()=>a(!1),children:s.jsx(zl,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"How It Works"}),s.jsxs("ol",{className:"list-decimal pl-6 text-white/80 mb-2",children:[s.jsx("li",{children:"Sign up and verify your email"}),s.jsx("li",{children:"Watch ads and complete simple tasks"}),s.jsx("li",{children:"Earn USDT instantly to your balance"}),s.jsx("li",{children:"Withdraw to your crypto wallet anytime"})]}),s.jsx("button",{className:"mt-4 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-2 rounded-lg font-semibold",onClick:()=>a(!1),children:"Close"})]})}),s.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen w-full px-6 lg:px-20 py-16 text-center",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[s.jsxs("div",{className:"max-w-2xl text-left",children:[s.jsx("h2",{className:"text-sm font-semibold text-white/60 uppercase tracking-wider mb-4",children:"Welcome to CryptoRewards"}),s.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold leading-tight mb-6 bg-gradient-to-r from-white via-purple-200 to-pink-200 bg-clip-text text-transparent",children:["The Future of",s.jsx("br",{}),"Crypto Earnings"]}),s.jsx("p",{className:"text-xl text-white/80 mb-8 leading-relaxed",children:"CryptoRewards is an ever-expanding ecosystem of interconnected earning opportunities, built for a decentralized future where everyone can earn crypto effortlessly."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("button",{onClick:u,className:"bg-gradient-to-r from-green-400 to-emerald-500 text-black font-semibold px-8 py-4 rounded-xl hover:from-green-300 hover:to-emerald-400 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-green-500/25",children:"Start Earning Now"}),s.jsx("button",{className:"bg-white/10 backdrop-blur-sm border border-white/30 px-8 py-4 rounded-xl text-white hover:bg-white/20 transition-all duration-300 transform hover:scale-105",onClick:()=>a(!0),children:"How It Works"})]})]}),s.jsx("div",{className:"relative w-full lg:w-1/2 flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-80 h-80 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-full blur-3xl absolute inset-0",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),s.jsx("div",{className:"relative z-0 w-64 h-64 bg-gradient-to-br from-purple-500/30 to-pink-500/30 rounded-2xl border border-white/20 backdrop-blur-sm flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ce,{className:"w-16 h-16 text-white mx-auto mb-4"}),s.jsx("p",{className:"text-white font-semibold",children:"3D Crypto Vault"}),s.jsx("p",{className:"text-white/60 text-sm",children:"Replace with Spline"})]})}),s.jsx("div",{className:"absolute -top-8 -left-8 flex flex-col gap-4 z-20",children:x.map((g,b)=>s.jsxs("div",{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:b*.2+1},className:"bg-white/10 backdrop-blur-md px-4 py-3 rounded-xl border border-white/20 text-white w-48 shadow-lg",children:[s.jsx("p",{className:"font-bold text-lg",children:g.rate}),s.jsx("p",{className:"text-sm text-white/60",children:g.amount})]},b))})]})})]})})}),s.jsx("section",{id:"features-section",className:"relative z-10 py-20 px-6 lg:px-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Platform Features"}),s.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Everything you need to start earning crypto rewards"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map((g,b)=>s.jsx("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 h-full group",children:s.jsxs("div",{className:"flex flex-col items-center text-center h-full",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:s.jsx(g.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:g.title}),s.jsx("p",{className:"text-white/70 leading-relaxed flex-1",children:g.description})]})},b))})]})}),s.jsx("section",{id:"benefits-section",className:"relative z-10 py-20 px-6 lg:px-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Why Choose CryptoRewards?"}),s.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Discover the advantages that make us the leading choice for crypto earnings"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:w.map((g,b)=>s.jsx("div",{className:"bg-white/5 backdrop-blur-xl rounded-xl p-4 border border-white/10 hover:border-white/20 transition-all duration-300 h-full",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3 h-full",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(xe,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"flex-1 flex items-center",children:s.jsx("p",{className:"text-white/90 font-medium text-sm leading-relaxed",children:g})})]})},b))}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{icon:Qe,text:"24/7 Availability",desc:"Always accessible"},{icon:ce,text:"Instant Payouts",desc:"Get paid immediately"},{icon:Se,text:"Global Access",desc:"Available worldwide"},{icon:_s,text:"Premium Support",desc:"Expert assistance"}].map((g,b)=>s.jsxs("div",{className:"text-center p-4 bg-white/5 backdrop-blur-xl rounded-xl border border-white/10 hover:border-white/20 transition-all duration-300 h-full flex flex-col justify-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-600 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(g.icon,{className:"w-5 h-5 text-white"})}),s.jsx("h3",{className:"text-white font-semibold text-sm mb-1",children:g.text}),s.jsx("p",{className:"text-white/70 text-xs",children:g.desc})]},b))})]})]})}),s.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Trusted by Millions"}),s.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Join the fastest-growing crypto rewards community"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{number:"2.4M+",label:"Total Users",icon:Ce},{number:"$15.2M+",label:"Total Payouts",icon:ce},{number:"150+",label:"Countries",icon:Se},{number:"99.9%",label:"Uptime",icon:yt}].map((g,b)=>s.jsxs("div",{className:"text-center p-8 bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:s.jsx(g.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:g.number}),s.jsx("p",{className:"text-white/70",children:g.label})]},b))})]})}),s.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20 bg-gradient-to-r from-purple-900/20 to-pink-900/20",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"What Our Users Say"}),s.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Real stories from real users earning crypto rewards"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Sarah Chen",role:"Student",text:"I earned my first $50 in USDT within a week! The platform is incredibly user-friendly and the payouts are instant.",avatar:"👩‍🎓",earnings:"+$847 USDT"},{name:"Marcus Rodriguez",role:"Freelancer",text:"CryptoRewards has become my main source of passive income. I love how transparent and secure everything is.",avatar:"👨‍💻",earnings:"+$1,234 USDT"},{name:"Emma Thompson",role:"Entrepreneur",text:"The referral program is amazing! I've earned over $2,000 just by inviting friends. Highly recommended!",avatar:"👩‍💼",earnings:"+$2,156 USDT"}].map((g,b)=>s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-8 border border-white/10 hover:border-white/20 transition-all duration-300 h-full",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"text-4xl mr-4",children:g.avatar}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold",children:g.name}),s.jsx("p",{className:"text-white/60 text-sm",children:g.role})]}),s.jsx("div",{className:"ml-auto text-green-400 font-bold text-sm",children:g.earnings})]}),s.jsxs("p",{className:"text-white/80 leading-relaxed mb-4",children:['"',g.text,'"']}),s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((S,j)=>s.jsx(_s,{className:"w-4 h-4 fill-current"},j))})]},b))})]})}),s.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"Security & Trust"}),s.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Your security is our top priority"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:yt,title:"SSL Encryption",desc:"Bank-level security with 256-bit encryption",color:"from-green-500 to-emerald-500"},{icon:Qe,title:"Instant Payouts",desc:"Get your USDT within seconds, not days",color:"from-blue-500 to-cyan-500"},{icon:Se,title:"Global Access",desc:"Available in 150+ countries worldwide",color:"from-purple-500 to-pink-500"},{icon:_s,title:"24/7 Support",desc:"Round-the-clock customer assistance",color:"from-orange-500 to-red-500"}].map((g,b)=>s.jsxs("div",{className:"text-center p-6 bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 hover:border-white/20 transition-all duration-300",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${g.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:s.jsx(g.icon,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-white font-semibold text-sm mb-2",children:g.title}),s.jsx("p",{className:"text-white/70 text-xs",children:g.desc})]},b))})]})}),s.jsx("section",{className:"relative z-10 py-20 px-6 lg:px-20 bg-gradient-to-r from-purple-900/30 to-pink-900/30",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsx("h2",{className:"text-4xl lg:text-6xl font-bold text-white mb-6",children:"Ready to earn while you sleep?"}),s.jsx("p",{className:"text-xl text-white/80 mb-8 max-w-3xl mx-auto",children:"Join thousands of users already earning passive income with CryptoRewards"}),s.jsxs("button",{onClick:u,className:"bg-gradient-to-r from-green-400 to-emerald-500 text-black font-bold px-12 py-6 rounded-2xl text-xl hover:from-green-300 hover:to-emerald-400 transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-green-500/50",children:["Start Earning Now",s.jsx(Hl,{className:"inline-block ml-2 w-6 h-6"})]})]})}),s.jsx("footer",{className:"relative z-10 py-12 px-6 lg:px-20 bg-black/40 backdrop-blur-xl border-t border-white/10",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(ce,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"CryptoRewards"})]}),s.jsx("p",{className:"text-white/60 text-sm",children:"The future of crypto earnings. Earn USDT by watching ads, referring friends, and more."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Platform"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>d("how-it-works"),className:"text-white/60 hover:text-white transition-colors",children:"How It Works"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>{const g=document.querySelector("#features-section");g&&g.scrollIntoView({behavior:"smooth"})},className:"text-white/60 hover:text-white transition-colors",children:"Features"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Pricing"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"API"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Help Center"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Contact Us"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Status"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Community"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"Cookie Policy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>i(!0),className:"text-white/60 hover:text-white transition-colors",children:"GDPR"})})]})]})]}),s.jsx("div",{className:"border-t border-white/10 mt-8 pt-8 text-center",children:s.jsx("p",{className:"text-white/60 text-sm",children:"© 2024 CryptoRewards. All rights reserved. Made with ❤️ for the crypto community."})})]})})]})},cp=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"].sort(),dp=({onAuth:t,onBack:e,onResetPassword:r,isLoading:i,error:n})=>{const[a,o]=p.useState(!0),[l,c]=p.useState(!1),[d,h]=p.useState(!1),[m,u]=p.useState(!1),f=p.useRef(null),w=p.useRef(null),x=p.useRef(null),g=p.useRef(null),b=p.useRef(null),S=p.useRef(null),j=p.useRef(null),k=p.useRef(null),C=p.useRef(null);p.useEffect(()=>{const M=()=>{const Q=window.innerWidth<=768,$=window.innerHeight,ue=window.screen.height;Q&&$<ue*.8?u(!0):u(!1)};return window.addEventListener("resize",M),window.addEventListener("orientationchange",M),()=>{window.removeEventListener("resize",M),window.removeEventListener("orientationchange",M)}},[]);const y=(M,Q)=>{M.key==="Enter"&&(M.preventDefault(),Q.current&&Q.current.focus())},N=M=>{if(a){if(M==="username")return k;if(M==="password")return null}else{if(M==="username")return w;if(M==="email")return x;if(M==="firstName")return g;if(M==="lastName")return b;if(M==="birthday")return S;if(M==="country")return j;if(M==="referralCode")return k;if(M==="password")return C;if(M==="confirmPassword")return null}return null},D=new URLSearchParams(window.location.search).get("ref"),[E,V]=p.useState({username:"",password:"",confirmPassword:"",email:"",firstName:"",lastName:"",birthday:"",country:"",referralCode:"",referrerId:D||""}),[R,F]=p.useState({length:!1,characters:!1,available:!0}),[P,T]=p.useState({format:!1,exists:!1}),G=M=>{const Q=M.length>=3&&M.length<=20,$=/^[a-zA-Z0-9_]+$/.test(M),ue=!B.checkUsernameExists(M);F({length:Q,characters:$,available:ue})},H=M=>{const $=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M),ue=$?B.checkEmailExists(M):!1;T({format:$,exists:ue})},O=M=>{const{name:Q,value:$}=M.target;if(V({...E,[Q]:$}),Q==="username"&&!a&&G($),Q==="email"&&!a&&H($),Q==="referralCode"&&!a&&$){console.log("Checking referral code:",$),B.getAllUsers();const ue=B.getAllUsers();console.log("All users:",ue.map(be=>({username:be.username,referralCode:be.referralCode}))),console.log("Available referral codes:",ue.map(be=>be.referralCode)),console.log("Is valid:",B.checkReferralCodeExists($));const Oe=ue.find(be=>be.referralCode&&be.referralCode.toLowerCase()===$.toLowerCase());Oe?console.log("Found matching user:",Oe.username,"with referral code:",Oe.referralCode):console.log("No matching user found for referral code:",$)}},L=M=>{M.preventDefault(),t(E)},Y={length:E.password.length>=6,match:E.password===E.confirmPassword&&E.confirmPassword.length>0},Z=[{label:"3-20 characters",met:R.length},{label:"Letters, numbers, underscores only",met:R.characters},{label:"Username available",met:R.available}];return s.jsxs("div",{className:`min-h-screen flex items-center justify-center px-4 relative transition-all duration-300 ${m?"pt-0 pb-4":""}`,children:[s.jsx(ze,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 opacity-50"}),s.jsxs("button",{onClick:e,className:`fixed z-50 flex items-center space-x-2 px-4 py-2 rounded-lg border border-white/20 bg-white/10 backdrop-blur-md text-white font-semibold shadow hover:bg-white/20 transition-all ${m?"top-2 left-2":"top-6 left-6"}`,children:[s.jsx(ht,{className:"w-5 h-5"}),s.jsx("span",{className:m?"hidden sm:inline":"",children:"Back"})]}),s.jsx("div",{className:`relative z-10 w-full max-w-md transition-all duration-300 ${m?"mt-8":""}`,children:s.jsxs("div",{className:`bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 shadow-2xl overflow-y-auto transition-all duration-300 scrollbar-hide ${m?"p-4 max-h-[70vh]":"p-6 max-h-[90vh]"}`,children:[s.jsxs("div",{className:"flex bg-white/10 rounded-full p-1 mb-6",children:[s.jsx("button",{className:`flex-1 py-2 px-4 rounded-full font-bold transition-all ${a?"bg-gradient-to-r from-yellow-400 to-orange-400 text-white shadow-lg":"text-white/70 hover:text-white"}`,onClick:()=>o(!0),children:"Login"}),s.jsx("button",{className:`flex-1 py-2 px-4 rounded-full font-bold transition-all ${a?"text-white/70 hover:text-white":"bg-gradient-to-r from-yellow-400 to-orange-400 text-white shadow-lg"}`,onClick:()=>o(!1),children:"Signup"})]}),s.jsxs("div",{className:`text-center transition-all duration-300 ${m?"mb-4":"mb-6"}`,children:[s.jsx("h1",{className:`font-bold text-white mb-2 transition-all duration-300 ${m?"text-xl":"text-2xl"}`,children:a?"Welcome Back":"Join CryptoRewards"}),s.jsx("p",{className:`text-white/80 transition-all duration-300 ${m?"text-xs":"text-sm"}`,children:a?"Sign in to continue earning":"Create your account and start earning"})]}),n&&s.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg",children:s.jsx("p",{className:"text-red-400 text-sm",children:n})}),s.jsxs("form",{onSubmit:L,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:f,type:"text",name:"username",value:E.username,onChange:O,onKeyDown:M=>{const Q=N("username");if(Q)y(M,Q);else if(M.key==="Enter"){M.preventDefault();const $=document.querySelector('button[type="submit"]');$&&!$.disabled&&$.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm",placeholder:"Enter your username",required:!0,disabled:i,minLength:3,maxLength:20}),s.jsx(Es,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50 pointer-events-none"})]}),!a&&E.username&&s.jsxs("div",{className:"mt-2 p-2 bg-white/5 rounded border border-white/10",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(zt,{className:"w-3 h-3 text-blue-400"}),s.jsx("span",{className:"text-xs font-medium text-white/90",children:"Requirements"})]}),s.jsx("div",{className:"space-y-1",children:Z.map((M,Q)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[M.met?s.jsx(xe,{className:"w-2.5 h-2.5 text-green-400"}):s.jsx("div",{className:"w-2.5 h-2.5 rounded-full border border-white/40"}),s.jsx("span",{className:`text-xs ${M.met?"text-green-400":"text-white/60"}`,children:M.label})]},Q))})]})]}),!a&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:w,type:"email",name:"email",value:E.email,onChange:O,onKeyDown:M=>{const Q=N("email");if(Q)y(M,Q);else if(M.key==="Enter"){M.preventDefault();const $=document.querySelector('button[type="submit"]');$&&!$.disabled&&$.click()}},className:`w-full bg-white/10 border rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition-all text-sm ${E.email?P.format&&!P.exists?"border-green-400/50 focus:border-green-400":"border-red-400/50 focus:border-red-400":"border-white/20 focus:border-yellow-400"}`,placeholder:"Enter your email",required:!a,disabled:i}),s.jsx(ks,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50 pointer-events-none"})]}),E.email&&!P.format&&s.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Please enter a valid email"}),E.email&&P.format&&P.exists&&s.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Email already exists"})]}),!a&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"First Name"}),s.jsx("input",{ref:x,type:"text",name:"firstName",value:E.firstName,onChange:O,onKeyDown:M=>{const Q=N("firstName");if(Q)y(M,Q);else if(M.key==="Enter"){M.preventDefault();const $=document.querySelector('button[type="submit"]');$&&!$.disabled&&$.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm",placeholder:"First name",required:!a,disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Last Name"}),s.jsx("input",{ref:g,type:"text",name:"lastName",value:E.lastName,onChange:O,onKeyDown:M=>{const Q=N("lastName");if(Q)y(M,Q);else if(M.key==="Enter"){M.preventDefault();const $=document.querySelector('button[type="submit"]');$&&!$.disabled&&$.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm",placeholder:"Last name",required:!a,disabled:i})]})]}),!a&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Birthday"}),s.jsx("input",{ref:b,type:"date",name:"birthday",value:E.birthday,onChange:O,onKeyDown:M=>{const Q=N("birthday");if(Q)y(M,Q);else if(M.key==="Enter"){M.preventDefault();const $=document.querySelector('button[type="submit"]');$&&!$.disabled&&$.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm",required:!a,disabled:i,max:new Date().toISOString().split("T")[0]})]}),!a&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Country"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{ref:S,name:"country",value:E.country,onChange:O,onKeyDown:M=>{const Q=N("country");if(Q)y(M,Q);else if(M.key==="Enter"){M.preventDefault();const $=document.querySelector('button[type="submit"]');$&&!$.disabled&&$.click()}},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all text-sm appearance-none",required:!a,disabled:i,children:[s.jsx("option",{value:"",disabled:!0,children:"Select your country"}),cp.map(M=>s.jsx("option",{value:M,className:"bg-white text-gray-800",children:M},M))]}),s.jsx(Se,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50 pointer-events-none"})]})]}),!a&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-white/90 mb-2",children:["Invite Code ",s.jsx("span",{className:"text-white/60",children:"(optional)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:j,type:"text",name:"referralCode",value:E.referralCode,onChange:O,onKeyDown:M=>{const Q=N("referralCode");if(Q)y(M,Q);else if(M.key==="Enter"){M.preventDefault();const $=document.querySelector('button[type="submit"]');$&&!$.disabled&&$.click()}},className:`w-full bg-white/10 border rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 transition-all text-sm ${E.referralCode?B.checkReferralCodeExists(E.referralCode)?"border-green-400/50 focus:border-green-400":"border-red-400/50 focus:border-red-400":"border-white/20 focus:border-yellow-400"}`,placeholder:"Enter invite code (optional)",disabled:i}),s.jsx(Xe,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50 pointer-events-none"})]}),E.referralCode&&s.jsx("p",{className:`text-xs mt-1 ${B.checkReferralCodeExists(E.referralCode)?"text-green-400":"text-red-400"}`,children:B.checkReferralCodeExists(E.referralCode)?"✓ Valid invite code!":"Invalid invite code"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:k,type:l?"text":"password",name:"password",value:E.password,onChange:O,onKeyDown:M=>{const Q=N("password");if(Q)y(M,Q);else if(M.key==="Enter"){M.preventDefault();const $=document.querySelector('button[type="submit"]');$&&!$.disabled&&$.click()}},className:`w-full bg-white/10 border rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all pr-12 text-sm ${E.password?Y.length?"border-green-400/50 focus:border-green-400":"border-red-400/50 focus:border-red-400":"border-white/20 focus:border-yellow-400"}`,placeholder:"Enter your password",required:!0,disabled:i,minLength:6}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",disabled:i,children:l?s.jsx(dt,{className:"w-4 h-4"}):s.jsx(Ve,{className:"w-4 h-4"})})]}),!a&&s.jsx("p",{className:"text-xs text-white/60 mt-1",children:"Password must be at least 6 characters"})]}),!a&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:C,type:d?"text":"password",name:"confirmPassword",value:E.confirmPassword,onChange:O,onKeyDown:M=>{const Q=N("confirmPassword");if(Q)y(M,Q);else if(M.key==="Enter"){M.preventDefault();const $=document.querySelector('button[type="submit"]');$&&!$.disabled&&$.click()}},className:`w-full bg-white/10 border rounded-lg px-4 py-2.5 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all pr-12 text-sm ${E.confirmPassword?Y.match?"border-green-400/50 focus:border-green-400":"border-red-400/50 focus:border-red-400":"border-white/20 focus:border-yellow-400"}`,placeholder:"Confirm your password",required:!a,disabled:i}),s.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",disabled:i,children:d?s.jsx(dt,{className:"w-4 h-4"}):s.jsx(Ve,{className:"w-4 h-4"})})]}),E.confirmPassword&&!Y.match&&s.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Passwords do not match"})]}),a&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center space-x-2 text-white/80",children:[s.jsx("input",{type:"checkbox",className:"rounded border-white/20 bg-white/10 text-yellow-400 focus:ring-yellow-400/50 w-4 h-4",disabled:i}),s.jsx("span",{className:"text-sm",children:"Remember me"})]}),s.jsx("button",{type:"button",onClick:r,className:"text-sm text-yellow-400 hover:text-yellow-300 transition-colors",disabled:i,children:"Forgot password?"})]}),s.jsxs("button",{type:"submit",disabled:i||!a&&(!R.length||!R.characters||!R.available||!P.format||P.exists||!Y.length||!Y.match),className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-3 rounded-lg font-semibold hover:from-yellow-500 hover:to-orange-600 transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:[i&&s.jsx(ut,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:i?"Processing...":a?"Sign In":"Create Account"})]})]})]})})]})},hp=({onBack:t,onSuccess:e})=>{const[r,i]=p.useState("email"),[n,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[h,m]=p.useState(""),[u,f]=p.useState(""),[w,x]=p.useState(!1),[g,b]=p.useState(!1),[S,j]=p.useState(""),[k,C]=p.useState(!1),[y,N]=p.useState(!1);p.useEffect(()=>{const R=localStorage.getItem("forgotPasswordOtp"),F=localStorage.getItem("forgotPasswordEmail");R&&F&&(l(R),a(F),i("otp"))},[]);const A=async()=>{if(C(!0),j(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){j("Please enter a valid email address"),C(!1);return}if(!B.checkEmailExists(n)){j("No account found with this email address"),C(!1);return}try{const F=Math.floor(1e5+Math.random()*9e5).toString();l(F),localStorage.setItem("forgotPasswordOtp",F),localStorage.setItem("forgotPasswordEmail",n),i("otp"),j("")}catch{j("Failed to send reset code. Please try again.")}finally{C(!1)}},D=()=>{j(""),c===o?(i("password"),j("")):j("Incorrect code. Please try again.")},E=async()=>{if(C(!0),j(""),h.length<6){j("Password must be at least 6 characters"),C(!1);return}if(h!==u){j("Passwords do not match"),C(!1);return}try{B.updateUserPasswordByEmail(n,h),localStorage.removeItem("forgotPasswordOtp"),localStorage.removeItem("forgotPasswordEmail"),N(!0),setTimeout(()=>{e()},2e3)}catch{j("Failed to reset password. Please try again.")}finally{C(!1)}},V=()=>{localStorage.removeItem("forgotPasswordOtp"),localStorage.removeItem("forgotPasswordEmail"),t()};return y?s.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"}),s.jsx("div",{className:"relative w-full max-w-md",children:s.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-8 border border-white/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xe,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successfully!"}),s.jsx("p",{className:"text-white/70 mb-6",children:"You can now sign in with your new password."}),s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx(ut,{className:"w-5 h-5 text-white/60 animate-spin mr-2"}),s.jsx("span",{className:"text-white/60",children:"Redirecting to login..."})]})]})})})]}):s.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"}),s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsxs("button",{onClick:V,className:"absolute -top-16 left-0 flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[s.jsx(ht,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Login"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-8 border border-white/20",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ur,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),s.jsxs("p",{className:"text-white/70",children:[r==="email"&&"Enter your email to receive a reset code",r==="otp"&&"Enter the 6-digit code sent to your email",r==="password"&&"Create your new password"]})]}),S&&s.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ot,{className:"w-5 h-5 text-red-400"}),s.jsx("span",{className:"text-red-400 text-sm",children:S})]})}),r==="email"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:n,onChange:R=>a(R.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"Enter your email",autoFocus:!0})]}),s.jsxs("button",{onClick:A,disabled:k,className:"w-full bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-500/50 text-black font-semibold py-3 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[k&&s.jsx(ut,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Send Reset Code"})]})]}),r==="otp"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Verification Code"}),s.jsxs("div",{className:"text-center",children:[s.jsx("input",{type:"text",maxLength:6,value:c,onChange:R=>d(R.target.value.replace(/\D/g,"")),className:"w-32 text-center text-xl font-mono bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"------",autoFocus:!0}),s.jsxs("p",{className:"text-white/60 text-sm mt-2",children:["Demo code: ",s.jsx("span",{className:"font-mono text-yellow-400",children:o})]})]})]}),s.jsxs("button",{onClick:D,disabled:k||c.length!==6,className:"w-full bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-500/50 text-black font-semibold py-3 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[k&&s.jsx(ut,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Verify Code"})]})]}),r==="password"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:w?"text":"password",value:h,onChange:R=>m(R.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"Enter new password",minLength:6,autoFocus:!0}),s.jsx("button",{type:"button",onClick:()=>x(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white/80",children:w?s.jsx(dt,{className:"w-5 h-5"}):s.jsx(Ve,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:g?"text":"password",value:u,onChange:R=>f(R.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"Confirm new password",minLength:6}),s.jsx("button",{type:"button",onClick:()=>b(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white/80",children:g?s.jsx(dt,{className:"w-5 h-5"}):s.jsx(Ve,{className:"w-5 h-5"})})]})]}),s.jsxs("button",{onClick:E,disabled:k||h.length<6||h!==u,className:"w-full bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-500/50 text-black font-semibold py-3 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[k&&s.jsx(ut,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Reset Password"})]})]})]})]})]})},up=({amount:t,tierName:e,onClose:r})=>{const[i,n]=p.useState(!0);return p.useEffect(()=>{const a=setTimeout(()=>{n(!1),setTimeout(r,300)},5e3);return()=>clearTimeout(a)},[r]),i?s.jsx("div",{className:"fixed top-20 right-4 z-50 animate-slide-in",children:s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg p-4 shadow-lg border border-yellow-300",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Pe,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-white font-semibold",children:"VIP Daily Reward!"}),s.jsxs("p",{className:"text-white/90 text-sm",children:["$",t.toFixed(2)," added to your balance from ",e]})]}),s.jsx("button",{onClick:()=>{n(!1),setTimeout(r,300)},className:"text-white/80 hover:text-white transition-colors",children:s.jsx($e,{className:"w-5 h-5"})})]})})}):null},mp=({user:t})=>{const[e,r]=p.useState({type:"all",status:"all",dateRange:"all",amountRange:"all",searchTerm:""}),[i,n]=p.useState("date"),[a,o]=p.useState("desc"),[l,c]=p.useState(!1),[d,h]=p.useState(!1),m=p.useMemo(()=>[{id:"1",type:"ad_earnings",amount:.5,status:"completed",description:"Ad watching reward",timestamp:new Date(Date.now()-1e3*60*30).toISOString()},{id:"2",type:"referral",amount:2,status:"completed",description:"Referral bonus from user123",timestamp:new Date(Date.now()-1e3*60*60*2).toISOString()},{id:"3",type:"withdrawal",amount:-10,status:"completed",description:"Withdrawal to USDT wallet",timestamp:new Date(Date.now()-1e3*60*60*24).toISOString(),transactionHash:"0x1234567890abcdef",fee:.5,network:"TRC20"},{id:"4",type:"deposit",amount:25,status:"completed",description:"USDT deposit",timestamp:new Date(Date.now()-1e3*60*60*24*2).toISOString(),transactionHash:"0xabcdef1234567890",network:"TRC20"},{id:"5",type:"vip_reward",amount:5,status:"completed",description:"VIP daily reward",timestamp:new Date(Date.now()-1e3*60*60*24*3).toISOString()},{id:"6",type:"ad_earnings",amount:.3,status:"completed",description:"Ad watching reward",timestamp:new Date(Date.now()-1e3*60*60*24*4).toISOString()},{id:"7",type:"withdrawal",amount:-5,status:"pending",description:"Withdrawal to USDT wallet",timestamp:new Date(Date.now()-1e3*60*60*24*5).toISOString(),fee:.5,network:"TRC20"},{id:"8",type:"referral",amount:1.5,status:"completed",description:"Referral bonus from user456",timestamp:new Date(Date.now()-1e3*60*60*24*6).toISOString()}],[]),u=p.useMemo(()=>{let y=m;if(e.type!=="all"&&(y=y.filter(N=>N.type===e.type)),e.status!=="all"&&(y=y.filter(N=>N.status===e.status)),e.dateRange!=="all"){const N=new Date,A=new Date(N.getFullYear(),N.getMonth(),N.getDate());switch(e.dateRange){case"today":y=y.filter(V=>new Date(V.timestamp)>=A);break;case"week":const D=new Date(A.getTime()-7*24*60*60*1e3);y=y.filter(V=>new Date(V.timestamp)>=D);break;case"month":const E=new Date(A.getTime()-30*24*60*60*1e3);y=y.filter(V=>new Date(V.timestamp)>=E);break;case"custom":if(e.startDate&&e.endDate){const V=new Date(e.startDate),R=new Date(e.endDate);y=y.filter(F=>{const P=new Date(F.timestamp);return P>=V&&P<=R})}break}}if(e.amountRange!=="all")switch(e.amountRange){case"small":y=y.filter(N=>Math.abs(N.amount)<=5);break;case"medium":y=y.filter(N=>Math.abs(N.amount)>5&&Math.abs(N.amount)<=25);break;case"large":y=y.filter(N=>Math.abs(N.amount)>25);break}return(e.minAmount!==void 0||e.maxAmount!==void 0)&&(y=y.filter(N=>{const A=Math.abs(N.amount),D=e.minAmount||0,E=e.maxAmount||1/0;return A>=D&&A<=E})),e.searchTerm&&(y=y.filter(N=>N.description.toLowerCase().includes(e.searchTerm.toLowerCase())||N.id.toLowerCase().includes(e.searchTerm.toLowerCase())||N.transactionHash&&N.transactionHash.toLowerCase().includes(e.searchTerm.toLowerCase()))),y.sort((N,A)=>{let D=0;switch(i){case"date":D=new Date(N.timestamp).getTime()-new Date(A.timestamp).getTime();break;case"amount":D=Math.abs(N.amount)-Math.abs(A.amount);break;case"type":D=N.type.localeCompare(A.type);break;case"status":D=N.status.localeCompare(A.status);break}return a==="asc"?D:-D}),y},[m,e,i,a]),f=l?u:u.slice(0,3),w=u.length>3,x=y=>{switch(y){case"completed":return"text-green-400 bg-green-400/10";case"pending":return"text-yellow-400 bg-yellow-400/10";case"failed":return"text-red-400 bg-red-400/10";case"cancelled":return"text-slate-400 bg-slate-400/10";default:return"text-slate-400 bg-slate-400/10"}},g=y=>{const N=new Date(y),D=(new Date().getTime()-N.getTime())/(1e3*60*60);return D<1?`${Math.floor(D*60)} minutes ago`:D<24?`${Math.floor(D)} hours ago`:N.toLocaleDateString()},b=()=>{const y=[["Date","Type","Amount","Status","Description","Transaction Hash"],...u.map(E=>[new Date(E.timestamp).toLocaleString(),E.type.replace("_"," ").toUpperCase(),E.amount.toString(),E.status.toUpperCase(),E.description,E.transactionHash||""])].map(E=>E.join(",")).join(`
`),N=new Blob([y],{type:"text/csv"}),A=window.URL.createObjectURL(N),D=document.createElement("a");D.href=A,D.download=`transactions-${new Date().toISOString().split("T")[0]}.csv`,D.click(),window.URL.revokeObjectURL(A)},S=()=>{r({type:"all",status:"all",dateRange:"all",amountRange:"all",searchTerm:""})},j=()=>{let y=0;return e.type!=="all"&&y++,e.status!=="all"&&y++,e.dateRange!=="all"&&y++,e.amountRange!=="all"&&y++,e.searchTerm&&y++,(e.minAmount!==void 0||e.maxAmount!==void 0)&&y++,y},k=u.filter(y=>y.amount>0).reduce((y,N)=>y+N.amount,0),C=u.filter(y=>y.amount<0).reduce((y,N)=>y+Math.abs(N.amount),0);return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent drop-shadow-lg",children:"Transaction History"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white/80 hover:text-white hover:bg-white/20 transition-all duration-200",children:[s.jsx(Vr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Export"})]}),s.jsxs("button",{onClick:()=>h(!d),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${d?"bg-yellow-400/20 border-yellow-400/30 text-yellow-400":"bg-white/10 border-white/20 text-white/80 hover:text-white hover:bg-white/20"} border`,children:[s.jsx(Kl,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Filters"}),j()>0&&s.jsx("span",{className:"bg-yellow-400 text-black text-xs px-2 py-1 rounded-full font-bold",children:j()})]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{label:"All",value:"all",icon:s.jsx(Ve,{className:"w-4 h-4"})},{label:"Earnings",value:"ad_earnings",icon:s.jsx(jt,{className:"w-4 h-4"})},{label:"Deposits",value:"deposit",icon:s.jsx(ce,{className:"w-4 h-4"})},{label:"Withdrawals",value:"withdrawal",icon:s.jsx(Yl,{className:"w-4 h-4"})},{label:"Referrals",value:"referral",icon:s.jsx(Ce,{className:"w-4 h-4"})},{label:"VIP",value:"vip_reward",icon:s.jsx(Pe,{className:"w-4 h-4"})}].map(y=>s.jsxs("button",{onClick:()=>r(N=>({...N,type:y.value})),className:`flex items-center space-x-2 px-3 py-2 rounded-full text-sm font-medium transition-all duration-200 ${e.type===y.value?"bg-yellow-400 text-black shadow-lg":"bg-white/10 text-white/80 hover:text-white hover:bg-white/20"}`,children:[y.icon,s.jsx("span",{children:y.label})]},y.value))}),s.jsx(Ph,{children:d&&s.jsx(te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mb-6 overflow-hidden",children:s.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Advanced Filters"}),s.jsx("button",{onClick:S,className:"text-white/60 hover:text-white text-sm",children:"Clear All"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Status"}),s.jsxs("select",{value:e.status,onChange:y=>r(N=>({...N,status:y.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400",style:{color:"white"},children:[s.jsx("option",{value:"all",style:{backgroundColor:"#1f2937",color:"white"},children:"All Status"}),s.jsx("option",{value:"completed",style:{backgroundColor:"#1f2937",color:"white"},children:"Completed"}),s.jsx("option",{value:"pending",style:{backgroundColor:"#1f2937",color:"white"},children:"Pending"}),s.jsx("option",{value:"failed",style:{backgroundColor:"#1f2937",color:"white"},children:"Failed"}),s.jsx("option",{value:"cancelled",style:{backgroundColor:"#1f2937",color:"white"},children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Date Range"}),s.jsxs("select",{value:e.dateRange,onChange:y=>r(N=>({...N,dateRange:y.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400",style:{color:"white"},children:[s.jsx("option",{value:"all",style:{backgroundColor:"#1f2937",color:"white"},children:"All Time"}),s.jsx("option",{value:"today",style:{backgroundColor:"#1f2937",color:"white"},children:"Today"}),s.jsx("option",{value:"week",style:{backgroundColor:"#1f2937",color:"white"},children:"Last 7 Days"}),s.jsx("option",{value:"month",style:{backgroundColor:"#1f2937",color:"white"},children:"Last 30 Days"}),s.jsx("option",{value:"custom",style:{backgroundColor:"#1f2937",color:"white"},children:"Custom Range"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Amount Range"}),s.jsxs("select",{value:e.amountRange,onChange:y=>r(N=>({...N,amountRange:y.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400",style:{color:"white"},children:[s.jsx("option",{value:"all",style:{backgroundColor:"#1f2937",color:"white"},children:"All Amounts"}),s.jsx("option",{value:"small",style:{backgroundColor:"#1f2937",color:"white"},children:"Small (≤ $5)"}),s.jsx("option",{value:"medium",style:{backgroundColor:"#1f2937",color:"white"},children:"Medium ($5 - $25)"}),s.jsx("option",{value:"large",style:{backgroundColor:"#1f2937",color:"white"},children:"Large (> $25)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Sort By"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("select",{value:i,onChange:y=>n(y.target.value),className:"flex-1 bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400",style:{color:"white"},children:[s.jsx("option",{value:"date",style:{backgroundColor:"#1f2937",color:"white"},children:"Date"}),s.jsx("option",{value:"amount",style:{backgroundColor:"#1f2937",color:"white"},children:"Amount"}),s.jsx("option",{value:"type",style:{backgroundColor:"#1f2937",color:"white"},children:"Type"}),s.jsx("option",{value:"status",style:{backgroundColor:"#1f2937",color:"white"},children:"Status"})]}),s.jsx("button",{onClick:()=>o(a==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white hover:bg-white/20 transition-colors",children:a==="asc"?"↑":"↓"})]})]})]}),e.dateRange==="custom"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Start Date"}),s.jsx("input",{type:"date",value:e.startDate||"",onChange:y=>r(N=>({...N,startDate:y.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:e.endDate||"",onChange:y=>r(N=>({...N,endDate:y.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Min Amount (USDT)"}),s.jsx("input",{type:"number",placeholder:"0",value:e.minAmount||"",onChange:y=>r(N=>({...N,minAmount:y.target.value?parseFloat(y.target.value):void 0})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Max Amount (USDT)"}),s.jsx("input",{type:"number",placeholder:"∞",value:e.maxAmount||"",onChange:y=>r(N=>({...N,maxAmount:y.target.value?parseFloat(y.target.value):void 0})),className:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400"})]})]})]})})}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search transactions by description, ID, or hash...",value:e.searchTerm,onChange:y=>r(N=>({...N,searchTerm:y.target.value})),className:"w-full bg-white/10 border border-white/20 rounded-lg pl-10 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400"}),e.searchTerm&&s.jsx("button",{onClick:()=>r(y=>({...y,searchTerm:""})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white",children:s.jsx($e,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"text-white/60 text-sm",children:["Showing ",f.length," of ",u.length," transactions",u.length!==m.length&&s.jsxs("span",{className:"ml-2 text-yellow-400",children:["(filtered from ",m.length," total)"]})]}),u.length>0&&s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("span",{className:"text-green-400",children:["+$",k.toFixed(2)]}),s.jsxs("span",{className:"text-red-400",children:["-$",C.toFixed(2)]})]})]}),s.jsxs("div",{className:"space-y-4",children:[f.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hr,{className:"w-8 h-8 text-white/40 mx-auto mb-2"}),s.jsx("p",{className:"text-white/60 text-base",children:"No transactions found"}),j()>0&&s.jsx("button",{onClick:S,className:"mt-2 text-yellow-400 hover:text-yellow-300 text-sm",children:"Clear filters to see all transactions"})]}),f.map((y,N)=>s.jsxs("div",{className:"relative",children:[s.jsxs(te.div,{className:`flex items-center justify-between p-4 bg-white/10 border border-white/10 rounded-2xl shadow-lg hover:scale-[1.02] transition-all duration-200 ${!l&&N===2?"blur-sm opacity-60":""}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:N*.07},children:[s.jsxs("div",{className:`p-3 rounded-full shadow-lg ${y.type==="ad_earnings"?"bg-yellow-400/20":y.type==="referral"?"bg-green-500/20":y.type==="withdrawal"?"bg-red-500/20":y.type==="deposit"?"bg-blue-500/20":y.type==="vip_reward"?"bg-purple-500/20":"bg-gray-500/20"}`,children:[y.type==="ad_earnings"&&s.jsx(qe,{className:"w-6 h-6 text-yellow-400"}),y.type==="referral"&&s.jsx(Xe,{className:"w-6 h-6 text-green-400"}),y.type==="withdrawal"&&s.jsx(ce,{className:"w-6 h-6 text-red-400"}),y.type==="deposit"&&s.jsx(jt,{className:"w-6 h-6 text-blue-400"}),y.type==="vip_reward"&&s.jsx(Pe,{className:"w-6 h-6 text-purple-400"}),!["ad_earnings","referral","withdrawal","deposit","vip_reward"].includes(y.type)&&s.jsx(hr,{className:"w-6 h-6 text-gray-400"})]}),s.jsxs("div",{className:"flex-1 min-w-0 ml-4",children:[s.jsx("p",{className:"text-white text-base truncate",children:y.description}),s.jsx("p",{className:"text-white/60 text-xs mt-1",children:y.type.replace("_"," ").toUpperCase()}),s.jsx("p",{className:"text-white/40 text-xs mt-1",children:g(y.timestamp)}),y.transactionHash&&s.jsxs("p",{className:"text-blue-400 text-xs mt-1 break-all",children:["Hash: ",y.transactionHash]})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsxs("span",{className:`font-bold text-base ${y.amount>0?"text-green-400":"text-red-400"}`,children:[y.amount>0?"+":"",y.amount.toFixed(2)," USDT"]}),s.jsx("div",{children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full mt-1 ${x(y.status)}`,children:y.status.toUpperCase()})})]})]}),!l&&N===2&&w&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50",children:s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-8 py-4 bg-white/20 backdrop-blur-md border border-white/30 text-white font-bold rounded-2xl hover:bg-white/30 hover:border-white/50 transition-all duration-300 shadow-xl shadow-black/20",children:[s.jsxs("span",{children:["Show All (",u.length,")"]}),s.jsx(Sa,{className:"w-5 h-5"})]})})]},y.id))]}),l&&s.jsx(te.div,{className:"flex justify-center mt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:s.jsxs("button",{onClick:()=>c(!1),className:"flex items-center space-x-2 px-6 py-3 bg-white/10 border border-white/20 text-white font-semibold rounded-lg hover:bg-white/20 transition-all duration-300",children:[s.jsx("span",{children:"Show Less"}),s.jsx(Ca,{className:"w-5 h-5"})]})})]})},xp=({onNavigate:t,user:e,onUserUpdate:r})=>{const[i,n]=p.useState(!1),[a,o]=p.useState(0),[l,c]=p.useState("");p.useEffect(()=>{(()=>{const u=e.balance;B.processVIPRewards();const f=B.getCurrentUser();if(f&&f.balance>u){const w=f.balance-u,x=B.getVIPTier(f.vipTier);x&&(o(w),c(x.name),n(!0),r(f))}})()},[]),e.username==="mhamad"&&console.log("Admin user in Dashboard:",e.username),console.log("Dashboard rendering for user:",e.username),console.log("Welcome text should show:",`Welcome back, ${e.displayName||e.username}! 👋`);const d=p.useMemo(()=>{const m=Math.floor(e.totalEarned/.25),u=e.currentStreak||0,f=e.referralCount||0,w=e.vipTier?B.getVIPTier(e.vipTier):null;return{adsWatched:m,currentStreak:u,referrals:f,vipTier:w}},[e.totalEarned,e.currentStreak,e.referralCount,e.vipTier]);p.useCallback(m=>{t(m)},[t]);const h=p.useCallback(()=>{n(!1)},[]);return s.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[s.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:s.jsx(ze,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),s.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[i&&s.jsx(up,{amount:a,tierName:l,onClose:h}),s.jsxs("div",{className:"mt-8 sm:mt-6 lg:mt-8 xl:mt-10 2xl:mt-12 mb-6 sm:mb-8 lg:mb-12 xl:mb-16 2xl:mb-20",children:[s.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 lg:mb-4 xl:mb-6 drop-shadow-lg",children:`Welcome back, ${e.displayName||e.username}!`}),s.jsx("p",{className:"text-white/80 text-base sm:text-lg lg:text-xl xl:text-2xl",children:"Ready to earn more USDT today?"})]}),s.jsx("div",{className:"glass-card border border-yellow-400/30 shadow-2xl rounded-3xl p-6 sm:p-10 mb-8 w-full max-w-full backdrop-blur-xl",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 w-full",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/70 text-sm sm:text-base mb-1",children:"Current Balance"}),s.jsxs("span",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent drop-shadow-xl",children:["$",e.balance.toFixed(2)]}),s.jsx("p",{className:"text-white/60 text-sm mt-1",children:"USDT"})]}),s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsx("p",{className:"text-white/70 text-sm mb-1",children:"Total Earned"}),s.jsxs("span",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent drop-shadow-lg",children:["$",e.totalEarned.toFixed(2)]}),s.jsx("p",{className:"text-white/60 text-sm",children:"Lifetime"})]})]})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{icon:s.jsx(Ve,{className:"w-12 h-12 mx-auto mb-3 text-yellow-400 drop-shadow-lg shadow-yellow-400/30"}),value:d.adsWatched,label:"Ads Watched"},{icon:s.jsx(Gl,{className:"w-12 h-12 mx-auto mb-3 text-green-400 drop-shadow-lg shadow-green-400/30"}),value:d.currentStreak,label:"Day Streak"},{icon:s.jsx(Ce,{className:"w-12 h-12 mx-auto mb-3 text-purple-400 drop-shadow-lg shadow-purple-400/30"}),value:d.referrals,label:"Referrals"},{icon:s.jsx(jt,{className:"w-12 h-12 mx-auto mb-3 text-pink-400 drop-shadow-lg shadow-pink-400/30"}),value:`$${e.referralEarnings.toFixed(2)}`,label:"Referral Earnings"}].map((m,u)=>s.jsxs("div",{className:"glass-card border border-white/20 rounded-2xl p-6 text-center hover:scale-105 hover:shadow-2xl transition-all duration-300 cursor-pointer backdrop-blur-lg shadow-xl shadow-black/20 bg-white/5",children:[m.icon,s.jsx("span",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent drop-shadow-xl shadow-black/50",children:m.value}),s.jsx("p",{className:"text-white/90 text-sm mt-2 font-medium",children:m.label})]},m.label))}),d.vipTier&&s.jsxs("div",{className:"glass-card border border-purple-400/30 shadow-2xl rounded-3xl p-8 mb-8 w-full max-w-full backdrop-blur-xl flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-4 rounded-full shadow-lg",children:s.jsx(Pe,{className:"w-12 h-12 text-white drop-shadow-glow"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent drop-shadow-lg",children:d.vipTier.name}),s.jsxs("p",{className:"text-white/70 text-base",children:["Daily reward: $",d.vipTier.dailyReward," USDT"]})]})]}),s.jsx("button",{onClick:()=>t("vip"),className:"mt-6 sm:mt-0 px-6 py-3 rounded-lg bg-yellow-400 text-black font-semibold text-lg hover:bg-yellow-300 transition-colors min-w-[44px] min-h-[44px] shadow-lg",children:"View VIP"})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 w-full max-w-full mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6 drop-shadow-lg",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:e.activityLog&&e.activityLog.length>0?e.activityLog.slice(0,5).map((m,u)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/10 border border-white/10 rounded-2xl shadow-lg hover:scale-[1.02] transition-transform duration-200",children:[s.jsxs("div",{className:`p-3 rounded-full shadow-lg ${m.type==="ad"?"bg-yellow-400/20":m.type==="referral"?"bg-green-500/20":m.type==="withdrawal"?"bg-red-500/20":m.type==="deposit"?"bg-blue-500/20":m.type==="vip"?"bg-purple-500/20":"bg-gray-500/20"}`,children:[m.type==="ad"&&s.jsx(qe,{className:"w-6 h-6 text-yellow-400"}),m.type==="referral"&&s.jsx(Xe,{className:"w-6 h-6 text-green-400"}),m.type==="withdrawal"&&s.jsx(ce,{className:"w-6 h-6 text-red-400"}),m.type==="deposit"&&s.jsx(ce,{className:"w-6 h-6 text-blue-400"}),m.type==="vip"&&s.jsx(Pe,{className:"w-6 h-6 text-purple-400"})]}),s.jsxs("div",{className:"flex-1 min-w-0 ml-4",children:[s.jsx("p",{className:"text-white text-base truncate",children:m.message}),s.jsx("p",{className:"text-white/60 text-xs",children:m.date})]})]},u)):s.jsx("p",{className:"text-white/60 text-base",children:"No recent activity."})})]}),s.jsx("div",{className:"glass-card border border-white/10 rounded-3xl p-8 w-full max-w-full mb-8 backdrop-blur-lg",children:s.jsx(mp,{user:e})})]})]})},fp=({onNavigate:t,user:e,onUserUpdate:r})=>{const[i,n]=p.useState(null),[a,o]=p.useState(!1);p.useState(0);const[l,c]=p.useState(0);p.useState(!1);const[d,h]=p.useState(!1),[m,u]=p.useState({adsWatched:0,totalEarned:0,dailyLimit:10});p.useState(!1),p.useState(null);const[f,w]=p.useState([]),x=p.useRef(null),g=p.useRef(null),[b,S]=p.useState([]),[j,k]=p.useState(null),C=!!e.vipTier;p.useEffect(()=>{y()},[]),p.useEffect(()=>{C&&e.vipAdProgress&&k({adsWatched:e.vipAdProgress.adsWatched,totalAdsRequired:e.vipAdProgress.totalAdsRequired,dailyReward:e.vipAdProgress.dailyReward,rewardPerAd:e.vipAdProgress.dailyReward/10})},[C,e.vipAdProgress]);const y=()=>{const D=localStorage.getItem("adminAds");if(D){const V=JSON.parse(D).filter(R=>R.isActive);w(V)}},N=()=>{if(f.length===0)return A();const E=(new Date().getDate()-1)%f.length;return[...f.slice(E),...f.slice(0,E)].slice(0,3)},A=()=>[{id:"demo_1",title:"Latest Gaming Trends 2024",description:"Discover the hottest gaming trends and earn while you learn!",youtubeId:"dQw4w9WgXcQ",duration:30,reward:.05,category:"gaming",thumbnail:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",requiredWatchTime:25,isActive:!0,views:0,totalEarnings:0},{id:"demo_2",title:"Crypto Investment Guide",description:"Learn about cryptocurrency investments and trading strategies",youtubeId:"9bZkp7q19f0",duration:45,reward:.08,category:"finance",thumbnail:"https://img.youtube.com/vi/9bZkp7q19f0/maxresdefault.jpg",requiredWatchTime:35,isActive:!0,views:0,totalEarnings:0},{id:"demo_3",title:"Tech Gadgets Review",description:"Review of the latest tech gadgets and innovations",youtubeId:"kJQP7kiw5Fk",duration:60,reward:.12,category:"tech",thumbnail:"https://img.youtube.com/vi/kJQP7kiw5Fk/maxresdefault.jpg",requiredWatchTime:45,isActive:!0,views:0,totalEarnings:0}];return N(),p.useEffect(()=>{const D=new Date().toDateString(),E=localStorage.getItem(`adStats_${e.id}_${D}`);E&&u(JSON.parse(E))},[e.id]),m.adsWatched<m.dailyLimit,p.useEffect(()=>{const D=localStorage.getItem(`watchedAds_${e.id}`);S(D?JSON.parse(D):[])},[e.id]),p.useEffect(()=>()=>{x.current&&clearInterval(x.current)},[]),s.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[s.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:s.jsx(ze,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),s.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"Watch Ads & Earn USDT"}),s.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Complete ads to earn instant rewards"})]}),s.jsx("div",{className:"glass-card border border-yellow-400/30 shadow-2xl rounded-3xl p-6 mb-8 backdrop-blur-xl",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-white/70 text-sm mb-1",children:"Today's Earnings"}),s.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent drop-shadow-lg",children:["$",m.totalEarned.toFixed(2)]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-white/70 text-sm mb-1",children:"Ads Watched"}),s.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent drop-shadow-lg",children:[m.adsWatched,"/",m.dailyLimit]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-white/70 text-sm mb-1",children:"Current Balance"}),s.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent drop-shadow-lg",children:["$",e.balance.toFixed(2)]})]})]})}),j&&s.jsxs("div",{className:"glass-card border border-purple-400/30 shadow-2xl rounded-3xl p-6 mb-8 backdrop-blur-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pe,{className:"w-8 h-8 text-purple-400 drop-shadow-glow"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"VIP Progress"}),s.jsxs("p",{className:"text-white/70 text-sm",children:["Daily reward: $",j.dailyReward," USDT"]})]})]}),s.jsxs("span",{className:"text-lg font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:[j.adsWatched,"/",j.totalAdsRequired]})]}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full"})})]}),i&&s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2",children:i.title}),s.jsx("p",{className:"text-white/70 text-base",children:i.description})]}),s.jsx("div",{className:"relative bg-black/20 rounded-2xl overflow-hidden mb-6",children:i.youtubeId?s.jsx("iframe",{ref:g,src:`https://www.youtube.com/embed/${i.youtubeId}?autoplay=${a?1:0}&controls=1&modestbranding=1&rel=0`,className:"w-full h-64 sm:h-80 lg:h-96",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):s.jsx("div",{className:"w-full h-64 sm:h-80 lg:h-96 bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center",children:s.jsx(qe,{className:"w-16 h-16 text-white/50"})})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between text-white/70 text-sm mb-2",children:[s.jsxs("span",{children:[Math.floor(l),"s"]}),s.jsxs("span",{children:[i.duration,"s"]})]}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 h-3 rounded-full"})})]}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{onClick:()=>h(!d),className:"px-6 py-3 rounded-lg bg-white/10 border border-white/20 text-white hover:bg-white/20 transition-colors",children:d?s.jsx(qe,{className:"w-5 h-5"}):s.jsx(ql,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>c(i.duration),className:"px-6 py-3 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-400 text-black font-semibold hover:from-yellow-500 hover:to-orange-500 transition-colors",children:s.jsx(Jl,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"text-white/70 text-sm mb-2",children:"Reward for completing this ad:"}),s.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent drop-shadow-lg",children:["$",i.reward.toFixed(2)," USDT"]})]})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Available Ads"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((D,E)=>s.jsx("div",{className:"bg-white/10 border border-white/10 rounded-2xl p-4 hover:scale-105 transition-transform duration-200 cursor-pointer",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qe,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2 drop-shadow-glow"}),s.jsx("h3",{className:"text-white font-semibold mb-1",children:D.title}),s.jsx("p",{className:"text-white/70 text-sm mb-2",children:D.description}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-white/60 text-xs",children:[D.duration,"s"]}),s.jsxs("span",{className:"text-green-400 font-bold",children:["$",D.reward.toFixed(2)]})]})]})},D.id))})]})]})]})},pp={maxAutoApprovalAmount:1e3,minConfirmationTime:5*60*1e3,whitelistedAddresses:[],rateLimitWindow:60*60*1e3,maxDepositsPerWindow:3},ls=new Map;class gp{constructor(e={}){this.config={...pp,...e}}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}async verifyTransaction(e,r,i){try{const n=await fetch(`https://api.trongrid.io/v1/transactions/${e}`);if(!n.ok)throw new Error(`API request failed: ${n.status}`);const a=await n.json();if(!a.data||a.data.length===0)throw new Error("Transaction not found");const o=a.data[0];return{txHash:o.txID,amount:this.parseAmount(o.raw_data?.contract?.[0]?.parameter?.value?.amount),fromAddress:this.formatAddress(o.raw_data?.contract?.[0]?.parameter?.value?.owner_address),toAddress:this.formatAddress(o.raw_data?.contract?.[0]?.parameter?.value?.to_address),timestamp:o.blockTimeStamp,confirmations:o.confirmed?1:0,status:o.confirmed?"confirmed":"pending"}}catch(n){return console.error("Transaction verification failed:",n),null}}parseAmount(e){return typeof e=="string"?parseInt(e)/1e6:e/1e6}formatAddress(e){return e?e.startsWith("T")?e:this.hexToBase58(e):""}hexToBase58(e){return e}isAddressWhitelisted(e){return this.config.whitelistedAddresses.length===0?!0:this.config.whitelistedAddresses.includes(e.toLowerCase())}checkRateLimit(e){const r=Date.now(),i=ls.get(e);return!i||r-i.lastReset>this.config.rateLimitWindow?(ls.set(e,{count:1,lastReset:r}),!0):i.count>=this.config.maxDepositsPerWindow?!1:(i.count++,!0)}checkConfirmationTime(e){return Date.now()-e>=this.config.minConfirmationTime}async verifyDeposit(e,r,i,n){try{if(!this.checkRateLimit(n))return{isValid:!1,reason:`Rate limit exceeded. Maximum ${this.config.maxDepositsPerWindow} deposits per ${this.config.rateLimitWindow/(60*60*1e3)} hour(s)`,autoApprove:!1};const a=await this.verifyTransaction(e,r,i);if(!a)return{isValid:!1,reason:"Transaction not found or verification failed",autoApprove:!1};if(a.toAddress.toLowerCase()!==i.toLowerCase())return{isValid:!1,reason:"Transaction recipient address does not match expected address",transactionData:a,autoApprove:!1};if(Math.abs(a.amount-r)>.01)return{isValid:!1,reason:`Transaction amount (${a.amount} USDT) does not match expected amount (${r} USDT)`,transactionData:a,autoApprove:!1};if(!this.isAddressWhitelisted(a.fromAddress))return{isValid:!1,reason:"Sender address is not whitelisted for auto-approval",transactionData:a,autoApprove:!1};if(!this.checkConfirmationTime(a.timestamp))return{isValid:!0,reason:"Transaction confirmed but waiting for minimum confirmation time",transactionData:a,autoApprove:!1};const o=a.amount<=this.config.maxAutoApprovalAmount;return{isValid:!0,transactionData:a,autoApprove:o,reason:o?"Transaction verified and eligible for auto-approval":`Transaction verified but amount (${a.amount} USDT) exceeds auto-approval limit (${this.config.maxAutoApprovalAmount} USDT)`}}catch(a){return console.error("Deposit verification error:",a),{isValid:!1,reason:"Verification process failed",autoApprove:!1}}}getRateLimitStatus(e){const r=ls.get(e),i=Date.now();return!r||i-r.lastReset>this.config.rateLimitWindow?{remaining:this.config.maxDepositsPerWindow,resetTime:i+this.config.rateLimitWindow}:{remaining:Math.max(0,this.config.maxDepositsPerWindow-r.count),resetTime:r.lastReset+this.config.rateLimitWindow}}clearRateLimit(e){ls.delete(e)}addToWhitelist(e){this.config.whitelistedAddresses.includes(e.toLowerCase())||this.config.whitelistedAddresses.push(e.toLowerCase())}removeFromWhitelist(e){this.config.whitelistedAddresses=this.config.whitelistedAddresses.filter(r=>r!==e.toLowerCase())}}const ja=new gp;var Ls={},gl={exports:{}},bp="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wp=bp,yp=wp;function bl(){}function wl(){}wl.resetWarningCache=bl;var vp=function(){function t(i,n,a,o,l,c){if(c!==yp){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wl,resetWarningCache:bl};return r.PropTypes=r,r};gl.exports=vp();var yl=gl.exports,vl={L:1,M:0,Q:3,H:2},jl={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},jp=jl;function Nl(t){this.mode=jp.MODE_8BIT_BYTE,this.data=t}Nl.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var Np=Nl,cs=vl;function Be(t,e){this.totalCount=t,this.dataCount=e}Be.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Be.getRSBlocks=function(t,e){var r=Be.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=r.length/3,n=new Array,a=0;a<i;a++)for(var o=r[a*3+0],l=r[a*3+1],c=r[a*3+2],d=0;d<o;d++)n.push(new Be(l,c));return n};Be.getRsBlockTable=function(t,e){switch(e){case cs.L:return Be.RS_BLOCK_TABLE[(t-1)*4+0];case cs.M:return Be.RS_BLOCK_TABLE[(t-1)*4+1];case cs.Q:return Be.RS_BLOCK_TABLE[(t-1)*4+2];case cs.H:return Be.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var Ap=Be;function Al(){this.buffer=new Array,this.length=0}Al.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Sp=Al,ke={glog:function(t){if(t<1)throw new Error("glog("+t+")");return ke.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ke.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var le=0;le<8;le++)ke.EXP_TABLE[le]=1<<le;for(var le=8;le<256;le++)ke.EXP_TABLE[le]=ke.EXP_TABLE[le-4]^ke.EXP_TABLE[le-5]^ke.EXP_TABLE[le-6]^ke.EXP_TABLE[le-8];for(var le=0;le<255;le++)ke.LOG_TABLE[ke.EXP_TABLE[le]]=le;var Sl=ke,rt=Sl;function ys(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var i=0;i<t.length-r;i++)this.num[i]=t[i+r]}ys.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var i=0;i<t.getLength();i++)e[r+i]^=rt.gexp(rt.glog(this.get(r))+rt.glog(t.get(i)));return new ys(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=rt.glog(this.get(0))-rt.glog(t.get(0)),r=new Array(this.getLength()),i=0;i<this.getLength();i++)r[i]=this.get(i);for(var i=0;i<t.getLength();i++)r[i]^=rt.gexp(rt.glog(t.get(i))+e);return new ys(r,0).mod(t)}};var Cl=ys,je=jl,Na=Cl,Cp=Sl,He={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},oe={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;oe.getBCHDigit(e)-oe.getBCHDigit(oe.G15)>=0;)e^=oe.G15<<oe.getBCHDigit(e)-oe.getBCHDigit(oe.G15);return(t<<10|e)^oe.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;oe.getBCHDigit(e)-oe.getBCHDigit(oe.G18)>=0;)e^=oe.G18<<oe.getBCHDigit(e)-oe.getBCHDigit(oe.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return oe.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case He.PATTERN000:return(e+r)%2==0;case He.PATTERN001:return e%2==0;case He.PATTERN010:return r%3==0;case He.PATTERN011:return(e+r)%3==0;case He.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case He.PATTERN101:return e*r%2+e*r%3==0;case He.PATTERN110:return(e*r%2+e*r%3)%2==0;case He.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Na([1],0),r=0;r<t;r++)e=e.multiply(new Na([1,Cp.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case je.MODE_NUMBER:return 10;case je.MODE_ALPHA_NUM:return 9;case je.MODE_8BIT_BYTE:return 8;case je.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case je.MODE_NUMBER:return 12;case je.MODE_ALPHA_NUM:return 11;case je.MODE_8BIT_BYTE:return 16;case je.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case je.MODE_NUMBER:return 14;case je.MODE_ALPHA_NUM:return 13;case je.MODE_8BIT_BYTE:return 16;case je.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,i=0;i<e;i++)for(var n=0;n<e;n++){for(var a=0,o=t.isDark(i,n),l=-1;l<=1;l++)if(!(i+l<0||e<=i+l))for(var c=-1;c<=1;c++)n+c<0||e<=n+c||l==0&&c==0||o==t.isDark(i+l,n+c)&&a++;a>5&&(r+=3+a-5)}for(var i=0;i<e-1;i++)for(var n=0;n<e-1;n++){var d=0;t.isDark(i,n)&&d++,t.isDark(i+1,n)&&d++,t.isDark(i,n+1)&&d++,t.isDark(i+1,n+1)&&d++,(d==0||d==4)&&(r+=3)}for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(i,n)&&!t.isDark(i,n+1)&&t.isDark(i,n+2)&&t.isDark(i,n+3)&&t.isDark(i,n+4)&&!t.isDark(i,n+5)&&t.isDark(i,n+6)&&(r+=40);for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(i,n)&&!t.isDark(i+1,n)&&t.isDark(i+2,n)&&t.isDark(i+3,n)&&t.isDark(i+4,n)&&!t.isDark(i+5,n)&&t.isDark(i+6,n)&&(r+=40);for(var h=0,n=0;n<e;n++)for(var i=0;i<e;i++)t.isDark(i,n)&&h++;var m=Math.abs(100*h/e/e-50)/5;return r+=m*10,r}},Ep=oe,kp=Np,El=Ap,kl=Sp,et=Ep,Tp=Cl;function Me(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var ye=Me.prototype;ye.addData=function(t){var e=new kp(t);this.dataList.push(e),this.dataCache=null};ye.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};ye.getModuleCount=function(){return this.moduleCount};ye.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=El.getRSBlocks(t,this.errorCorrectLevel),r=new kl,i=0,n=0;n<e.length;n++)i+=e[n].dataCount;for(var n=0;n<this.dataList.length;n++){var a=this.dataList[n];r.put(a.mode,4),r.put(a.getLength(),et.getLengthInBits(a.mode,t)),a.write(r)}if(r.getLengthInBits()<=i*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};ye.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[r][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Me.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};ye.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(0<=r&&r<=6&&(i==0||i==6)||0<=i&&i<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=i&&i<=4?this.modules[t+r][e+i]=!0:this.modules[t+r][e+i]=!1)};ye.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var i=et.getLostPoint(this);(r==0||t>i)&&(t=i,e=r)}return e};ye.createMovieClip=function(t,e,r){var i=t.createEmptyMovieClip(e,r),n=1;this.make();for(var a=0;a<this.modules.length;a++)for(var o=a*n,l=0;l<this.modules[a].length;l++){var c=l*n,d=this.modules[a][l];d&&(i.beginFill(0,100),i.moveTo(c,o),i.lineTo(c+n,o),i.lineTo(c+n,o+n),i.lineTo(c,o+n),i.endFill())}return i};ye.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};ye.setupPositionAdjustPattern=function(){for(var t=et.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var i=t[e],n=t[r];if(this.modules[i][n]==null)for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)a==-2||a==2||o==-2||o==2||a==0&&o==0?this.modules[i+a][n+o]=!0:this.modules[i+a][n+o]=!1}};ye.setupTypeNumber=function(t){for(var e=et.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var i=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=i}for(var r=0;r<18;r++){var i=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=i}};ye.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,i=et.getBCHTypeInfo(r),n=0;n<15;n++){var a=!t&&(i>>n&1)==1;n<6?this.modules[n][8]=a:n<8?this.modules[n+1][8]=a:this.modules[this.moduleCount-15+n][8]=a}for(var n=0;n<15;n++){var a=!t&&(i>>n&1)==1;n<8?this.modules[8][this.moduleCount-n-1]=a:n<9?this.modules[8][15-n-1+1]=a:this.modules[8][15-n-1]=a}this.modules[this.moduleCount-8][8]=!t};ye.mapData=function(t,e){for(var r=-1,i=this.moduleCount-1,n=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var l=0;l<2;l++)if(this.modules[i][o-l]==null){var c=!1;a<t.length&&(c=(t[a]>>>n&1)==1);var d=et.getMask(e,i,o-l);d&&(c=!c),this.modules[i][o-l]=c,n--,n==-1&&(a++,n=7)}if(i+=r,i<0||this.moduleCount<=i){i-=r,r=-r;break}}};Me.PAD0=236;Me.PAD1=17;Me.createData=function(t,e,r){for(var i=El.getRSBlocks(t,e),n=new kl,a=0;a<r.length;a++){var o=r[a];n.put(o.mode,4),n.put(o.getLength(),et.getLengthInBits(o.mode,t)),o.write(n)}for(var l=0,a=0;a<i.length;a++)l+=i[a].dataCount;if(n.getLengthInBits()>l*8)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+l*8+")");for(n.getLengthInBits()+4<=l*8&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=l*8||(n.put(Me.PAD0,8),n.getLengthInBits()>=l*8));)n.put(Me.PAD1,8);return Me.createBytes(n,i)};Me.createBytes=function(t,e){for(var r=0,i=0,n=0,a=new Array(e.length),o=new Array(e.length),l=0;l<e.length;l++){var c=e[l].dataCount,d=e[l].totalCount-c;i=Math.max(i,c),n=Math.max(n,d),a[l]=new Array(c);for(var h=0;h<a[l].length;h++)a[l][h]=255&t.buffer[h+r];r+=c;var m=et.getErrorCorrectPolynomial(d),u=new Tp(a[l],m.getLength()-1),f=u.mod(m);o[l]=new Array(m.getLength()-1);for(var h=0;h<o[l].length;h++){var w=h+f.getLength()-o[l].length;o[l][h]=w>=0?f.get(w):0}}for(var x=0,h=0;h<e.length;h++)x+=e[h].totalCount;for(var g=new Array(x),b=0,h=0;h<i;h++)for(var l=0;l<e.length;l++)h<a[l].length&&(g[b++]=a[l][h]);for(var h=0;h<n;h++)for(var l=0;l<e.length;l++)h<o[l].length&&(g[b++]=o[l][h]);return g};var Dp=Me,ji={};Object.defineProperty(ji,"__esModule",{value:!0});var Pp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Rp=yl,Ne=Dl(Rp),Tl=p,ds=Dl(Tl);function Dl(t){return t&&t.__esModule?t:{default:t}}function Bp(t,e){var r={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}var Mp={bgColor:Ne.default.oneOfType([Ne.default.object,Ne.default.string]).isRequired,bgD:Ne.default.string.isRequired,fgColor:Ne.default.oneOfType([Ne.default.object,Ne.default.string]).isRequired,fgD:Ne.default.string.isRequired,size:Ne.default.number.isRequired,title:Ne.default.string,viewBoxSize:Ne.default.number.isRequired,xmlns:Ne.default.string},Ni=(0,Tl.forwardRef)(function(t,e){var r=t.bgColor,i=t.bgD,n=t.fgD,a=t.fgColor,o=t.size,l=t.title,c=t.viewBoxSize,d=t.xmlns,h=d===void 0?"http://www.w3.org/2000/svg":d,m=Bp(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return ds.default.createElement("svg",Pp({},m,{height:o,ref:e,viewBox:"0 0 "+c+" "+c,width:o,xmlns:h}),l?ds.default.createElement("title",null,l):null,ds.default.createElement("path",{d:i,fill:r}),ds.default.createElement("path",{d:n,fill:a}))});Ni.displayName="QRCodeSvg";Ni.propTypes=Mp;ji.default=Ni;Object.defineProperty(Ls,"__esModule",{value:!0});Ls.QRCode=void 0;var Ip=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Up=yl,_e=ss(Up),Lp=vl,Vp=ss(Lp),Fp=Dp,Op=ss(Fp),Pl=p,_p=ss(Pl),$p=ji,Qp=ss($p);function ss(t){return t&&t.__esModule?t:{default:t}}function Wp(t,e){var r={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}var zp={bgColor:_e.default.oneOfType([_e.default.object,_e.default.string]),fgColor:_e.default.oneOfType([_e.default.object,_e.default.string]),level:_e.default.string,size:_e.default.number,value:_e.default.string.isRequired},Vs=(0,Pl.forwardRef)(function(t,e){var r=t.bgColor,i=r===void 0?"#FFFFFF":r,n=t.fgColor,a=n===void 0?"#000000":n,o=t.level,l=o===void 0?"L":o,c=t.size,d=c===void 0?256:c,h=t.value,m=Wp(t,["bgColor","fgColor","level","size","value"]),u=new Op.default(-1,Vp.default[l]);u.addData(h),u.make();var f=u.modules;return _p.default.createElement(Qp.default,Ip({},m,{bgColor:i,bgD:f.map(function(w,x){return w.map(function(g,b){return g?"":"M "+b+" "+x+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:a,fgD:f.map(function(w,x){return w.map(function(g,b){return g?"M "+b+" "+x+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:d,viewBoxSize:f.length}))});Ls.QRCode=Vs;Vs.displayName="QRCode";Vs.propTypes=zp;var Aa=Ls.default=Vs;const Hp=({userId:t})=>{const[e,r]=p.useState([]);return p.useEffect(()=>{const i=localStorage.getItem("depositProofs"),n=i?JSON.parse(i):[];r(n.filter(a=>a.userId===t))},[t]),e.length===0?s.jsx("div",{className:"text-white/60 text-sm",children:"No deposit history yet."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/20",children:[s.jsx("th",{className:"px-2 py-2 text-left",children:"Amount"}),s.jsx("th",{className:"px-2 py-2 text-left",children:"Status"}),s.jsx("th",{className:"px-2 py-2 text-left",children:"Date"}),s.jsx("th",{className:"px-2 py-2 text-left",children:"Screenshot"})]})}),s.jsx("tbody",{children:e.slice().reverse().map(i=>s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsxs("td",{className:"px-2 py-2",children:[i.amount," USDT"]}),s.jsx("td",{className:"px-2 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i.status==="approved"?"bg-green-500/20 text-green-400":i.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})}),s.jsx("td",{className:"px-2 py-2",children:new Date(i.submittedAt).toLocaleString()}),s.jsx("td",{className:"px-2 py-2",children:i.screenshot?s.jsx("a",{href:i.screenshot,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-400",children:"View"}):s.jsx("span",{className:"text-white/40",children:"-"})})]},i.id))})]})})},Kp=({userId:t})=>{const[e,r]=p.useState([]);return p.useEffect(()=>{const i=localStorage.getItem("withdrawRequests"),n=i?JSON.parse(i):[];r(n.filter(a=>a.userId===t))},[t]),e.length===0?s.jsx("div",{className:"text-white/60 text-sm",children:"No withdrawal history yet."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm text-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/20",children:[s.jsx("th",{className:"px-2 py-2 text-left",children:"Amount"}),s.jsx("th",{className:"px-2 py-2 text-left",children:"Status"}),s.jsx("th",{className:"px-2 py-2 text-left",children:"Date"}),s.jsx("th",{className:"px-2 py-2 text-left",children:"Address"})]})}),s.jsx("tbody",{children:e.slice().reverse().map(i=>s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsxs("td",{className:"px-2 py-2",children:[i.amount," USDT"]}),s.jsx("td",{className:"px-2 py-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i.status==="approved"?"bg-green-500/20 text-green-400":i.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})}),s.jsx("td",{className:"px-2 py-2",children:new Date(i.requestedAt).toLocaleString()}),s.jsx("td",{className:"px-2 py-2",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Nt,{className:"w-3 h-3 text-white/60 cursor-pointer hover:text-white"}),s.jsx("span",{className:"text-white/80 responsive-text font-mono break-all",children:i.walletAddress})]})})]},i.id))})]})})},Yp=({user:t,onUserUpdate:e})=>{const r=()=>localStorage.getItem("activeWithdrawTab")==="withdraw"?"withdraw":"deposit",[i,n]=p.useState(r),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,h]=p.useState(!1);p.useState(!1);const[m,u]=p.useState(""),[f,w]=p.useState(""),[x,g]=p.useState(null),[b,S]=p.useState(null);p.useState("");const j=p.useRef(null),[k,C]=p.useState(!1);p.useState(""),p.useState("");const[y,N]=p.useState(!1);p.useState(""),p.useState(""),p.useState("");const[A,D]=p.useState([]),[E,V]=p.useState(""),[R,F]=p.useState(""),P=1,T=2,G=W=>{n(W),localStorage.setItem("activeWithdrawTab",W)};p.useEffect(()=>{const W=localStorage.getItem(`withdrawWhitelist_${t.id}`);D(W?JSON.parse(W):[])},[t.id]);const H=()=>{const W=l.trim();if(W&&!A.includes(W)){const z=[...A,W];D(z),localStorage.setItem(`withdrawWhitelist_${t.id}`,JSON.stringify(z))}},O=W=>{const z=A.filter(q=>q!==W);D(z),localStorage.setItem(`withdrawWhitelist_${t.id}`,JSON.stringify(z))},L="TX8aLDW4Nqgfa5MNaMSJS2YGwJeZM9Y6WD",Y=50,Z=1e4,M=10,Q=5e3;p.useEffect(()=>{console.log("Screenshot state changed:",{hasScreenshot:!!x,screenshotLength:x?.length||0})},[x]),p.useEffect(()=>{console.log("Active tab changed:",i)},[i]);const $=async()=>{try{await navigator.clipboard.writeText(L),h(!0),setTimeout(()=>h(!1),2e3)}catch{const z=document.createElement("textarea");z.value=L,document.body.appendChild(z),z.select(),document.execCommand("copy"),document.body.removeChild(z),h(!0),setTimeout(()=>h(!1),2e3)}},ue=W=>{const z=W.target.files?.[0];if(console.log("Screenshot upload triggered:",z),z){if(!z.type.startsWith("image/")){alert("Please select an image file");return}if(z.size>5*1024*1024){alert("Image size must be less than 5MB");return}console.log("File validation passed:",{name:z.name,type:z.type,size:z.size});const q=new FileReader;q.onload=X=>{const we=X.target?.result;console.log("FileReader result length:",we?.length),g(we),S(z),console.log("Screenshot state updated")},q.onerror=X=>{console.error("FileReader error:",X),alert("Error reading file. Please try again.")},q.readAsDataURL(z)}else console.log("No file selected")},Oe=()=>{g(null),S(null),j.current&&(j.current.value="")},be=async()=>{const W=parseFloat(m);if(!m||isNaN(W)||W<Y||W>Z){F(`Deposit must be between ${Y} and ${Z} USDT`);return}if(!x){alert("Please upload a screenshot of your payment transaction.");return}F("");try{const z={id:`deposit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:t.id,username:t.username,amount:W,transactionHash:f||"",screenshot:x,depositToAddress:L,status:"pending",submittedAt:new Date,adminNotes:""};if(f&&f.trim()){alert("Verifying transaction on blockchain...");const me=await ja.verifyDeposit(f.trim(),W,L,t.id);me.isValid?me.autoApprove?(z.status="approved",z.processedAt=new Date,z.adminNotes=`Auto-approved: ${me.reason}`,B.handleDeposit(t.id,W),e({...t,balance:t.balance+W}),alert(`✅ Deposit automatically approved! ${W} USDT has been added to your balance.`)):(z.adminNotes=`Valid transaction but requires manual review: ${me.reason}`,alert(`✅ Transaction verified! Your deposit is pending manual review. Reason: ${me.reason}`)):(z.adminNotes=`Verification failed: ${me.reason}`,alert(`⚠️ Transaction verification failed. Your deposit has been submitted for manual review. Reason: ${me.reason}`))}else z.adminNotes="No transaction hash provided - manual review required",alert(`Deposit proof submitted for ${m} USDT. Awaiting manual review.`);const q=localStorage.getItem("depositProofs"),X=q?JSON.parse(q):[];X.push(z),localStorage.setItem("depositProofs",JSON.stringify(X)),u(""),w(""),g(null),S(null),j.current&&(j.current.value="")}catch(z){console.error("Error submitting deposit:",z),alert("Error submitting deposit. Please try again.")}},Pt=()=>{t.withdrawPasscode?(N(!1),C(!0)):(N(!0),C(!0))},Rt=()=>{Pt()},Bt=[{id:"deposit",label:"Deposit",icon:mr},{id:"withdraw",label:"Withdraw",icon:Vr}];return s.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[s.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:s.jsx(ze,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),s.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8 text-center",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"Wallet"}),s.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Deposit and withdraw your USDT"})]}),s.jsx("div",{className:"glass-card border border-white/10 rounded-2xl p-2 mb-8 backdrop-blur-lg",children:s.jsx("div",{className:"flex space-x-2",children:Bt.map(({id:W,label:z,icon:q})=>s.jsxs("button",{onClick:()=>G(W),className:`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-xl transition-all duration-500 ease-in-out font-medium transform ${i===W?"bg-gradient-to-r from-yellow-400 to-orange-400 text-black shadow-lg scale-105":"text-white/80 hover:text-white hover:bg-white/10 hover:scale-102"}`,children:[s.jsx(q,{className:`w-5 h-5 transition-transform duration-300 ${i===W?"scale-110":""}`}),s.jsx("span",{className:"transition-all duration-300",children:z})]},W))})}),s.jsx("div",{className:"glass-card border border-yellow-400/30 shadow-2xl rounded-3xl p-6 mb-8 backdrop-blur-xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-white/70 text-sm mb-1",children:"Available Balance"}),s.jsxs("span",{className:"text-4xl sm:text-5xl font-extrabold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent drop-shadow-xl",children:["$",t.balance.toFixed(2)]}),s.jsx("p",{className:"text-white/60 text-sm mt-1",children:"USDT"})]})}),s.jsxs("div",{className:"relative",children:[i==="withdraw"&&s.jsxs("div",{className:"animate-fadeInSlideUp",children:[s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Withdrawal Details"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Amount (USDT)"}),s.jsx("input",{type:"number",value:a,onChange:W=>{o(W.target.value);const z=parseFloat(W.target.value);isNaN(z)||z<M?V(`Minimum withdrawal is ${M} USDT`):z>Q?V(`Maximum withdrawal is ${Q} USDT`):V("")},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter amount to withdraw",min:M,max:Q,step:"0.01"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx("button",{onClick:()=>o("50"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"50 USDT"}),s.jsx("button",{onClick:()=>o("100"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"100 USDT"}),s.jsx("button",{onClick:()=>o("500"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"500 USDT"}),s.jsx("button",{onClick:()=>o("1000"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"1000 USDT"})]}),s.jsxs("p",{className:"text-white/60 text-sm mt-1",children:["Minimum: ",M," USDT   |   Maximum: ",Q," USDT"]}),E&&s.jsx("p",{className:"text-red-400 text-xs mt-1",children:E}),a&&!E&&s.jsxs("p",{className:"text-yellow-400 text-xs mt-1",children:["Estimated Network Fee: ",P," USDT",s.jsx("br",{}),"Net Amount Received: ",Math.max(0,parseFloat(a)-P).toFixed(2)," USDT"]}),a&&!E&&s.jsx("p",{className:"text-blue-400 text-xs mt-1",children:"Estimated Arrival: 10-30 minutes"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Withdrawal Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:l,onChange:W=>c(W.target.value),placeholder:"Enter your USDT wallet address",className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all"}),s.jsx("button",{onClick:H,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",disabled:!l.trim()||A.includes(l.trim()),children:s.jsx(Nt,{className:"w-5 h-5"})})]}),A.length>0&&s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-white/60 text-xs",children:"Saved Addresses:"}),A.map(W=>s.jsxs("span",{className:"inline-flex items-center bg-white/10 border border-white/20 rounded px-2 py-1 text-xs text-white font-mono",children:[s.jsx("span",{className:"mr-1 cursor-pointer hover:underline",onClick:()=>c(W),children:W}),s.jsx("button",{onClick:()=>O(W),className:"ml-1 text-red-400 hover:text-red-600",children:"×"})]},W))]})]}),s.jsxs("div",{className:"glass-card border border-blue-400/20 bg-white/10 backdrop-blur-md rounded-lg p-4 shadow-lg",children:[s.jsxs("h3",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[s.jsx(ce,{className:"w-5 h-5 mr-2 text-blue-300"}),"Withdrawal Fee Calculator"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"TRC20 Network Fee:"}),s.jsxs("span",{className:"text-blue-400 font-semibold",children:["~",P," USDT"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Platform Fee:"}),s.jsxs("span",{className:"text-blue-300 font-semibold",children:[T," USDT"]})]}),s.jsxs("div",{className:"border-t border-white/20 pt-2 flex justify-between",children:[s.jsx("span",{className:"text-white font-semibold",children:"Total Fee:"}),s.jsxs("span",{className:"text-white font-semibold",children:["~",P+T," USDT"]})]}),a&&!E&&s.jsxs("div",{className:"border-t border-white/20 pt-2 flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Net Amount Received:"}),s.jsxs("span",{className:"text-green-400 font-semibold",children:[Math.max(0,parseFloat(a)-P-T).toFixed(2)," USDT"]})]}),s.jsx("p",{className:"text-white/60 text-xs mt-2",children:"* Network fees may vary based on blockchain congestion"})]})]}),s.jsxs("div",{className:"glass-card border border-purple-400/20 bg-white/10 backdrop-blur-md rounded-lg p-4 shadow-lg mt-6",children:[s.jsxs("h3",{className:"text-purple-300 font-semibold mb-2 flex items-center",children:[s.jsx(Ci,{className:"w-5 h-5 mr-2 text-purple-300"}),"How to Withdraw USDT"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/90 font-medium",children:"Enter Withdrawal Amount"}),s.jsx("p",{className:"text-white/60",children:"Choose how much USDT you want to withdraw (10-5,000 USDT)"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/90 font-medium",children:"Provide Wallet Address"}),s.jsx("p",{className:"text-white/60",children:"Enter your USDT (TRC20) wallet address for receiving funds"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/90 font-medium",children:"Confirm Withdrawal"}),s.jsx("p",{className:"text-white/60",children:"Review details and confirm your withdrawal request"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/90 font-medium",children:"Wait for Processing"}),s.jsx("p",{className:"text-white/60",children:"Your withdrawal will be processed within 10-30 minutes"})]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-white/10 rounded-lg backdrop-blur-sm",children:s.jsxs("p",{className:"text-white/70 text-xs",children:[s.jsx("strong",{children:"💡 Tip:"})," Make sure your wallet address is correct before confirming. Withdrawals are irreversible once processed."]})})]}),l&&s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-white p-4 rounded-lg",children:s.jsx(Aa,{value:l,size:128})})}),s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-blue-400 font-semibold mb-2 flex items-center",children:[s.jsx(ur,{className:"w-5 h-5 mr-2"}),"Withdrawal Limits & Information"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Minimum Withdrawal:"}),s.jsxs("span",{className:"text-blue-400 font-semibold",children:[M," USDT"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Maximum Per Transaction:"}),s.jsxs("span",{className:"text-blue-400 font-semibold",children:[Q," USDT"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Daily Limit:"}),s.jsx("span",{className:"text-blue-400 font-semibold",children:"10,000 USDT"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Monthly Limit:"}),s.jsx("span",{className:"text-blue-400 font-semibold",children:"100,000 USDT"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Processing Time:"}),s.jsx("span",{className:"text-green-400 font-semibold",children:"10-30 minutes"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Network:"}),s.jsx("span",{className:"text-orange-400 font-semibold",children:"TRC20 Only"})]})]})]}),s.jsxs("div",{className:"glass-card border border-blue-400/20 bg-white/10 backdrop-blur-md rounded-lg p-4 shadow-lg",children:[s.jsxs("h3",{className:"text-blue-300 font-semibold mb-2 flex items-center",children:[s.jsx(vt,{className:"w-5 h-5 mr-2 text-blue-300"}),"Security Reminders"]}),s.jsxs("ul",{className:"text-white/80 text-sm space-y-1",children:[s.jsx("li",{children:"• Double-check your wallet address before confirming"}),s.jsx("li",{children:"• Use only TRC20 USDT wallet addresses"}),s.jsx("li",{children:"• Withdrawals are irreversible once processed"}),s.jsx("li",{children:"• Keep your withdrawal passcode secure"}),s.jsx("li",{children:"• Never share your wallet private keys"})]})]}),s.jsx("button",{onClick:Rt,className:"w-full py-4 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-400 text-black font-bold text-lg shadow-lg hover:from-yellow-500 hover:to-orange-500 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"Withdraw USDT"})]})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-6",children:"Withdrawal History"}),s.jsx(Kp,{userId:t.id})]})]}),i==="deposit"&&s.jsxs("div",{className:"animate-fadeInSlideUp",children:[s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent mb-6",children:"Deposit USDT"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Deposit Amount (USDT)"}),s.jsx("input",{type:"number",value:m,onChange:W=>{u(W.target.value);const z=parseFloat(W.target.value);isNaN(z)||z<Y?F(`Minimum deposit is ${Y} USDT`):z>Z?F(`Maximum deposit is ${Z} USDT`):F("")},className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-green-400/50 focus:border-green-400 transition-all [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter amount you deposited",min:Y,max:Z,step:"0.01"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx("button",{onClick:()=>u("100"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"100 USDT"}),s.jsx("button",{onClick:()=>u("500"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"500 USDT"}),s.jsx("button",{onClick:()=>u("1000"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"1000 USDT"}),s.jsx("button",{onClick:()=>u("2000"),className:"px-3 py-1 bg-white/10 rounded-lg text-white/80 hover:bg-white/20 transition-colors text-sm",children:"2000 USDT"})]}),s.jsxs("p",{className:"text-white/60 text-sm mt-1",children:["Minimum: ",Y," USDT   |   Maximum: ",Z," USDT"]}),R&&s.jsx("p",{className:"text-red-400 text-xs mt-1",children:R}),m&&!R&&s.jsx("p",{className:"text-green-400 text-xs mt-1",children:"✓ Amount is within valid range"})]}),s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-blue-400 font-semibold mb-2 flex items-center",children:[s.jsx(ce,{className:"w-5 h-5 mr-2"}),"Network Fee Calculator"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"TRC20 Network Fee:"}),s.jsx("span",{className:"text-blue-400 font-semibold",children:"~2 USDT"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Platform Fee:"}),s.jsx("span",{className:"text-green-400 font-semibold",children:"0 USDT"})]}),s.jsxs("div",{className:"border-t border-white/20 pt-2 flex justify-between",children:[s.jsx("span",{className:"text-white font-semibold",children:"Total Fee:"}),s.jsx("span",{className:"text-white font-semibold",children:"~2 USDT"})]}),s.jsx("p",{className:"text-white/60 text-xs mt-2",children:"* Network fees may vary based on blockchain congestion"})]})]}),s.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-purple-400 font-semibold mb-2 flex items-center",children:[s.jsx(ur,{className:"w-5 h-5 mr-2"}),"Deposit Limits"]}),s.jsx("div",{className:"space-y-2 text-sm",children:(()=>{const W=ja.getRateLimitStatus(t.id),z=new Date(W.resetTime);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Remaining Deposits:"}),s.jsxs("span",{className:`font-semibold ${W.remaining>0?"text-green-400":"text-red-400"}`,children:[W.remaining," / 3"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white/80",children:"Limit Resets:"}),s.jsx("span",{className:"text-purple-400 font-semibold",children:z.toLocaleTimeString()})]}),W.remaining===0&&s.jsx("p",{className:"text-red-400 text-xs mt-2",children:"⚠️ Rate limit reached. Please wait until the limit resets."})]})})()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Transaction Hash (Optional)"}),s.jsx("input",{type:"text",value:f,onChange:W=>w(W.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-green-400/50 focus:border-green-400 transition-all",placeholder:"Enter your transaction hash (optional)"}),s.jsx("p",{className:"text-white/60 text-sm mt-1",children:"Provide transaction hash for faster verification"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Our Deposit Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:L,readOnly:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white focus:outline-none"}),s.jsx("button",{onClick:$,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:d?s.jsx(Lt,{className:"w-5 h-5 text-green-400"}):s.jsx(Nt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("label",{className:"block text-white/90 font-medium text-center",children:"Scan QR Code to Get Deposit Address"}),s.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg border-2 border-white/20",children:s.jsx(Aa,{value:L,size:160,level:"M",bgColor:"#FFFFFF",fgColor:"#000000"})}),s.jsx("p",{className:"text-white/60 text-sm text-center max-w-xs",children:"Scan this QR code with your wallet app to get the deposit address"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2 text-center",children:"Upload Payment Proof"}),s.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center w-full max-w-md",children:[s.jsx("input",{type:"file",ref:j,onChange:ue,accept:"image/*",className:"hidden"}),x?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:x,alt:"Payment proof",className:"max-w-full h-32 object-contain rounded-lg border border-white/20"}),s.jsx("button",{onClick:Oe,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsx("button",{onClick:()=>j.current?.click(),className:"text-green-400 hover:text-green-300 text-sm underline",children:"Change screenshot"})]}):s.jsxs("button",{onClick:()=>j.current?.click(),className:"flex flex-col items-center space-y-2 text-white/70 hover:text-white transition-colors w-full",children:[s.jsx(mr,{className:"w-8 h-8"}),s.jsx("span",{children:"Click to upload screenshot"}),s.jsx("p",{className:"text-white/50 text-xs",children:"PNG, JPG, JPEG up to 5MB"})]})]}),s.jsx("p",{className:"text-white/60 text-sm text-center max-w-xs mt-2",children:"Upload a screenshot of your payment transaction for verification"})]}),s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-yellow-400 font-semibold mb-2 flex items-center",children:[s.jsx(vt,{className:"w-5 h-5 mr-2"}),"Important Information"]}),s.jsxs("ul",{className:"text-white/80 text-sm space-y-1",children:[s.jsx("li",{children:"• Send only USDT (TRC20) to the address above"}),s.jsxs("li",{children:["• Minimum deposit: ",Y," USDT"]}),s.jsxs("li",{children:["• Maximum deposit: ",Z," USDT"]}),s.jsx("li",{children:"• Processing time: 10-30 minutes after confirmation"}),s.jsx("li",{children:"• Always double-check the address before sending"})]})]}),s.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-green-400 font-semibold mb-2 flex items-center",children:[s.jsx(Ci,{className:"w-5 h-5 mr-2"}),"How to Deposit USDT"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-green-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/90 font-medium",children:"Copy or Scan Address"}),s.jsx("p",{className:"text-white/60",children:"Copy the deposit address above or scan the QR code with your wallet"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-green-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/90 font-medium",children:"Send USDT from Your Wallet"}),s.jsx("p",{className:"text-white/60",children:"Open your wallet app and send USDT (TRC20) to the copied address"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-green-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/90 font-medium",children:"Wait for Confirmation"}),s.jsx("p",{className:"text-white/60",children:"Wait for the transaction to be confirmed on the blockchain (usually 1-3 minutes)"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-green-400 text-black rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:"4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/90 font-medium",children:"Submit Proof"}),s.jsx("p",{className:"text-white/60",children:"Enter the amount, upload screenshot, and submit for verification"})]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-white/5 rounded-lg",children:s.jsxs("p",{className:"text-white/70 text-xs",children:[s.jsx("strong",{children:"💡 Tip:"})," Take a screenshot of your wallet transaction for faster verification. Make sure the screenshot shows the transaction hash, amount, and recipient address."]})})]}),s.jsx("button",{onClick:be,disabled:!x||!m,className:"w-full py-4 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 text-white font-bold text-lg shadow-lg hover:from-green-500 hover:to-blue-500 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Deposit Proof"})]})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-6",children:"Deposit History"}),s.jsx(Hp,{userId:t.id})]})]})]})]})]})},Gp={Afghanistan:"Asia/Kabul",Albania:"Europe/Tirane",Algeria:"Africa/Algiers",Andorra:"Europe/Andorra",Angola:"Africa/Luanda","Antigua and Barbuda":"America/Antigua",Argentina:"America/Argentina/Buenos_Aires",Armenia:"Asia/Yerevan",Australia:"Australia/Sydney",Austria:"Europe/Vienna",Azerbaijan:"Asia/Baku",Bahamas:"America/Nassau",Bahrain:"Asia/Bahrain",Bangladesh:"Asia/Dhaka",Barbados:"America/Barbados",Belarus:"Europe/Minsk",Belgium:"Europe/Brussels",Belize:"America/Belize",Benin:"Africa/Porto-Novo",Bhutan:"Asia/Thimphu",Bolivia:"America/La_Paz","Bosnia and Herzegovina":"Europe/Sarajevo",Botswana:"Africa/Gaborone",Brazil:"America/Sao_Paulo",Brunei:"Asia/Brunei",Bulgaria:"Europe/Sofia","Burkina Faso":"Africa/Ouagadougou",Burundi:"Africa/Bujumbura","Cabo Verde":"Atlantic/Cape_Verde",Cambodia:"Asia/Phnom_Penh",Cameroon:"Africa/Douala",Canada:"America/Toronto","Central African Republic":"Africa/Bangui",Chad:"Africa/Ndjamena",Chile:"America/Santiago",China:"Asia/Shanghai",Colombia:"America/Bogota",Comoros:"Indian/Comoro",Congo:"Africa/Brazzaville","Costa Rica":"America/Costa_Rica",Croatia:"Europe/Zagreb",Cuba:"America/Havana",Cyprus:"Asia/Nicosia","Czech Republic":"Europe/Prague","Democratic Republic of the Congo":"Africa/Kinshasa",Denmark:"Europe/Copenhagen",Djibouti:"Africa/Djibouti",Dominica:"America/Dominica","Dominican Republic":"America/Santo_Domingo","East Timor":"Asia/Dili",Ecuador:"America/Guayaquil",Egypt:"Africa/Cairo","El Salvador":"America/El_Salvador","Equatorial Guinea":"Africa/Malabo",Eritrea:"Africa/Asmara",Estonia:"Europe/Tallinn",Eswatini:"Africa/Mbabane",Ethiopia:"Africa/Addis_Ababa",Fiji:"Pacific/Fiji",Finland:"Europe/Helsinki",France:"Europe/Paris",Gabon:"Africa/Libreville",Gambia:"Africa/Banjul",Georgia:"Asia/Tbilisi",Germany:"Europe/Berlin",Ghana:"Africa/Accra",Greece:"Europe/Athens",Grenada:"America/Grenada",Guatemala:"America/Guatemala",Guinea:"Africa/Conakry","Guinea-Bissau":"Africa/Bissau",Guyana:"America/Guyana",Haiti:"America/Port-au-Prince",Honduras:"America/Tegucigalpa",Hungary:"Europe/Budapest",Iceland:"Atlantic/Reykjavik",India:"Asia/Kolkata",Indonesia:"Asia/Jakarta",Iran:"Asia/Tehran",Iraq:"Asia/Baghdad",Ireland:"Europe/Dublin",Israel:"Asia/Jerusalem",Italy:"Europe/Rome","Ivory Coast":"Africa/Abidjan",Jamaica:"America/Jamaica",Japan:"Asia/Tokyo",Jordan:"Asia/Amman",Kazakhstan:"Asia/Almaty",Kenya:"Africa/Nairobi",Kiribati:"Pacific/Tarawa",Kuwait:"Asia/Kuwait",Kyrgyzstan:"Asia/Bishkek",Laos:"Asia/Vientiane",Latvia:"Europe/Riga",Lebanon:"Asia/Beirut",Lesotho:"Africa/Maseru",Liberia:"Africa/Monrovia",Libya:"Africa/Tripoli",Liechtenstein:"Europe/Vaduz",Lithuania:"Europe/Vilnius",Luxembourg:"Europe/Luxembourg",Madagascar:"Indian/Antananarivo",Malawi:"Africa/Blantyre",Malaysia:"Asia/Kuala_Lumpur",Maldives:"Indian/Maldives",Mali:"Africa/Bamako",Malta:"Europe/Malta","Marshall Islands":"Pacific/Majuro",Mauritania:"Africa/Nouakchott",Mauritius:"Indian/Mauritius",Mexico:"America/Mexico_City",Micronesia:"Pacific/Pohnpei",Moldova:"Europe/Chisinau",Monaco:"Europe/Monaco",Mongolia:"Asia/Ulaanbaatar",Montenegro:"Europe/Podgorica",Morocco:"Africa/Casablanca",Mozambique:"Africa/Maputo",Myanmar:"Asia/Yangon",Namibia:"Africa/Windhoek",Nauru:"Pacific/Nauru",Nepal:"Asia/Kathmandu",Netherlands:"Europe/Amsterdam","New Zealand":"Pacific/Auckland",Nicaragua:"America/Managua",Niger:"Africa/Niamey",Nigeria:"Africa/Lagos","North Korea":"Asia/Pyongyang","North Macedonia":"Europe/Skopje",Norway:"Europe/Oslo",Oman:"Asia/Muscat",Pakistan:"Asia/Karachi",Palau:"Pacific/Palau",Palestine:"Asia/Gaza",Panama:"America/Panama","Papua New Guinea":"Pacific/Port_Moresby",Paraguay:"America/Asuncion",Peru:"America/Lima",Philippines:"Asia/Manila",Poland:"Europe/Warsaw",Portugal:"Europe/Lisbon",Qatar:"Asia/Qatar",Romania:"Europe/Bucharest",Russia:"Europe/Moscow",Rwanda:"Africa/Kigali","Saint Kitts and Nevis":"America/St_Kitts","Saint Lucia":"America/St_Lucia","Saint Vincent and the Grenadines":"America/St_Vincent",Samoa:"Pacific/Apia","San Marino":"Europe/San_Marino","Sao Tome and Principe":"Africa/Sao_Tome","Saudi Arabia":"Asia/Riyadh",Senegal:"Africa/Dakar",Serbia:"Europe/Belgrade",Seychelles:"Indian/Mahe","Sierra Leone":"Africa/Freetown",Singapore:"Asia/Singapore",Slovakia:"Europe/Bratislava",Slovenia:"Europe/Ljubljana","Solomon Islands":"Pacific/Guadalcanal",Somalia:"Africa/Mogadishu","South Africa":"Africa/Johannesburg","South Korea":"Asia/Seoul","South Sudan":"Africa/Juba",Spain:"Europe/Madrid","Sri Lanka":"Asia/Colombo",Sudan:"Africa/Khartoum",Suriname:"America/Paramaribo",Sweden:"Europe/Stockholm",Switzerland:"Europe/Zurich",Syria:"Asia/Damascus",Taiwan:"Asia/Taipei",Tajikistan:"Asia/Dushanbe",Tanzania:"Africa/Dar_es_Salaam",Thailand:"Asia/Bangkok",Togo:"Africa/Lome",Tonga:"Pacific/Tongatapu","Trinidad and Tobago":"America/Port_of_Spain",Tunisia:"Africa/Tunis",Turkey:"Europe/Istanbul",Turkmenistan:"Asia/Ashgabat",Tuvalu:"Pacific/Funafuti",Uganda:"Africa/Kampala",Ukraine:"Europe/Kiev","United Arab Emirates":"Asia/Dubai","United Kingdom":"Europe/London","United States":"America/New_York",Uruguay:"America/Montevideo",Uzbekistan:"Asia/Tashkent",Vanuatu:"Pacific/Efate","Vatican City":"Europe/Vatican",Venezuela:"America/Caracas",Vietnam:"Asia/Ho_Chi_Minh",Yemen:"Asia/Aden",Zambia:"Africa/Lusaka",Zimbabwe:"Africa/Harare"},qp=({user:t,onUserUpdate:e,navigate:r})=>{const[i,n]=p.useState(!1),[a,o]=p.useState(t.profileImage||null),[l,c]=p.useState(!1),d=p.useRef(null),[h,m]=p.useState({emailVerified:t.isEmailVerified||!1,phoneVerified:t.isPhoneVerified||!1,kycVerified:t.kycData?.status==="approved"||!1,kycStatus:t.kycData?.status||"not_submitted"}),[u,f]=p.useState({profileVisibility:t.profileVisibility||"public",showEmail:t.showEmail||!1,showPhone:t.showPhone||!1,showReferralStats:t.showReferralStats||!0}),[w,x]=p.useState({instagram:t.socialLinks?.instagram||"",twitter:t.socialLinks?.twitter||"",facebook:t.socialLinks?.facebook||"",linkedin:t.socialLinks?.linkedin||"",youtube:t.socialLinks?.youtube||""}),[g,b]=p.useState({totalReferrals:t.referralStats?.totalReferrals||0,activeReferrals:t.referralStats?.activeReferrals||0,totalEarnings:t.referralStats?.totalEarnings||0,pendingEarnings:t.referralStats?.pendingEarnings||0}),[S,j]=p.useState(""),[k,C]=p.useState(!1),[y,N]=p.useState(null),[A,D]=p.useState(!1),[E,V]=p.useState({username:t.username,email:t.email,firstName:t.firstName||"",lastName:t.lastName||"",displayName:t.displayName||t.username,bio:t.bio||"",phone:t.phone||"",country:t.country||"",timezone:t.timezone||"UTC",language:t.language||"en",birthday:t.birthday||""}),R=L=>{const Y=L.target.files?.[0];if(Y){if(!Y.type.startsWith("image/")){alert("Please select an image file");return}if(Y.size>5*1024*1024){alert("Image size must be less than 5MB");return}const Z=new FileReader;Z.onload=M=>{const Q=M.target?.result;o(Q),c(!1)},Z.readAsDataURL(Y)}},F=()=>{const L={...t,username:E.username,email:E.email,firstName:E.firstName,lastName:E.lastName,displayName:E.displayName,bio:E.bio,phone:E.phone,country:E.country,timezone:E.timezone,language:E.language,birthday:E.birthday,profileImage:a||void 0};e(L),n(!1)},P=L=>{N(L),C(!0),setTimeout(()=>{alert(`${L==="email"?"Email":"SMS"} verification code sent! Check your ${L==="email"?"email":"phone"}.`)},1e3)},T=()=>{S.length===6?(y==="email"?(m(L=>({...L,emailVerified:!0})),e({...t,isEmailVerified:!0})):y==="phone"&&(m(L=>({...L,phoneVerified:!0})),e({...t,isPhoneVerified:!0})),C(!1),j(""),N(null),alert(`${y==="email"?"Email":"Phone"} verified successfully!`)):alert("Please enter a valid 6-digit verification code")},G=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(t.referralCode),D(!0),setTimeout(()=>D(!1),2e3);else{const L=document.createElement("textarea");L.value=t.referralCode,L.style.position="fixed",L.style.left="-999999px",L.style.top="-999999px",document.body.appendChild(L),L.focus(),L.select();try{document.execCommand("copy"),D(!0),setTimeout(()=>D(!1),2e3)}catch(Y){console.error("Failed to copy: ",Y),alert("Failed to copy referral code. Please copy it manually: "+t.referralCode)}document.body.removeChild(L)}}catch(L){console.error("Failed to copy: ",L),alert("Failed to copy referral code. Please copy it manually: "+t.referralCode)}},H=(L,Y)=>{f(Z=>({...Z,[L]:Y})),e({...t,[L]:Y})},O=(L,Y)=>{x(M=>({...M,[L]:Y}));const Z={...w,[L]:Y};e({...t,socialLinks:Z})};return s.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[s.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:s.jsx(ze,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),s.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"Profile Settings"}),s.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Manage your account information"})]}),s.jsx("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 p-1 mx-auto mb-4",children:s.jsx("div",{className:"w-full h-full rounded-full bg-white/10 flex items-center justify-center",children:a?s.jsx("img",{src:a,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):s.jsx(Es,{className:"w-12 h-12 sm:w-16 sm:h-16 text-white/50"})})}),s.jsx("button",{onClick:()=>d.current?.click(),className:"absolute bottom-0 right-0 bg-gradient-to-r from-yellow-400 to-orange-400 p-2 rounded-full shadow-lg hover:from-yellow-500 hover:to-orange-500 transition-colors",children:s.jsx(Xl,{className:"w-4 h-4 text-black"})})]}),s.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:R,className:"hidden"})]})}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg relative",children:[s.jsx("div",{className:"absolute top-6 right-8 z-20 flex space-x-4",children:i?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>n(!1),className:"px-6 py-3 rounded-lg bg-white/10 border border-white/20 text-white font-semibold hover:bg-white/20 transition-colors shadow-lg",children:"Cancel"}),s.jsxs("button",{onClick:F,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-400 text-black font-semibold hover:from-yellow-500 hover:to-orange-500 transition-colors shadow-lg flex items-center space-x-2",children:[s.jsx(ec,{className:"w-4 h-4"}),s.jsx("span",{children:"Save Changes"})]})]}):s.jsxs("button",{onClick:()=>n(!0),className:"px-6 py-3 rounded-lg bg-gradient-to-r from-blue-400 to-purple-400 text-white font-semibold hover:from-blue-500 hover:to-purple-500 transition-colors shadow-lg flex items-center space-x-2",children:[s.jsx(Zl,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit Profile"})]})}),s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"First Name"}),s.jsx("input",{type:"text",value:E.firstName,onChange:L=>V({...E,firstName:L.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Enter first name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Last Name"}),s.jsx("input",{type:"text",value:E.lastName,onChange:L=>V({...E,lastName:L.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Enter last name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Username"}),s.jsx("input",{type:"text",value:E.username,onChange:L=>V({...E,username:L.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Enter username"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Display Name"}),s.jsx("input",{type:"text",value:E.displayName,onChange:L=>V({...E,displayName:L.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Enter display name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Email"}),s.jsx("input",{type:"email",value:E.email,onChange:L=>V({...E,email:L.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Enter email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Birthday"}),s.jsx("input",{type:"date",value:E.birthday,onChange:L=>V({...E,birthday:L.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,max:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Phone"}),s.jsx("input",{type:"tel",value:E.phone,onChange:L=>V({...E,phone:L.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Country"}),s.jsxs("select",{value:E.country,onChange:L=>V({...E,country:L.target.value}),disabled:!i,className:`w-full border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,children:[s.jsx("option",{value:"",children:"Select country"}),Object.keys(Gp).map(L=>s.jsx("option",{value:L,style:{backgroundColor:"#1f2937",color:"white"},children:L},L))]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Bio"}),s.jsx("textarea",{value:E.bio,onChange:L=>V({...E,bio:L.target.value}),disabled:!i,rows:4,className:`w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all resize-none ${i?"bg-white/10":"bg-white/5 cursor-not-allowed"}`,placeholder:"Tell us about yourself..."})]})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Verification Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 backdrop-blur-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ks,{className:"w-6 h-6 text-blue-400"}),s.jsx("span",{className:"text-white font-semibold",children:"Email"})]}),h.emailVerified?s.jsx(xe,{className:"w-6 h-6 text-green-400"}):s.jsx(ot,{className:"w-6 h-6 text-red-400"})]}),s.jsx("p",{className:"text-white/70 text-sm mb-4",children:h.emailVerified?"Email verified successfully":"Email not verified"}),!h.emailVerified&&s.jsx("button",{onClick:()=>P("email"),className:"w-full px-4 py-2 bg-gradient-to-r from-blue-400 to-purple-400 text-white rounded-lg hover:from-blue-500 hover:to-purple-500 transition-colors",children:"Verify Email"})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 backdrop-blur-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Or,{className:"w-6 h-6 text-green-400"}),s.jsx("span",{className:"text-white font-semibold",children:"Phone"})]}),h.phoneVerified?s.jsx(xe,{className:"w-6 h-6 text-green-400"}):s.jsx(ot,{className:"w-6 h-6 text-red-400"})]}),s.jsx("p",{className:"text-white/70 text-sm mb-4",children:h.phoneVerified?"Phone verified successfully":"Phone not verified"}),!h.phoneVerified&&s.jsx("button",{onClick:()=>P("phone"),className:"w-full px-4 py-2 bg-gradient-to-r from-green-400 to-teal-400 text-white rounded-lg hover:from-green-500 hover:to-teal-500 transition-colors",children:"Verify Phone"})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 backdrop-blur-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yt,{className:"w-6 h-6 text-purple-400"}),s.jsx("span",{className:"text-white font-semibold",children:"KYC"})]}),h.kycVerified?s.jsx(xe,{className:"w-6 h-6 text-green-400"}):h.kycStatus==="pending"?s.jsx(Qe,{className:"w-6 h-6 text-yellow-400"}):s.jsx(ot,{className:"w-6 h-6 text-red-400"})]}),s.jsx("p",{className:"text-white/70 text-sm mb-4",children:h.kycVerified?"KYC approved":h.kycStatus==="pending"?"KYC under review":h.kycStatus==="rejected"?"KYC rejected":"KYC not submitted"}),h.kycStatus==="not_submitted"&&s.jsx("button",{onClick:()=>r("/kyc"),className:"w-full px-4 py-2 bg-gradient-to-r from-purple-400 to-pink-400 text-white rounded-lg hover:from-purple-500 hover:to-pink-500 transition-colors",children:"Submit KYC"})]})]})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Referral Code"}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 backdrop-blur-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xe,{className:"w-6 h-6 text-yellow-400"}),s.jsx("span",{className:"text-white font-semibold",children:"Your Referral Code"})]}),s.jsxs("button",{onClick:G,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-400 text-black rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-colors",children:[s.jsx(Nt,{className:"w-4 h-4"}),s.jsx("span",{children:A?"Copied!":"Copy"})]})]}),s.jsx("div",{className:"bg-white/10 border border-white/20 rounded-lg p-4 mb-4",children:s.jsx("code",{className:"text-2xl font-mono text-white font-bold tracking-wider",children:t.referralCode})}),s.jsx("p",{className:"text-white/70 text-sm",children:"Share this code with friends to earn rewards when they join!"})]})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Referral Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 backdrop-blur-md text-center",children:[s.jsx(Ce,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:g.totalReferrals}),s.jsx("div",{className:"text-white/70 text-sm",children:"Total Referrals"})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 backdrop-blur-md text-center",children:[s.jsx(xe,{className:"w-8 h-8 text-green-400 mx-auto mb-3"}),s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:g.activeReferrals}),s.jsx("div",{className:"text-white/70 text-sm",children:"Active Referrals"})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 backdrop-blur-md text-center",children:[s.jsx(ce,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),s.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",g.totalEarnings.toFixed(2)]}),s.jsx("div",{className:"text-white/70 text-sm",children:"Total Earnings"})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 backdrop-blur-md text-center",children:[s.jsx(Qe,{className:"w-8 h-8 text-orange-400 mx-auto mb-3"}),s.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",g.pendingEarnings.toFixed(2)]}),s.jsx("div",{className:"text-white/70 text-sm",children:"Pending Earnings"})]})]})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Privacy Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 glass-card border border-white/10 rounded-2xl backdrop-blur-md",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:"Profile Visibility"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Control who can see your profile"})]}),s.jsxs("select",{value:u.profileVisibility,onChange:L=>H("profileVisibility",L.target.value),className:"bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400/50",children:[s.jsx("option",{value:"public",children:"Public"}),s.jsx("option",{value:"friends",children:"Friends Only"}),s.jsx("option",{value:"private",children:"Private"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 glass-card border border-white/10 rounded-2xl backdrop-blur-md",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:"Show Email"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Display email on public profile"})]}),s.jsx("button",{onClick:()=>H("showEmail",!u.showEmail),className:`w-12 h-6 rounded-full transition-colors ${u.showEmail?"bg-gradient-to-r from-green-400 to-teal-400":"bg-white/20"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${u.showEmail?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 glass-card border border-white/10 rounded-2xl backdrop-blur-md",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:"Show Phone"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Display phone on public profile"})]}),s.jsx("button",{onClick:()=>H("showPhone",!u.showPhone),className:`w-12 h-6 rounded-full transition-colors ${u.showPhone?"bg-gradient-to-r from-green-400 to-teal-400":"bg-white/20"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${u.showPhone?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 glass-card border border-white/10 rounded-2xl backdrop-blur-md",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold mb-1",children:"Show Referral Stats"}),s.jsx("p",{className:"text-white/70 text-sm",children:"Display referral statistics publicly"})]}),s.jsx("button",{onClick:()=>H("showReferralStats",!u.showReferralStats),className:`w-12 h-6 rounded-full transition-colors ${u.showReferralStats?"bg-gradient-to-r from-green-400 to-teal-400":"bg-white/20"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${u.showReferralStats?"translate-x-6":"translate-x-1"}`})})]})]})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Social Media Links"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/90 font-medium mb-2 flex items-center space-x-2",children:[s.jsx(tc,{className:"w-5 h-5 text-pink-400"}),s.jsx("span",{children:"Instagram"})]}),s.jsx("input",{type:"text",value:w.instagram,onChange:L=>O("instagram",L.target.value),className:"w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all bg-white/10",placeholder:"Your Instagram username"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/90 font-medium mb-2 flex items-center space-x-2",children:[s.jsx(sc,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{children:"Twitter"})]}),s.jsx("input",{type:"text",value:w.twitter,onChange:L=>O("twitter",L.target.value),className:"w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all bg-white/10",placeholder:"Your Twitter username"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/90 font-medium mb-2 flex items-center space-x-2",children:[s.jsx(rc,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{children:"Facebook"})]}),s.jsx("input",{type:"text",value:w.facebook,onChange:L=>O("facebook",L.target.value),className:"w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all bg-white/10",placeholder:"Your Facebook profile URL"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/90 font-medium mb-2 flex items-center space-x-2",children:[s.jsx(ic,{className:"w-5 h-5 text-blue-500"}),s.jsx("span",{children:"LinkedIn"})]}),s.jsx("input",{type:"text",value:w.linkedin,onChange:L=>O("linkedin",L.target.value),className:"w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all bg-white/10",placeholder:"Your LinkedIn profile URL"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/90 font-medium mb-2 flex items-center space-x-2",children:[s.jsx(nc,{className:"w-5 h-5 text-red-500"}),s.jsx("span",{children:"YouTube"})]}),s.jsx("input",{type:"text",value:w.youtube,onChange:L=>O("youtube",L.target.value),className:"w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all bg-white/10",placeholder:"Your YouTube channel URL"})]})]})]}),k&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg max-w-md w-full",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Verify ",y==="email"?"Email":"Phone"]}),s.jsxs("p",{className:"text-white/70 mb-6",children:["Enter the 6-digit verification code sent to your ",y==="email"?"email":"phone","."]}),s.jsx("input",{type:"text",value:S,onChange:L=>j(L.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all bg-white/10 text-center text-2xl font-mono tracking-widest mb-6",placeholder:"000000",maxLength:6}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>{C(!1),j(""),N(null)},className:"flex-1 px-4 py-2 bg-white/10 border border-white/20 text-white rounded-lg hover:bg-white/20 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:T,className:"flex-1 px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-400 text-black rounded-lg hover:from-yellow-500 hover:to-orange-500 transition-colors",children:"Verify"})]})]})})]})]})},Jp=({onBack:t})=>{const[e,r]=p.useState(null),[i,n]=p.useState([]),[a,o]=p.useState(!1);p.useState("overview"),p.useEffect(()=>{const f=B.getCurrentUser();console.log("ReferralPage - Current user:",f),f&&(r(f),n(f.referralHistory||[]))},[]);const l=async()=>{if(e?.referralCode)try{await navigator.clipboard.writeText(e.referralCode),o(!0),setTimeout(()=>o(!1),2e3)}catch(f){console.error("Failed to copy: ",f)}},c=()=>{const f=`${window.location.origin}?ref=${e?.id}`,w=`Join CryptoRewards and start earning USDT! Use my referral link: ${f}`;navigator.share?navigator.share({title:"Join CryptoRewards",text:w,url:f}):(navigator.clipboard.writeText(w),o(!0),setTimeout(()=>o(!1),2e3))},d=()=>`${window.location.origin}?ref=${e?.id}`,h=f=>f==="active"?s.jsx(xe,{className:"w-4 h-4 text-green-400"}):s.jsx(ot,{className:"w-4 h-4 text-red-400"}),m=f=>f==="active"?"Active":"Inactive",u=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e?s.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[s.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:s.jsx(ze,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),s.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"Referral Program"}),s.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Invite friends and earn rewards together"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[{icon:s.jsx(Ce,{className:"w-8 h-8 text-purple-400 drop-shadow-glow"}),value:e?.referralCount||0,label:"Total Referrals",color:"from-purple-400 to-pink-400"},{icon:s.jsx(ce,{className:"w-8 h-8 text-green-400 drop-shadow-glow"}),value:`$${(e?.referralEarnings||0).toFixed(2)}`,label:"Total Earnings",color:"from-green-400 to-blue-400"},{icon:s.jsx(Xe,{className:"w-8 h-8 text-yellow-400 drop-shadow-glow"}),value:"$2.00",label:"Per Referral",color:"from-yellow-400 to-orange-400"}].map((f,w)=>s.jsxs("div",{className:"glass-card border border-white/10 rounded-2xl p-6 text-center backdrop-blur-lg",children:[f.icon,s.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${f.color} bg-clip-text text-transparent drop-shadow-lg block mt-2`,children:f.value}),s.jsx("p",{className:"text-white/70 text-sm mt-1",children:f.label})]},f.label))}),s.jsxs("div",{className:"glass-card border border-yellow-400/30 shadow-2xl rounded-3xl p-8 mb-8 backdrop-blur-xl",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Your Referral Link"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:d(),readOnly:!0,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white focus:outline-none"}),s.jsx("button",{onClick:l,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:a?s.jsx(Lt,{className:"w-5 h-5 text-green-400"}):s.jsx(Nt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{onClick:l,className:"flex-1 py-3 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-400 text-black font-semibold hover:from-yellow-500 hover:to-orange-500 transition-colors shadow-lg",children:[s.jsx(Nt,{className:"w-5 h-5 inline mr-2"}),"Copy Link"]}),s.jsxs("button",{onClick:c,className:"flex-1 py-3 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 text-white font-semibold hover:from-green-500 hover:to-blue-500 transition-colors shadow-lg",children:[s.jsx(ac,{className:"w-5 h-5 inline mr-2"}),"Share"]})]})]})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-6",children:"Referral History"}),s.jsx("div",{className:"space-y-4",children:i.length>0?i.map((f,w)=>s.jsxs("div",{className:"bg-white/10 border border-white/10 rounded-2xl p-4 flex items-center justify-between hover:scale-[1.02] transition-transform duration-200",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-2 rounded-full",children:s.jsx(Ce,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold",children:f.referredUsername}),s.jsxs("p",{className:"text-white/60 text-sm",children:["Joined ",u(f.joinDate)]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[h(f.status),s.jsx("span",{className:`text-sm font-medium ${f.status==="active"?"text-green-400":"text-red-400"}`,children:m(f.status)})]})]},f.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ce,{className:"w-16 h-16 text-white/30 mx-auto mb-4"}),s.jsx("p",{className:"text-white/60 text-lg",children:"No referrals yet"}),s.jsx("p",{className:"text-white/40 text-sm",children:"Share your link to start earning!"})]})})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-white text-xl mb-4",children:"Loading Referral Page..."}),s.jsx("div",{className:"text-white/60",children:"Please wait while we load your referral data"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-yellow-400 text-black rounded-lg hover:bg-yellow-300 transition-colors",children:"Refresh Page"})]})})},Xp=({userId:t,onSessionTerminated:e})=>{const[r,i]=p.useState([]),[n,a]=p.useState(!0),[o,l]=p.useState(null),[c,d]=p.useState(!1);p.useEffect(()=>{h();const g=setTimeout(()=>{B.getUserSessions(t).find(k=>k.isCurrentSession)||(B.createSession(t),h())},1e3),b=setInterval(h,3e4);return()=>{clearTimeout(g),clearInterval(b)}},[t]);const h=()=>{console.log("📱 SessionManager: Loading sessions for user:",t),B.removeDuplicateSessions(t);const x=B.getUserSessions(t);console.log("📱 SessionManager: Found sessions:",x),i(x),a(!1)},m=async x=>{l(x);try{B.terminateSession(x),i(g=>g.filter(b=>b.id!==x)),e?.()}catch(g){console.error("Error terminating session:",g)}finally{l(null)}},u=async()=>{d(!0);try{B.terminateAllOtherSessions(t);const x=B.getCurrentSession(t);i(x?[x]:[]),e?.()}catch(x){console.error("Error terminating all other sessions:",x)}finally{d(!1)}},f=x=>{switch(x){case"mobile":return s.jsx(Or,{className:"w-4 h-4"});case"tablet":return s.jsx(lc,{className:"w-4 h-4"});default:return s.jsx(Ea,{className:"w-4 h-4"})}},w=x=>{switch(x){case"mobile":return"text-blue-400";case"tablet":return"text-purple-400";default:return"text-green-400"}};return n?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(mt,{className:"w-6 h-6 text-white/60 animate-spin"}),s.jsx("span",{className:"ml-2 text-white/60",children:"Loading sessions..."})]}):r.length===0?(console.log("📱 No sessions found, creating current session for user:",t),B.createSession(t),s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(mt,{className:"w-6 h-6 text-white/60 animate-spin"}),s.jsx("span",{className:"ml-2 text-white/60",children:"Creating current session..."})]})):s.jsxs("div",{className:"space-y-4",children:[r.filter(x=>x.isCurrentSession).map(x=>s.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`mt-1 ${w(x.deviceType)}`,children:f(x.deviceType)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-white",children:x.deviceName}),s.jsx("span",{className:"bg-green-500/20 text-green-400 text-xs px-2 py-1 rounded-full",children:"Current Session"})]}),s.jsxs("p",{className:"text-white/70 text-sm mb-2",children:[x.browser," on ",x.os]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Qe,{className:"w-3 h-3"}),s.jsxs("span",{children:["Logged in ",B.formatRelativeTime(x.loginTime)]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Se,{className:"w-3 h-3"}),s.jsxs("span",{children:["Last active ",B.formatRelativeTime(x.lastActive)]})]})]}),x.ipAddress&&s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60 mt-1",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Se,{className:"w-3 h-3"}),s.jsxs("span",{children:["IP: ",x.ipAddress]})]}),x.location&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Se,{className:"w-3 h-3"}),s.jsxs("span",{children:["Location: ",x.location]})]})]})]})]})})},x.id)),r.filter(x=>!x.isCurrentSession).length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"border-t border-white/20 pt-4",children:[s.jsx("h4",{className:"text-white font-semibold mb-3",children:"Other Active Sessions"}),s.jsx("div",{className:"space-y-3",children:r.filter(x=>!x.isCurrentSession).map(x=>s.jsx("div",{className:"bg-white/5 border border-white/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`mt-1 ${w(x.deviceType)}`,children:f(x.deviceType)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-white mb-1",children:x.deviceName}),s.jsxs("p",{className:"text-white/70 text-sm mb-2",children:[x.browser," on ",x.os]}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Qe,{className:"w-3 h-3"}),s.jsxs("span",{children:["Logged in ",B.formatRelativeTime(x.loginTime)]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Se,{className:"w-3 h-3"}),s.jsxs("span",{children:["Last active ",B.formatRelativeTime(x.lastActive)]})]})]}),x.ipAddress&&s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60 mt-1",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Se,{className:"w-3 h-3"}),s.jsxs("span",{children:["IP: ",x.ipAddress]})]}),x.location&&s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(Se,{className:"w-3 h-3"}),s.jsxs("span",{children:["Location: ",x.location]})]})]})]})]}),s.jsxs("button",{onClick:()=>m(x.id),disabled:o===x.id,className:"flex items-center space-x-1 px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 rounded-lg transition-all duration-200 text-sm font-medium border border-red-500/30 hover:border-red-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[o===x.id?s.jsx(mt,{className:"w-3 h-3 animate-spin"}):s.jsx(cr,{className:"w-3 h-3"}),s.jsx("span",{children:o===x.id?"Terminating...":"Log out"})]})]})},x.id))})]}),s.jsxs("div",{className:"border-t border-white/20 pt-4",children:[s.jsxs("button",{onClick:u,disabled:c,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 rounded-lg transition-all duration-200 font-medium border border-red-500/30 hover:border-red-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?s.jsx(mt,{className:"w-4 h-4 animate-spin"}):s.jsx(oc,{className:"w-4 h-4"}),s.jsx("span",{children:c?"Terminating...":"Log out of all other devices"})]}),s.jsx("p",{className:"text-white/50 text-xs mt-2 text-center",children:"This will log you out of all devices except this one"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mt-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(xe,{className:"w-4 h-4 text-green-400"}),s.jsx("h4",{className:"text-white font-semibold",children:"Session Security"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[s.jsx("p",{children:"• Your sessions are automatically tracked for security"}),s.jsx("p",{children:"• You can log out of individual devices or all devices at once"}),s.jsx("p",{children:"• Sessions show device type, browser, and last activity"}),s.jsx("p",{children:"• Current session is highlighted in green"})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20",children:[s.jsx("h5",{className:"text-white font-medium mb-2",children:"Debug Tools"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>{console.log("🔧 Manual session creation for user:",t),B.createSession(t),setTimeout(h,1e3)},className:"px-3 py-1 bg-blue-500/20 hover:bg-blue-500/40 text-blue-400 rounded text-xs",children:"Create Test Session"}),s.jsx("button",{onClick:()=>{console.log("🔧 Clearing all sessions for user:",t),B.terminateAllSessions(t),h()},className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/40 text-red-400 rounded text-xs ml-2",children:"Clear All Sessions"}),s.jsx("button",{onClick:()=>{console.log("🔧 Current user agent:",navigator.userAgent),console.log("🔧 Current location:",window.location.href),alert(`User Agent: ${navigator.userAgent}
Location: ${window.location.href}`)},className:"px-3 py-1 bg-yellow-500/20 hover:bg-yellow-500/40 text-yellow-400 rounded text-xs ml-2",children:"Show Debug Info"})]})]})]})]})},Zp=({user:t,onUserUpdate:e,onBack:r,showSecurityAndNotifications:i,onShowNotificationSettings:n,onShowTwoFactorAuth:a,onShowKYCVerification:o})=>{const[l,c]=p.useState({language:t.language||"en",sessionTimeout:t.sessionTimeout||30,autoPlayAds:t.autoPlayAds!==!1,showEarnings:t.showEarnings!==!1,soundEnabled:t.soundEnabled!==!1}),[d,h]=p.useState(!1),[m,u]=p.useState(null),[f,w]=p.useState(t.showProfilePublicly||!1),x=Ts(),[g,b]=p.useState(!1),[S,j]=p.useState(!1),[k,C]=p.useState(!1),[y,N]=p.useState(""),[A,D]=p.useState(""),[E,V]=p.useState(!1),[R,F]=p.useState(!1),[P,T]=p.useState(!1),[G,H]=p.useState(""),[O,L]=p.useState(""),[Y,Z]=p.useState(!1),[M,Q]=p.useState(!1);p.useEffect(()=>{t&&t.pendingDeletion&&F(!0)},[t]);const $=(q,X)=>{c(we=>({...we,[q]:X})),w(X),e({...t,showProfilePublicly:X}),u(X?"Your profile is now public.":"Your profile is now private."),setTimeout(()=>u(null),3e3)},ue=()=>{try{const q=JSON.stringify(t,null,2),X=new Blob([q],{type:"application/json"}),we=URL.createObjectURL(X),me=document.createElement("a");me.href=we,me.download="my-crypto-rewards-data.json",document.body.appendChild(me),me.click(),document.body.removeChild(me),u("Your data has been downloaded."),setTimeout(()=>u(null),3e3)}catch{u("Failed to download data."),setTimeout(()=>u(null),3e3)}},Oe=()=>{h(!0)},be=()=>{h(!1),u("Your data deletion request has been submitted."),setTimeout(()=>u(null),3e3)},Pt=()=>{b(!0)},Rt=()=>{b(!1),C(!0),N(""),D("")},Bt=q=>{if(q.preventDefault(),y===t.password){C(!1),V(!0),u("Your account is scheduled for deletion in 30 days. You can cancel this request by logging in before then."),j(!0);const X=userStorage.getAllUsers().map(we=>we.id===t.id?{...we,pendingDeletion:!0}:we);localStorage.setItem("cryptoRewardsUsers",JSON.stringify(X)),userStorage.setCurrentUser(null),setTimeout(()=>{u(null),x("/"),window.location.reload()},2e3)}else D("Incorrect password. Please try again.")},W=()=>{const q=userStorage.getAllUsers().map(X=>X.id===t.id?{...X,pendingDeletion:!1}:X);localStorage.setItem("cryptoRewardsUsers",JSON.stringify(q)),F(!1),T(!0),setTimeout(()=>T(!1),3e3),e({...t,pendingDeletion:!1})},z=()=>{if(!G||!O){alert("Please enter both current and new passwords");return}alert("Password changed successfully!"),H(""),L("")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 dark:text-white transition-colors duration-300",children:[s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("div",{className:"self-start mb-2",children:s.jsxs("button",{onClick:r,className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",children:[s.jsx(ht,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Dashboard"})]})}),s.jsx("h1",{className:"text-3xl font-bold text-white text-center w-full",children:"Settings"})]}),s.jsxs("div",{className:"bg-white/5 dark:text-white rounded-2xl p-6 mb-12 w-full max-w-2xl mx-auto shadow-lg transition-colors duration-300",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Account & Security"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Or,{className:"w-6 h-6 text-green-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Manage Sessions & Devices"})]}),s.jsx("p",{className:"text-white/70 mb-2",children:"View and log out of your active sessions and devices."}),s.jsx(Xp,{userId:t.id,onSessionTerminated:()=>{console.log("Session terminated")}})]}),s.jsxs(te.div,{className:"glass-card border border-white/10 rounded-3xl p-8 backdrop-blur-lg mt-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent mb-6",children:"Security Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:Y?"text":"password",value:G,onChange:q=>H(q.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all",placeholder:"Enter current password"}),s.jsx("button",{onClick:()=>Z(!Y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:Y?s.jsx(dt,{className:"w-5 h-5"}):s.jsx(Ve,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 font-medium mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:M?"text":"password",value:O,onChange:q=>L(q.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 pr-12 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 focus:border-yellow-400 transition-all",placeholder:"Enter new password"}),s.jsx("button",{onClick:()=>Q(!M),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",children:M?s.jsx(dt,{className:"w-5 h-5"}):s.jsx(Ve,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:z,disabled:!G||!O,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-green-400 to-blue-400 text-white font-semibold hover:from-green-500 hover:to-blue-500 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Change Password"})})]})]}),s.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(yt,{className:"w-6 h-6 text-blue-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Privacy & Data Controls"})]}),s.jsx("p",{className:"text-white/70 mb-2",children:"Manage your privacy and data sharing preferences."}),s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f,onChange:q=>$("showProfilePublicly",q.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-14 h-8 bg-gray-300 dark:bg-gray-700 rounded-full peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-400 transition-all duration-300 peer-checked:bg-blue-500 flex items-center px-1",children:s.jsx("span",{className:`transition-all duration-300 w-6 h-6 flex items-center justify-center rounded-full bg-white shadow-md ${f?"translate-x-6":"translate-x-0"}`,children:f?s.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})}),s.jsx("span",{className:"ml-4 text-white text-base font-medium select-none",children:"Show my profile publicly"})]}),s.jsx("span",{className:"ml-2 text-xs text-white/50",title:"If enabled, your profile will be visible to other users.",children:s.jsx(zt,{className:"w-4 h-4"})})]}),s.jsx("button",{className:"mr-2 px-4 py-2 rounded bg-blue-500/20 hover:bg-blue-500/40 text-blue-400",onClick:ue,children:"Download my data"}),s.jsx("button",{className:"px-4 py-2 rounded bg-red-500/20 hover:bg-red-500/40 text-red-400",onClick:Oe,children:"Request data deletion"}),m&&s.jsx("div",{className:"mt-3 text-green-400",children:m}),d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 max-w-sm w-full shadow-lg",children:[s.jsx("h4",{className:"text-lg font-bold mb-2 text-red-500",children:"Confirm Data Deletion"}),s.jsxs("p",{className:"mb-4 text-white/80",children:["This will ",s.jsx("b",{children:"permanently delete"})," your account and all associated data. Are you sure?"]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:be,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Yes, delete my data"}),s.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600",children:"Cancel"})]})]})})]}),s.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300 mt-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(vt,{className:"w-7 h-7 text-red-400"}),s.jsx("h3",{className:"text-2xl font-bold text-red-400",children:"Account Deletion"})]}),s.jsxs("p",{className:"text-white/80 mb-4 text-base",children:["Permanently delete your account and all associated data. ",s.jsx("b",{children:"This action cannot be undone."})]}),s.jsx("button",{className:`px-6 py-3 rounded-lg text-lg font-semibold transition-all duration-200 border border-red-500/40 shadow-sm focus:outline-none focus:ring-2 focus:ring-red-400/50 ${S?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-red-500/20 hover:bg-red-500/40 text-red-400 hover:text-white"}`,onClick:Pt,disabled:S,children:E?"Deletion Scheduled":S?"Account Deleted":"Request Account Deletion"}),g&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-8 max-w-md w-full shadow-xl border border-red-400",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(vt,{className:"w-6 h-6 text-red-500 mr-2"}),s.jsx("h4",{className:"text-lg font-bold text-red-500",children:"Confirm Account Deletion"})]}),s.jsxs("p",{className:"mb-4 text-gray-800 dark:text-white/80",children:["This will ",s.jsx("b",{children:"permanently delete"})," your account and all associated data. ",s.jsx("br",{}),"This action cannot be undone. Are you absolutely sure?"]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:Rt,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 font-semibold",children:"Yes, continue"}),s.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600",children:"Cancel"})]})]})}),k&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:s.jsxs("form",{onSubmit:Bt,className:"bg-white dark:bg-gray-900 rounded-lg p-8 max-w-md w-full shadow-xl border border-blue-400",children:[s.jsx("h4",{className:"text-lg font-bold text-blue-500 mb-2",children:"Verify Your Password"}),s.jsx("p",{className:"mb-4 text-gray-800 dark:text-white/80",children:"For your security, please enter your password to confirm account deletion."}),s.jsx("input",{type:"password",className:"w-full px-4 py-2 rounded border border-gray-300 dark:border-gray-700 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter your password",value:y,onChange:q=>N(q.target.value),autoFocus:!0}),A&&s.jsx("div",{className:"text-red-500 mb-2 text-sm",children:A}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 font-semibold",children:"Confirm"}),s.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600",children:"Cancel"})]})]})}),m&&s.jsx("div",{className:"mt-4 text-center text-red-400 text-base font-semibold",children:m})]}),s.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ce,{className:"w-6 h-6 text-yellow-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Referral & Invite"})]}),s.jsx("p",{className:"text-white/70 mb-2",children:"Share your referral code and invite friends."}),s.jsx("div",{className:"bg-white/5 rounded p-3 text-white/80 text-sm",children:"(Referral code and invite link placeholder)"}),s.jsx("button",{className:"mt-3 bg-yellow-500/20 hover:bg-yellow-500/40 text-yellow-400 px-4 py-2 rounded",children:"Copy Invite Link"})]})]})]}),s.jsxs("div",{className:"bg-white/5 dark:text-white rounded-2xl p-6 mb-12 w-full max-w-2xl mx-auto shadow-lg transition-colors duration-300",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Preferences & Appearance"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Se,{className:"w-6 h-6 text-blue-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Currency & Timezone"})]}),s.jsx("p",{className:"text-white/70 mb-2",children:"Set your preferred currency and timezone."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-white/80",children:"Currency"}),s.jsxs("select",{className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3",children:[s.jsx("option",{value:"USDT",children:"USDT"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"})]}),s.jsx("label",{className:"block text-white/80 mt-2",children:"Timezone"}),s.jsxs("select",{className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3",children:[s.jsx("option",{value:"UTC",children:"UTC"}),s.jsx("option",{value:"America/New_York",children:"America/New_York"}),s.jsx("option",{value:"Europe/London",children:"Europe/London"}),s.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo"})]})]})]}),s.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ea,{className:"w-6 h-6 text-green-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Accessibility"})]}),s.jsx("p",{className:"text-white/70 mb-2",children:"Adjust accessibility options for a better experience."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-white",children:"Large Font Size"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-white",children:"High Contrast Mode"})]})]})]}),s.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(us,{className:"w-6 h-6 text-yellow-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Notification Preferences"})]}),s.jsx("p",{className:"text-white/70 mb-2",children:"Choose which notifications you want to receive."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-white",children:"Email Notifications"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-white",children:"SMS Notifications"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-white",children:"Push Notifications"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white/5 dark:text-white rounded-2xl p-6 mb-12 w-full max-w-2xl mx-auto shadow-lg transition-colors duration-300",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Billing & Support"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Pe,{className:"w-6 h-6 text-purple-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Subscription & Billing"})]}),s.jsx("p",{className:"text-white/70 mb-2",children:"Manage your subscription plan and billing information."}),s.jsx("div",{className:"bg-white/5 rounded p-3 text-white/80 text-sm",children:"(Subscription and billing info placeholder)"}),s.jsx("button",{className:"mt-3 bg-purple-500/20 hover:bg-purple-500/40 text-purple-400 px-4 py-2 rounded",children:"Manage Subscription"})]}),s.jsxs("div",{className:"bg-white/10 dark:text-white rounded-xl p-6 border border-white/20 transition-colors duration-300",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(zt,{className:"w-6 h-6 text-blue-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Support & Help"})]}),s.jsx("p",{className:"text-white/70 mb-2",children:"Need help? Visit our FAQ or contact support."}),s.jsxs("div",{className:"space-x-4",children:[s.jsx("button",{className:"bg-blue-500/20 hover:bg-blue-500/40 text-blue-400 px-4 py-2 rounded",children:"FAQ"}),s.jsx("button",{className:"bg-blue-500/20 hover:bg-blue-500/40 text-blue-400 px-4 py-2 rounded",children:"Contact Support"})]})]})]})]})]}),R&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-8 max-w-md w-full shadow-xl border border-blue-400",children:[s.jsx("h4",{className:"text-lg font-bold text-blue-500 mb-2",children:"Reactivate Your Account?"}),s.jsx("p",{className:"mb-4 text-gray-800 dark:text-white/80",children:"Your account is scheduled for deletion in 30 days. Would you like to cancel this request and reactivate your account?"}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:W,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 font-semibold",children:"Yes, Reactivate"}),s.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600",children:"No, Keep Scheduled"})]})]})}),P&&s.jsx("div",{className:"mt-4 text-center text-green-400 text-base font-semibold",children:"Your account has been reactivated!"})]})},lr=[{id:1,name:"VIP 1",price:50,dailyReward:10,monthlyReward:300,yearlyReward:3650,features:["Daily $10.00 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits"],color:"from-gray-400 to-gray-600"},{id:2,name:"VIP 2",price:125,dailyReward:2.16,monthlyReward:64.8,yearlyReward:788.4,features:["Daily $2.16 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals"],color:"from-green-400 to-green-600"},{id:3,name:"VIP 3",price:250,dailyReward:5.16,monthlyReward:154.8,yearlyReward:1883.4,features:["Daily $5.16 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support"],color:"from-blue-400 to-blue-600"},{id:4,name:"VIP 4",price:500,dailyReward:7.16,monthlyReward:214.8,yearlyReward:2613.4,features:["Daily $7.16 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support","Personal account manager"],color:"from-purple-400 to-purple-600"},{id:5,name:"VIP 5",price:1025,dailyReward:11.19,monthlyReward:335.7,yearlyReward:4084.35,features:["Daily $11.19 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support","Personal account manager","Custom withdrawal times"],color:"from-yellow-400 to-orange-500"},{id:6,name:"VIP 6",price:2550,dailyReward:21.22,monthlyReward:636.6,yearlyReward:7745.3,features:["Daily $21.22 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support","Personal account manager","Custom withdrawal times","Exclusive investment opportunities"],color:"from-red-400 to-red-600"},{id:7,name:"VIP 7",price:5250,dailyReward:47.52,monthlyReward:1425.6,yearlyReward:17344.8,features:["Daily $47.52 reward (10 ads)","Priority support","Exclusive ads","No withdrawal limits","Faster withdrawals","VIP chat support","Personal account manager","Custom withdrawal times","Exclusive investment opportunities","Premium referral bonuses"],color:"from-pink-400 to-pink-600",popular:!0}],e0=({user:t,onUserUpdate:e,onBack:r})=>{const[i,n]=p.useState(null),[a,o]=p.useState(!1),[l,c]=p.useState(!1),[d,h]=p.useState(null),[m,u]=p.useState(!1),[f,w]=p.useState(!1),[x,g]=p.useState(!1),[b,S]=p.useState(null),[j,k]=p.useState(""),C=lr.find(T=>T.id===t.vipTier),y=t.subscriptionHistory?.filter(T=>T.type==="vip"&&T.status==="active").slice(-1)[0];p.useEffect(()=>{B.cleanupSubscriptionData()},[]);const N=T=>{if(B.hasActiveSubscription(t.id)){const G=B.getActiveSubscriptionInfo(t.id);alert(`You already have an active ${G?.type} subscription that expires in ${G?.daysRemaining} days. You cannot purchase another plan until your current subscription expires.`);return}C&&C.id!==T.id?(n(T),u(!0)):(n(T),o(!0))},A=()=>{u(!1),n(null)},D=()=>{if(i)try{const T=B.addSubscription(t.id,{type:"vip",amount:i.price,duration:365,paymentMethod:"wallet_balance",transactionId:`VIP_${Date.now()}`,notes:`VIP ${i.name} subscription purchased with wallet balance`,vipTierId:i.id});e(T),o(!1),n(null),h(i),c(!0)}catch(T){alert(`Error: ${T instanceof Error?T.message:"Failed to process subscription"}`),o(!1),n(null)}},E=()=>{c(!1),h(null)},V=()=>{w(!0)},R=()=>{try{const T=B.cancelSubscription(t.id,j);e(T),w(!1),k(""),alert("Your subscription has been cancelled successfully.")}catch(T){alert(`Error cancelling subscription: ${T instanceof Error?T.message:"Unknown error"}`)}},F=T=>{if(!y){alert("No active subscription to upgrade");return}S(T),g(!0)},P=()=>{if(b)try{const T=lr.find(O=>O.id===t.vipTier),G=b.price-(T?.price||0);if(G>0&&t.balance<G){alert("Insufficient balance to upgrade. You need additional $"+G.toFixed(2));return}const H=B.renewSubscription(t.id,{type:"vip",amount:b.price,duration:365,paymentMethod:"wallet_balance",transactionId:`VIP_UPGRADE_${Date.now()}`,notes:`Upgraded to ${b.name} subscription`,vipTierId:b.id});e(H),g(!1),S(null),alert(`Successfully upgraded to ${b.name}!`)}catch(T){alert(`Error upgrading subscription: ${T instanceof Error?T.message:"Unknown error"}`)}};return s.jsxs("div",{className:"relative min-h-screen w-full max-w-full overflow-x-hidden",children:[s.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:s.jsx(ze,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),s.jsxs("div",{className:"relative responsive-container w-full max-w-full px-3 sm:px-4 lg:px-8",children:[s.jsxs("div",{className:"mt-4 sm:mt-6 lg:mt-8 mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 bg-clip-text text-transparent mb-2 drop-shadow-lg",children:"VIP Membership"}),s.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:"Unlock exclusive rewards and higher earnings"})]}),C&&s.jsx("div",{className:"glass-card border border-purple-400/30 shadow-2xl rounded-3xl p-8 mb-8 backdrop-blur-xl",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-4 rounded-full shadow-lg",children:s.jsx(Pe,{className:"w-12 h-12 text-white drop-shadow-glow"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:C.name}),s.jsxs("p",{className:"text-white/70 text-base",children:["Daily reward: $",C.dailyReward," USDT"]}),s.jsxs("p",{className:"text-white/70 text-base",children:["Start: ",y?.startDate?new Date(y.startDate).toLocaleDateString():"-"]}),s.jsxs("p",{className:"text-white/70 text-base",children:["End: ",y?.endDate?new Date(y.endDate).toLocaleDateString():"-"]}),s.jsxs("p",{className:"text-white/70 text-base",children:["Days left: ",y?.endDate?Math.max(0,Math.ceil((new Date(y.endDate).getTime()-Date.now())/(1e3*60*60*24))):"-"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 min-w-[180px]",children:[s.jsx("button",{className:"glass-card border border-red-400/30 text-red-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-400/10 transition",onClick:V,disabled:y?.status!=="active",children:"Cancel Plan"}),s.jsx("button",{className:"glass-card border border-blue-400/30 text-blue-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-blue-400/10 transition",onClick:()=>g(!0),disabled:y?.status!=="active",children:"Upgrade Plan"}),y?.endDate&&Math.ceil((new Date(y.endDate).getTime()-Date.now())/(1e3*60*60*24))<=7&&s.jsx("button",{className:"glass-card border border-yellow-400/30 text-yellow-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-yellow-400/10 transition",onClick:()=>D(),children:"Renew Plan"})]})]})}),t.subscriptionHistory&&t.subscriptionHistory.filter(T=>T.type==="vip").length>0&&s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"VIP Subscription History"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-white/90",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-white/5",children:[s.jsx("th",{className:"px-4 py-2 text-left",children:"Tier"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Start Date"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"End Date"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Amount"}),s.jsx("th",{className:"px-4 py-2 text-left",children:"Status"})]})}),s.jsx("tbody",{children:t.subscriptionHistory.filter(T=>T.type==="vip").map((T,G)=>s.jsxs("tr",{className:G%2===0?"bg-white/0":"bg-white/5",children:[s.jsx("td",{className:"px-4 py-2",children:T.notes?.includes("VIP")?T.notes.split("VIP ")[1].split(" ")[0]:T.type}),s.jsx("td",{className:"px-4 py-2",children:T.startDate?new Date(T.startDate).toLocaleDateString():"-"}),s.jsx("td",{className:"px-4 py-2",children:T.endDate?new Date(T.endDate).toLocaleDateString():"-"}),s.jsxs("td",{className:"px-4 py-2",children:["$",T.amount]}),s.jsx("td",{className:"px-4 py-2 capitalize",children:T.status})]},T.id))})]})})]}),s.jsxs("div",{className:"glass-card border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-lg",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 bg-clip-text text-transparent mb-6",children:"Choose Your VIP Plan"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:lr.map((T,G)=>s.jsxs("div",{className:`relative p-6 rounded-2xl border transition-all duration-300 cursor-pointer hover:scale-105 flex flex-col h-full ${C?.id===T.id?"glass-card border-purple-400/50 shadow-2xl":"bg-white/10 border-white/20 hover:bg-white/15"}`,children:[C?.id===T.id&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 rounded-full p-1",children:s.jsx(xe,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-3 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(Pe,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:T.name}),s.jsx("div",{className:"space-y-2 mb-6",children:T.features.map((H,O)=>s.jsxs("div",{className:"flex items-center space-x-2 text-white/80 text-sm",children:[s.jsx(xe,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{children:H})]},O))}),s.jsxs("div",{className:"text-center",children:[s.jsxs("span",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:["$",T.price]}),s.jsx("p",{className:"text-white/60 text-sm",children:"per month"})]})]}),s.jsxs("div",{className:"mt-auto pt-4",children:[!C&&s.jsx("button",{className:"glass-card border border-purple-400/30 text-purple-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-purple-400/10 transition w-full",onClick:()=>N(T),disabled:t.balance<T.price||B.hasActiveSubscription(t.id),children:"Subscribe Now"}),C&&T.id>C.id&&s.jsxs("button",{className:"glass-card border border-blue-400/30 text-blue-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-blue-400/10 transition w-full",onClick:()=>F(T),disabled:t.balance<T.price||B.hasActiveSubscription(t.id),children:["Upgrade to ",T.name]}),C&&T.id<C.id&&s.jsxs("button",{className:"glass-card border border-red-400/30 text-red-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-400/10 transition w-full",onClick:()=>F(T),disabled:t.balance<T.price||B.hasActiveSubscription(t.id),children:["Downgrade to ",T.name]}),C?.id===T.id&&s.jsx("button",{className:"glass-card border border-green-400/30 text-green-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-green-400/10 transition w-full",disabled:!0,children:"Current Plan"})]})]},T.id))})]})]}),a&&i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"glass-card border border-white/20 rounded-2xl p-8 max-w-md w-full shadow-2xl backdrop-blur-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Confirm VIP Upgrade"}),s.jsxs("p",{className:"text-white/80 mb-6",children:["You are about to upgrade your VIP plan to ",s.jsx("span",{className:"font-semibold",children:i.name}),". This will deduct ",s.jsxs("span",{className:"font-semibold",children:["$",i.price]})," from your wallet balance. Are you sure you want to proceed?"]}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[120px]",onClick:A,children:"Cancel"}),s.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[120px]",onClick:D,children:"Confirm Subscription"})]})]})}),l&&d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"glass-card border border-green-400/30 rounded-2xl p-8 max-w-md w-full shadow-2xl backdrop-blur-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-green-400 mb-4",children:"Congratulations!"}),s.jsxs("p",{className:"text-white/80 mb-6",children:["You have successfully upgraded to the ",s.jsx("span",{className:"font-semibold",children:d.name})," VIP plan. Your daily reward is now ",s.jsxs("span",{className:"font-semibold",children:["$",d.dailyReward]}),"."]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[100px]",onClick:E,children:"OK"})})]})}),x&&b&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"glass-card border border-white/20 rounded-2xl p-8 max-w-md w-full shadow-2xl backdrop-blur-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Confirm VIP Upgrade"}),s.jsxs("p",{className:"text-white/80 mb-6",children:["You are about to upgrade your VIP plan from ",s.jsx("span",{className:"font-semibold",children:C?.name})," to ",s.jsx("span",{className:"font-semibold",children:b.name}),". This will deduct ",s.jsxs("span",{className:"font-semibold",children:["$",b.price]})," from your wallet balance. Are you sure you want to proceed?"]}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[120px]",onClick:()=>g(!1),children:"Cancel"}),s.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-6 rounded-xl shadow hover:bg-white/10 transition min-w-[120px]",onClick:P,children:"Confirm Upgrade"})]})]})}),f&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"glass-card border border-red-400/30 rounded-2xl p-8 max-w-md w-full shadow-2xl backdrop-blur-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-red-400 mb-4",children:"Cancel VIP Plan?"}),s.jsx("p",{className:"text-white/80 mb-6",children:"Are you sure you want to cancel your VIP subscription? This action cannot be undone."}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("input",{className:"glass-card border border-white/10 rounded-lg px-3 py-2 text-white bg-transparent mb-2",placeholder:"Reason for cancellation (optional)",value:j,onChange:T=>k(T.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"glass-card border border-red-400/30 text-red-400 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-400/10 transition flex-1",onClick:R,children:"Confirm Cancel"}),s.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-4 rounded-xl shadow hover:bg-white/10 transition flex-1",onClick:()=>w(!1),children:"Go Back"})]})]})]})})]})},t0=({onAdminLogin:t,onBack:e,isLoading:r,error:i})=>{const[n,a]=p.useState(!1),[o,l]=p.useState({username:"",password:""}),c=h=>{const{name:m,value:u}=h.target;l({...o,[m]:u})},d=h=>{if(h.preventDefault(),!(!o.username||!o.password))try{const m=B.authenticateUser(o.username,o.password);if(m.username==="mhamad")t(m);else throw new Error("Access denied. Admin privileges required.")}catch(m){throw m}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4",children:[s.jsxs("button",{onClick:e,className:"fixed top-6 left-6 z-50 glass-card flex items-center space-x-2 px-4 py-2 rounded-xl border border-white/20 bg-white/10 backdrop-blur-md text-white font-semibold shadow hover:bg-white/20 transition-all",children:[s.jsx(ht,{className:"w-5 h-5 mr-1"}),s.jsx("span",{children:"Back to Main Page"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900"}),s.jsx("div",{className:"relative w-full max-w-md",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20 shadow-2xl relative",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-purple-400/20 text-purple-400 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[s.jsx(Pe,{className:"w-4 h-4"}),s.jsx("span",{children:"Admin Access"})]}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Login"}),s.jsx("p",{className:"text-white/80",children:"Access the admin control panel"})]}),i&&s.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"w-5 h-5 text-red-400"}),s.jsx("span",{className:"text-red-400 text-sm",children:i})]})}),s.jsxs("form",{onSubmit:d,className:"space-y-6",autoComplete:"off",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Admin Username"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",name:"username",value:o.username,onChange:c,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-400/50 focus:border-purple-400 transition-all",placeholder:"Enter admin username",required:!0,disabled:r,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other"}),s.jsx(Es,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white/90 mb-2",children:"Admin Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:n?"text":"password",name:"password",value:o.password,onChange:c,className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-400/50 focus:border-purple-400 transition-all pr-12",placeholder:"Enter admin password",required:!0,disabled:r,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-form-type":"other","data-lpignore":"true","data-1p-ignore":"true"}),s.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white transition-colors",disabled:r,children:n?s.jsx(dt,{className:"w-5 h-5"}):s.jsx(Ve,{className:"w-5 h-5"})})]})]}),s.jsxs("button",{type:"submit",disabled:r||!o.username||!o.password,className:"w-full bg-gradient-to-r from-purple-400 to-blue-500 text-white py-3 rounded-lg font-semibold hover:from-purple-500 hover:to-blue-600 transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2",children:[r&&s.jsx(ut,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:r?"Authenticating...":"Access Admin Panel"})]})]})]})})]})},s0=({onLogout:t=()=>{},onBack:e})=>{const[r,i]=p.useState("overview"),[n,a]=p.useState([]),[o,l]=p.useState(""),[c,d]=p.useState("all"),[h,m]=p.useState(null),[u,f]=p.useState(null),[w,x]=p.useState(!1),[g,b]=p.useState([]),[S,j]=p.useState(null),[k,C]=p.useState(""),[y,N]=p.useState([]),[A,D]=p.useState(!1),[E,V]=p.useState(null),[R,F]=p.useState({title:"",description:"",youtubeUrl:"",youtubeId:"",duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0}),[P,T]=p.useState(!1),[G,H]=p.useState(!1);p.useEffect(()=>{O(),L(),Y()},[]),p.useEffect(()=>{r==="kyc"&&Y()},[r]);const O=()=>{const v=B.getAllUsers();a(v)},L=()=>{const v=localStorage.getItem("adminAds");v&&N(JSON.parse(v))},Y=()=>{const v=localStorage.getItem("kycVerifications");if(v)try{const U=JSON.parse(v).map(_=>({..._,submittedAt:_.submittedAt?new Date(_.submittedAt):new Date,processedAt:_.processedAt?new Date(_.processedAt):void 0}));b(U)}catch{b([])}else b([])},Z=v=>{localStorage.setItem("adminAds",JSON.stringify(v)),N(v)},M=v=>{const I=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,U=v.match(I);return U&&U[2].length===11?U[2]:""},Q=v=>`https://img.youtube.com/vi/${v}/maxresdefault.jpg`,$=v=>{F(I=>({...I,youtubeUrl:v}))},ue=()=>{if(!R.title||!R.description||!R.youtubeUrl&&!R.videoFile){alert("Please fill in all required fields");return}const v=R.youtubeUrl?M(R.youtubeUrl):void 0,I={id:`ad_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:R.title,description:R.description,youtubeId:v,videoFile:R.videoFile,duration:R.duration,reward:R.reward,category:R.category,thumbnail:v?Q(v):R.videoFile||"",requiredWatchTime:R.requiredWatchTime,isActive:R.isActive,createdAt:new Date().toISOString(),views:0,totalEarnings:0},U=[...y,I];Z(U),D(!1),F({title:"",description:"",youtubeUrl:"",youtubeId:"",duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0})},Oe=v=>{V(v),F({title:v.title,description:v.description,youtubeUrl:v.youtubeId?`https://www.youtube.com/watch?v=${v.youtubeId}`:"",youtubeId:v.youtubeId,videoFile:v.videoFile,duration:v.duration,reward:v.reward,category:v.category,requiredWatchTime:v.requiredWatchTime,isActive:v.isActive}),D(!0)},be=()=>{if(!E||!R.title||!R.description){alert("Please fill in all required fields");return}const v={...E,title:R.title,description:R.description,youtubeId:R.youtubeId,videoFile:R.videoFile,duration:R.duration,reward:R.reward,category:R.category,thumbnail:R.youtubeId?Q(R.youtubeId):R.videoFile||E.thumbnail,requiredWatchTime:R.requiredWatchTime,isActive:R.isActive},I=y.map(U=>U.id===E.id?v:U);Z(I),D(!1),V(null),F({title:"",description:"",youtubeUrl:"",youtubeId:"",duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0})},Pt=v=>{if(window.confirm("Are you sure you want to delete this ad?")){const I=y.filter(U=>U.id!==v);Z(I)}},Rt=v=>{const I=y.map(U=>U.id===v?{...U,isActive:!U.isActive}:U);Z(I)},Bt=v=>{const I=v.target.files?.[0];if(I){const U=new FileReader;U.onload=_=>{const re=_.target?.result;F(tt=>({...tt,videoFile:re,thumbnail:re}))},U.readAsDataURL(I)}},W=n.filter(v=>{const I=v.username.toLowerCase().includes(o.toLowerCase())||v.email.toLowerCase().includes(o.toLowerCase()),U=c==="all"||c==="active"&&v.balance>0||c==="inactive"&&v.balance===0;return I&&U}),z=()=>{const v=localStorage.getItem("depositProofs");return v?JSON.parse(v):[]},q=()=>{const v=localStorage.getItem("withdrawRequests");return v?JSON.parse(v):[]},X={totalUsers:n.length,totalBalance:n.reduce((v,I)=>v+I.balance,0),totalEarned:n.reduce((v,I)=>v+I.totalEarned,0),activeUsers:n.filter(v=>v.balance>0).length,pendingDeposits:z().filter(v=>v.status==="pending").length,pendingWithdrawals:q().filter(v=>v.status==="pending").length,totalDeposits:z().reduce((v,I)=>v+I.amount,0),totalWithdrawals:q().reduce((v,I)=>v+I.amount,0)},we=(v,I,U)=>{const _=n.find(re=>re.id===v);if(_){const re=_.balance+I,tt={..._,balance:re};B.updateUser(tt),O()}},me=v=>{const I=n.find(U=>U.id===v);if(I&&window.confirm(`Reset balance for ${I.username}?`)){const U={...I,balance:0,totalEarned:0};B.updateUser(U),O()}},Rl=v=>{const I=window.prompt("Enter amount to add:");if(!I)return;const U=parseFloat(I);if(isNaN(U)||U<=0){alert("Invalid amount");return}we(v,U)},Bl=()=>{window.confirm("Are you sure you want to reset ALL user balances and earnings to zero?")&&(B.resetAllBalances(),O(),alert("All balances and earnings have been reset."))},Ml=v=>{window.confirm(`Are you sure you want to reset ${v}'s account? This will clear their balance and earnings.`)&&(B.resetUserAccount(v),O())},Ai=(v,I)=>{const U=z(),_=U.findIndex(re=>re.id===v);_!==-1&&(I?(U[_].status="approved",U[_].processedAt=new Date,U[_].adminNotes="Approved by admin",B.handleDeposit(U[_].userId,U[_].amount)):(U[_].status="rejected",U[_].processedAt=new Date,U[_].adminNotes="Rejected by admin"),localStorage.setItem("depositProofs",JSON.stringify(U)),O())},Si=(v,I)=>{const U=q(),_=U.findIndex(re=>re.id===v);if(_!==-1){const re=U[_];if(I){U[_].status="approved",U[_].processedAt=new Date,U[_].adminNotes="Approved by admin";const tt=n.find(Os=>Os.id===re.userId);if(tt){const Os={...tt,balance:Math.max(0,tt.balance-re.amount)};B.updateUser(Os)}B.addWithdrawalApprovalNotification(re.userId,re.amount)}else U[_].status="rejected",U[_].processedAt=new Date,U[_].adminNotes="Rejected by admin",B.addWithdrawalRejectionNotification(re.userId,re.amount,"Rejected by admin");localStorage.setItem("withdrawRequests",JSON.stringify(U)),O()}},Il=v=>{const I=g.map(U=>U.id===v?{...U,status:"approved",processedAt:new Date,adminNotes:k||"KYC approved by admin"}:U);b(I),j(null),C(""),localStorage.setItem("kycVerifications",JSON.stringify(I.map(U=>({...U,submittedAt:U.submittedAt instanceof Date?U.submittedAt.toISOString():U.submittedAt,processedAt:U.processedAt instanceof Date?U.processedAt.toISOString():U.processedAt}))))},Ul=v=>{if(!k.trim()){alert("Please provide a reason for rejection");return}const I=g.map(U=>U.id===v?{...U,status:"rejected",processedAt:new Date,adminNotes:k,rejectionReason:k}:U);b(I),j(null),C(""),localStorage.setItem("kycVerifications",JSON.stringify(I.map(U=>({...U,submittedAt:U.submittedAt instanceof Date?U.submittedAt.toISOString():U.submittedAt,processedAt:U.processedAt instanceof Date?U.processedAt.toISOString():U.processedAt}))))},Ll=[{id:"overview",label:"Overview",icon:ki},{id:"users",label:"Users",icon:Ce},{id:"deposits",label:"Deposits",icon:ce},{id:"withdrawals",label:"Withdrawals",icon:Ei},{id:"subscriptions",label:"Subscriptions",icon:$s},{id:"referrals",label:"Referrals",icon:Xe},{id:"ads",label:"Ads",icon:Pi},{id:"kyc",label:"KYC Reviews",icon:$s}],[Vl,Fs]=p.useState(!1);return s.jsxs("div",{className:"flex min-h-screen w-full max-w-full overflow-x-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[s.jsxs("div",{children:[s.jsxs("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg bg-white/10 border border-white/20 backdrop-blur-xl shadow-lg",onClick:()=>T(!0),"aria-label":"Open sidebar",children:[s.jsx("span",{className:"block w-6 h-0.5 bg-white mb-1 rounded"}),s.jsx("span",{className:"block w-6 h-0.5 bg-white mb-1 rounded"}),s.jsx("span",{className:"block w-6 h-0.5 bg-white rounded"})]}),P&&s.jsx("div",{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm lg:hidden",onClick:()=>T(!1)}),s.jsxs("aside",{className:`glass-card border border-white/20 shadow-2xl rounded-r-3xl p-3 flex flex-col items-start bg-white/10 backdrop-blur-xl transition-all duration-300
            ${P?"translate-x-0":"-translate-x-full"}
            ${G?"w-20":"w-64"}
            h-screen z-50
            lg:translate-x-0 lg:static lg:rounded-3xl lg:block`,style:{minWidth:G?"5rem":"16rem"},children:[s.jsx("div",{className:"mb-10 w-full flex items-center justify-center",children:s.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent select-none transition-opacity duration-200 ${G?"opacity-0 pointer-events-none":"opacity-100"}`,children:"Admin"})}),s.jsx("nav",{className:"flex flex-col gap-2 w-full",children:Ll.map(({id:v,label:I,icon:U})=>s.jsxs("button",{onClick:()=>{i(v),T(!1)},className:`
                  flex items-center gap-x-4 justify-start px-2 py-3 rounded-xl w-full text-left font-semibold transition-all duration-200
                  ${r===v?"bg-gradient-to-r from-purple-400 to-pink-400 text-white shadow-lg":"text-white/80 hover:text-white hover:bg-white/10"}
                  ${G?"justify-center px-0 py-0 w-14 h-14 min-w-[3.5rem] min-h-[3.5rem]":""}
                `,style:G?{display:"flex",alignItems:"center",justifyContent:"center"}:{},children:[s.jsx("span",{className:G?"flex items-center justify-center w-10 h-10":"",children:s.jsx(U,{className:"w-6 h-6"})}),s.jsx("span",{className:`transition-all duration-200 ${G?"opacity-0 w-0 pointer-events-none":"opacity-100 w-auto ml-2"}`,children:I})]},v))}),s.jsx("div",{className:"mt-auto w-full flex justify-center pb-4",children:s.jsx("button",{className:"w-11/12 bg-red-500 hover:bg-red-600 text-white font-bold py-2 rounded-xl shadow transition-all border border-red-500/30",onClick:()=>Fs(!0),children:"Logout"})})]})]}),s.jsxs("main",{className:"flex-1 w-full min-h-screen relative flex flex-col transition-all duration-300",children:[s.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:s.jsx(ze,{colorStops:["#5227FF","#7cff67","#5227FF"],amplitude:1.2,blend:.6})}),s.jsx("section",{className:"relative z-10 w-full max-w-6xl mx-auto",children:s.jsx("div",{className:"relative min-h-[300px]",children:s.jsxs("div",{className:"absolute inset-0 w-full transition-all duration-500 ease-in-out opacity-100 translate-y-0 animate-fadein",style:{animation:"fadein 0.5s"},children:[r==="overview"&&s.jsxs("div",{className:"space-y-6 mt-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:X.totalUsers})]}),s.jsx(Ce,{className:"w-8 h-8 text-blue-400"})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Total Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",X.totalBalance.toFixed(2)]})]}),s.jsx(ce,{className:"w-8 h-8 text-green-400"})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Total Earned"}),s.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["$",X.totalEarned.toFixed(2)]})]}),s.jsx(jt,{className:"w-8 h-8 text-yellow-400"})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Active Users"}),s.jsx("p",{className:"text-2xl font-bold text-purple-400",children:X.activeUsers})]}),s.jsx(Ei,{className:"w-8 h-8 text-purple-400"})]})})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx("button",{onClick:Bl,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-semibold shadow-lg transition",children:"Reset All Balances"})}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>i("deposits"),className:"flex items-center space-x-3 p-4 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 transition-colors",children:[s.jsx(mr,{className:"w-6 h-6 text-blue-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-white font-semibold",children:"Review Deposits"}),s.jsxs("p",{className:"text-white/60 text-sm",children:[X.pendingDeposits," pending"]})]})]}),s.jsxs("button",{onClick:()=>i("withdrawals"),className:"flex items-center space-x-3 p-4 bg-green-500/20 border border-green-500/30 rounded-lg hover:bg-green-500/30 transition-colors",children:[s.jsx(Vr,{className:"w-6 h-6 text-green-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-white font-semibold",children:"Review Withdrawals"}),s.jsxs("p",{className:"text-white/60 text-sm",children:[X.pendingWithdrawals," pending"]})]})]}),s.jsxs("button",{onClick:()=>x(!0),className:"flex items-center space-x-3 p-4 bg-purple-500/20 border border-purple-500/30 rounded-lg hover:bg-purple-500/30 transition-colors",children:[s.jsx(ki,{className:"w-6 h-6 text-purple-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-white font-semibold",children:"Deposit Overview"}),s.jsx("p",{className:"text-white/60 text-sm",children:"View all users"})]})]})]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-3",children:z().slice(-5).reverse().map(v=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${v.status==="approved"?"bg-green-400":"bg-yellow-400"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:v.username}),s.jsxs("p",{className:"text-white/60 text-sm",children:["Deposit: $",v.amount]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-white/60 text-sm",children:new Date(v.submittedAt).toLocaleDateString()}),s.jsx("p",{className:`text-xs ${v.status==="approved"?"text-green-400":"text-yellow-400"}`,children:v.status})]})]},v.id))})]})]}),r==="users"&&s.jsxs("div",{className:"space-y-6 mt-8",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:o,onChange:v=>l(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-purple-400/50"})]})}),s.jsxs("select",{value:c,onChange:v=>d(v.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50",children:[s.jsx("option",{value:"all",children:"All Users"}),s.jsx("option",{value:"active",children:"Active Users"}),s.jsx("option",{value:"inactive",children:"Inactive Users"})]}),s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(mt,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh"})]})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl border border-white/20 overflow-x-auto",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-white/5",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Balance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Total Earned"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Join Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-white/10",children:W.map(v=>s.jsxs("tr",{className:"hover:bg-white/5",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold",children:v.username.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-white",children:v.username}),s.jsx("div",{className:"text-sm text-white/60",children:v.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-white",children:["$",v.balance.toFixed(2)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-white",children:["$",v.totalEarned.toFixed(2)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-white/60",children:new Date(v.joinDate).toLocaleDateString()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>m(v.id),className:"text-blue-400 hover:text-blue-300",children:s.jsx(Ve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>f(v),className:"text-yellow-400 hover:text-yellow-300",children:s.jsx(Ti,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ml(v.username),className:"text-red-400 hover:text-red-300",children:s.jsx(Di,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>me(v.id),className:"text-red-500 hover:text-red-600",title:"Reset Balance",children:s.jsx(mt,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Rl(v.id),className:"text-green-400 hover:text-green-300",title:"Add Balance",children:s.jsx(cc,{className:"w-4 h-4"})})]})})]},v.id))})]})})})]}),r==="deposits"&&s.jsx("div",{className:"space-y-6 mt-8",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Deposit Proofs"}),s.jsx("div",{className:"space-y-4",children:z().map(v=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:v.username}),s.jsxs("p",{className:"text-white/60 text-sm",children:["Amount: $",v.amount]})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.status==="approved"?"bg-green-500/20 text-green-400":v.status==="rejected"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:v.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Transaction Hash:"}),s.jsx("p",{className:"text-white text-sm font-mono",children:v.transactionHash||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Submitted:"}),s.jsx("p",{className:"text-white text-sm",children:new Date(v.submittedAt).toLocaleString()})]})]}),v.status==="pending"&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>Ai(v.id,!0),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(xe,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>Ai(v.id,!1),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(ot,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject"})]})]})]},v.id))})]})}),r==="withdrawals"&&s.jsx("div",{className:"space-y-6 mt-8",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Withdrawal Requests"}),s.jsx("div",{className:"space-y-4",children:q().map(v=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:v.username}),s.jsxs("p",{className:"text-white/60 text-sm",children:["Amount: $",v.amount]})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.status==="approved"?"bg-green-500/20 text-green-400":v.status==="rejected"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:v.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Wallet Address:"}),s.jsx("p",{className:"text-white text-sm font-mono",children:v.walletAddress})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Requested:"}),s.jsx("p",{className:"text-white text-sm",children:new Date(v.requestedAt).toLocaleString()})]})]}),v.status==="pending"&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>Si(v.id,!0),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(xe,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>Si(v.id,!1),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(ot,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject"})]})]})]},v.id))})]})}),r==="subscriptions"&&s.jsx("div",{className:"space-y-6 mt-8",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Subscription Management"}),s.jsx("div",{className:"space-y-4",children:n.filter(v=>v.subscriptionHistory&&v.subscriptionHistory.length>0).map(v=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:v.username}),s.jsx("p",{className:"text-white/60 text-sm",children:v.email})]}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${v.subscriptionStatus==="active"?"bg-green-500/20 text-green-400":v.subscriptionStatus==="expired"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:v.subscriptionStatus||"No subscription"})]}),v.subscriptionHistory&&v.subscriptionHistory.length>0&&s.jsx("div",{className:"space-y-2",children:v.subscriptionHistory.map(I=>s.jsx("div",{className:"bg-white/5 rounded p-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-white font-medium",children:[I.type," - $",I.amount]}),s.jsxs("p",{className:"text-white/60 text-sm",children:[new Date(I.startDate).toLocaleDateString()," - ",new Date(I.endDate).toLocaleDateString()]})]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${I.status==="active"?"bg-green-500/20 text-green-400":I.status==="expired"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:I.status})]})},I.id))})]},v.id))})]})}),r==="referrals"&&s.jsx("div",{className:"space-y-6 mt-8",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Referral System"}),s.jsx("div",{className:"space-y-4",children:n.map(v=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:v.username}),s.jsxs("p",{className:"text-white/60 text-sm",children:["Referral Code: ",v.referralCode]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white font-medium",children:[v.referralCount," referrals"]}),s.jsxs("p",{className:"text-white/60 text-sm",children:["$",v.referralEarnings.toFixed(2)," earned"]})]})]}),v.referralHistory&&v.referralHistory.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-white/60 text-sm font-medium",children:"Recent Referrals:"}),v.referralHistory.slice(-3).map(I=>s.jsxs("div",{className:"bg-white/5 rounded p-2 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white text-sm",children:I.referredUsername}),s.jsx("p",{className:"text-white/60 text-xs",children:new Date(I.joinDate).toLocaleDateString()})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white text-sm",children:["$",I.earnings.toFixed(2)]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${I.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:I.status})]})]},I.id))]})]},v.id))})]})}),r==="ads"&&s.jsxs("div",{className:"space-y-6 mt-8",children:[s.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>{F({title:"",description:"",youtubeUrl:"",youtubeId:"",videoFile:void 0,duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0,thumbnail:""}),V(null),D(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition",children:"Add YouTube Ad"}),s.jsx("button",{onClick:()=>{F({title:"",description:"",youtubeUrl:"",youtubeId:"",videoFile:"dummy",duration:30,reward:.05,category:"gaming",requiredWatchTime:25,isActive:!0,thumbnail:""}),V(null),D(!0)},className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition",children:"Add Video Upload Ad"})]}),(()=>{const v=Date.now(),I=y.filter(_=>v-new Date(_.createdAt).getTime()<24*60*60*1e3),U=y.filter(_=>v-new Date(_.createdAt).getTime()>=24*60*60*1e3);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 w-full",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4 text-center",children:"Ad Management"}),s.jsxs("div",{className:"space-y-4",children:[I.length===0&&s.jsx("div",{className:"text-center text-white/60 py-8",children:"No active ads. Add a new ad above."}),I.map(_=>s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:_.title}),s.jsx("p",{className:"text-white/60 text-sm",children:_.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white font-medium",children:[_.views," views"]}),s.jsxs("p",{className:"text-white/60 text-sm",children:["$",_.totalEarnings.toFixed(2)," earned"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Oe(_),className:"text-yellow-400 hover:text-yellow-300",children:s.jsx(Ti,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Pt(_.id),className:"text-red-400 hover:text-red-300",children:s.jsx(Di,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Rt(_.id),className:`text-${_.isActive?"green":"red"}-400 hover:text-${_.isActive?"green":"red"}-300`,children:_.isActive?"Active":"Inactive"})]})]},_.id))]})]})}),s.jsx("div",{className:"flex justify-center mt-10",children:s.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/20 w-full",children:[s.jsx("h2",{className:"text-lg font-bold text-white mb-4 text-center",children:"Ads History (Expired after 24h)"}),s.jsxs("div",{className:"space-y-4",children:[U.length===0&&s.jsx("div",{className:"text-center text-white/40 py-8",children:"No expired ads yet."}),U.map(_=>s.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/10 opacity-70",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:_.title}),s.jsx("p",{className:"text-white/60 text-sm",children:_.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white font-medium",children:[_.views," views"]}),s.jsxs("p",{className:"text-white/60 text-sm",children:["$",_.totalEarnings.toFixed(2)," earned"]})]})]}),s.jsxs("div",{className:"text-xs text-white/40",children:["Published: ",new Date(_.createdAt).toLocaleString()]})]},_.id))]})]})})]})})()]}),r==="kyc"&&s.jsx("div",{className:"space-y-6 mt-8",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"KYC Verification Reviews"}),s.jsx("button",{onClick:Y,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Refresh"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"User"}),s.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Full Name"}),s.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Document Type"}),s.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Document Number"}),s.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-left text-white font-medium",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-white/10",children:g.map(v=>s.jsxs("tr",{className:"hover:bg-white/5",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsxs("p",{className:"text-white font-medium",children:["#",v.userId]}),s.jsx("p",{className:"text-white/60 text-sm",children:v.username})]})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("p",{className:"text-white",children:v.fullName}),s.jsxs("p",{className:"text-white/60 text-sm",children:[v.dateOfBirth," • ",v.nationality]})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-white/80 text-sm capitalize",children:v.documentType.replace("_"," ")})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("p",{className:"text-white/80 text-sm font-mono",children:v.documentNumber})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${v.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":v.status==="approved"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:[v.status==="pending"?s.jsx(Qe,{className:"w-3 h-3"}):v.status==="approved"?s.jsx(Lt,{className:"w-3 h-3"}):s.jsx($e,{className:"w-3 h-3"}),s.jsx("span",{className:"capitalize",children:v.status})]})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("p",{className:"text-white/60 text-sm",children:v.submittedAt.toLocaleDateString()}),s.jsx("p",{className:"text-white/40 text-xs",children:v.submittedAt.toLocaleTimeString()})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>j(v),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View Details"})})]},v.id))})]})}),g.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx($s,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),s.jsx("p",{className:"text-white/60",children:"No KYC verifications found"}),s.jsx("button",{onClick:()=>{console.log("Current localStorage kycVerifications:",localStorage.getItem("kycVerifications")),console.log("Current kycVerifications state:",g),Y()},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Debug: Check KYC Data"}),s.jsx("button",{onClick:()=>{console.log("=== Port Persistence Debug ==="),console.log("Current port:",window.location.port||"3000"),console.log("Has port backup:",B.hasPortBackup());const v=B.getBackupInfo();if(console.log("Backup info:",v),v.hasBackup){console.log("Restoring from backup...");const I=B.restoreFromPortBackup();console.log("Restore successful:",I),I&&(O(),alert("Data restored from backup!"))}else console.log("No backup available"),alert("No backup data available")},className:"mt-2 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Debug: Port Persistence"}),s.jsx("button",{onClick:()=>{const v={id:`kyc_${Date.now()}_test123`,userId:"test_user_123",username:"testuser",fullName:"Test User",dateOfBirth:"1990-01-01",nationality:"United States",documentType:"passport",documentNumber:"123456789",documentFront:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",documentBack:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",selfieWithDocument:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",status:"pending",submittedAt:new Date().toISOString(),adminNotes:void 0,rejectionReason:void 0},I=localStorage.getItem("kycVerifications"),U=I?JSON.parse(I):[];U.push(v),localStorage.setItem("kycVerifications",JSON.stringify(U)),console.log("Test KYC data added:",v),Y()},className:"mt-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Debug: Add Test KYC Data"})]})]})})]},r)})})]}),w&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Deposit Overview"}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx($e,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"space-y-4",children:n.map(v=>{const I=z().filter(re=>re.userId===v.id),U=I.some(re=>re.status==="approved"),_=I[I.length-1];return s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:v.username}),s.jsx("p",{className:"text-gray-600 text-sm",children:v.email})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${U?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U?"Has Deposit":"No Deposit"})})]}),_&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Last deposit: $",_.amount," on ",new Date(_.submittedAt).toLocaleDateString()]}),s.jsxs("p",{className:`text-xs ${_.status==="approved"?"text-green-600":"text-yellow-600"}`,children:["Status: ",_.status]})]})]},v.id)})})]})}),A&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:s.jsxs("div",{className:"bg-gray-900 text-white rounded-xl shadow-2xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:E?"Edit Ad":R.videoFile?"Add Video Upload Ad":"Add YouTube Ad"}),s.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-200",children:s.jsx($e,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[E&&s.jsxs("div",{className:"flex space-x-4 mb-2",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"videoSource",checked:!R.videoFile,onChange:()=>F(v=>({...v,videoFile:void 0})),className:"form-radio text-purple-500"}),s.jsx("span",{children:"YouTube Link"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"videoSource",checked:!!R.videoFile,onChange:()=>F(v=>({...v,youtubeId:"",thumbnail:""})),className:"form-radio text-purple-500"}),s.jsx("span",{children:"Upload Video"})]})]}),!R.videoFile&&s.jsx("input",{type:"text",placeholder:"YouTube URL",value:R.youtubeUrl,onChange:v=>$(v.target.value),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),R.videoFile&&E&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"file",accept:"video/*",onChange:Bt,className:"hidden",id:"video-upload"}),s.jsxs("label",{htmlFor:"video-upload",className:"flex items-center space-x-2 text-purple-300 hover:text-purple-200 cursor-pointer",children:[s.jsx(Pi,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload Video"})]}),R.videoFile&&s.jsx("video",{src:R.videoFile,controls:!0,className:"w-full max-h-48 rounded-lg mt-2"})]}),s.jsx("input",{type:"text",placeholder:"Title",value:R.title,onChange:v=>F(I=>({...I,title:v.target.value})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),s.jsx("textarea",{placeholder:"Description",value:R.description,onChange:v=>F(I=>({...I,description:v.target.value})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),s.jsxs("select",{value:R.category,onChange:v=>F(I=>({...I,category:v.target.value})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50",children:[s.jsx("option",{value:"gaming",children:"Gaming"}),s.jsx("option",{value:"tech",children:"Tech"}),s.jsx("option",{value:"lifestyle",children:"Lifestyle"}),s.jsx("option",{value:"finance",children:"Finance"}),s.jsx("option",{value:"education",children:"Education"})]}),s.jsx("input",{type:"number",placeholder:"Duration (seconds)",value:typeof R.duration=="number"&&!isNaN(R.duration)?R.duration:"",onChange:v=>F(I=>({...I,duration:parseFloat(v.target.value)})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),s.jsx("input",{type:"number",placeholder:"Reward (USDT)",value:typeof R.reward=="number"&&!isNaN(R.reward)?R.reward:"",onChange:v=>F(I=>({...I,reward:parseFloat(v.target.value)})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),s.jsx("input",{type:"number",placeholder:"Required Watch Time (seconds)",value:typeof R.requiredWatchTime=="number"&&!isNaN(R.requiredWatchTime)?R.requiredWatchTime:"",onChange:v=>F(I=>({...I,requiredWatchTime:parseFloat(v.target.value)})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),s.jsx("input",{type:"text",placeholder:"Thumbnail URL",value:R.thumbnail,onChange:v=>F(I=>({...I,thumbnail:v.target.value})),className:"w-full pl-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:E?be:ue,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold shadow-lg transition",children:E?"Update Ad":"Add Ad"})})]})]})}),S&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:s.jsxs("div",{className:"bg-gray-900 text-white rounded-xl shadow-2xl p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"KYC Verification Details"}),s.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-200",children:s.jsx($e,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"User Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60",children:"User ID"}),s.jsxs("p",{className:"text-white font-mono",children:["#",S.userId]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60",children:"Username"}),s.jsx("p",{className:"text-white",children:S.username})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60",children:"Full Name"}),s.jsx("p",{className:"text-white",children:S.fullName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60",children:"Date of Birth"}),s.jsx("p",{className:"text-white",children:S.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60",children:"Nationality"}),s.jsx("p",{className:"text-white",children:S.nationality})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60",children:"Document Type"}),s.jsx("p",{className:"text-white capitalize",children:S.documentType.replace("_"," ")})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-white/60",children:"Document Number"}),s.jsx("p",{className:"text-white font-mono",children:S.documentNumber})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Document Front"}),s.jsx("img",{src:S.documentFront,alt:"Document front",className:"w-full rounded-lg border border-white/20"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Document Back"}),s.jsx("img",{src:S.documentBack,alt:"Document back",className:"w-full rounded-lg border border-white/20"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Selfie with Document"}),s.jsx("img",{src:S.selfieWithDocument,alt:"Selfie with document",className:"w-full rounded-lg border border-white/20"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Submission Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60",children:"Submitted"}),s.jsx("p",{className:"text-white",children:S.submittedAt.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white/60",children:"Current Status"}),s.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${S.status==="pending"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":S.status==="approved"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:[S.status==="pending"?s.jsx(Qe,{className:"w-3 h-3"}):S.status==="approved"?s.jsx(Lt,{className:"w-3 h-3"}):s.jsx($e,{className:"w-3 h-3"}),s.jsx("span",{className:"capitalize",children:S.status})]})]})]})]}),S.status!=="pending"&&s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Admin Notes"}),s.jsx("p",{className:"text-white text-sm",children:S.adminNotes}),S.rejectionReason&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-white/60 text-sm",children:"Rejection Reason:"}),s.jsx("p",{className:"text-red-400 text-sm",children:S.rejectionReason})]})]}),S.status==="pending"&&s.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Admin Notes"}),s.jsx("textarea",{value:k,onChange:v=>C(v.target.value),placeholder:"Add notes for approval/rejection...",className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/50 text-sm",rows:3}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsxs("button",{onClick:()=>Il(S.id),className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(Lt,{className:"w-4 h-4"}),s.jsx("span",{children:"Approve KYC"})]}),s.jsxs("button",{onClick:()=>Ul(S.id),className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center space-x-2",children:[s.jsx($e,{className:"w-4 h-4"}),s.jsx("span",{children:"Reject KYC"})]})]})]})]})]})}),Vl&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"glass-card border border-white/20 rounded-2xl p-8 max-w-sm w-full shadow-2xl backdrop-blur-xl",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Confirm Logout"}),s.jsx("p",{className:"text-white/80 mb-6",children:"Are you sure you want to log out?"}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{className:"glass-card border border-white/20 text-white font-bold py-2 px-4 rounded-xl shadow hover:bg-white/10 transition",onClick:()=>Fs(!1),children:"Cancel"}),s.jsx("button",{className:"glass-card border border-red-500/30 bg-red-500/20 text-red-300 font-bold py-2 px-4 rounded-xl shadow hover:bg-red-500/40 hover:text-white transition",onClick:()=>{Fs(!1),t()},children:"Logout"})]})]})})]})};class r0{constructor(){this.permission="default",this._isSupported="Notification"in window,this._isSupported&&(this.permission=Notification.permission)}async requestPermission(){if(!this._isSupported)return console.warn("Notifications not supported in this browser"),!1;if(this.permission==="granted")return!0;if(this.permission==="denied")return console.warn("Notification permission denied"),!1;try{const e=await Notification.requestPermission();return this.permission=e,e==="granted"}catch(e){return console.error("Error requesting notification permission:",e),!1}}async showNotification(e){if(!this._isSupported||this.permission!=="granted")return null;try{const r=new Notification(e.title,{body:e.body,icon:e.icon||"/icon-192x192.png",badge:e.badge||"/icon-192x192.png",tag:e.tag,data:e.data,requireInteraction:!1,silent:!1});return setTimeout(()=>{r.close()},5e3),r}catch(r){return console.error("Error showing notification:",r),null}}async showAdNotification(e,r){await this.showNotification({title:"New Ad Available! 🎬",body:`Watch "${e}" and earn ${r} USDT`,tag:"new-ad",data:{type:"new-ad",reward:r}})}async showRewardNotification(e,r){await this.showNotification({title:"Reward Earned! 💰",body:`You earned ${e} USDT from ${r}`,tag:"reward-earned",data:{type:"reward",amount:e,source:r}})}async showVIPNotification(){await this.showNotification({title:"VIP Benefits Unlocked! 👑",body:"You now have access to exclusive ads and higher rewards",tag:"vip-unlocked",data:{type:"vip-unlocked"}})}async showWithdrawalNotification(e){await this.showNotification({title:"Withdrawal Successful! 💸",body:`${e} USDT has been sent to your wallet`,tag:"withdrawal-success",data:{type:"withdrawal",amount:e}})}async showReferralNotification(e){await this.showNotification({title:"Referral Bonus! 🎁",body:`Share your code: ${e} and earn 10% of your referrals' earnings`,tag:"referral-bonus",data:{type:"referral",code:e}})}isPermissionGranted(){return this.permission==="granted"}isSupported(){return this._isSupported}}const hs=new r0,i0=({onClose:t})=>{const[e,r]=p.useState(!1),[i,n]=p.useState(!1),[a,o]=p.useState({newAds:!0,rewards:!0,vip:!0,withdrawals:!0,referrals:!0});p.useEffect(()=>{n(hs.isSupported()),r(hs.isPermissionGranted());const h=localStorage.getItem("notificationSettings");h&&o(JSON.parse(h))},[]);const l=async()=>{const h=await hs.requestPermission();r(h)},c=h=>{const m={...a,[h]:!a[h]};o(m),localStorage.setItem("notificationSettings",JSON.stringify(m))},d=async()=>{await hs.showNotification({title:"Test Notification",body:"This is a test notification to verify your settings are working!",tag:"test"})};return i?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Notification Settings"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),!e&&s.jsxs("div",{className:"bg-yellow-600 bg-opacity-20 border border-yellow-600 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-400 font-semibold",children:"Permission Required"}),s.jsx("p",{className:"text-yellow-300 text-sm",children:"Enable notifications to receive updates about new ads and rewards."})]})]}),s.jsx("button",{onClick:l,className:"mt-3 w-full bg-yellow-600 text-white py-2 px-4 rounded hover:bg-yellow-700 transition-colors",children:"Enable Notifications"})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"New Ads Available"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Get notified when new ads are posted"})]}),s.jsx("button",{onClick:()=>c("newAds"),className:`w-12 h-6 rounded-full transition-colors ${a.newAds?"bg-blue-600":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.newAds?"transform translate-x-6":"transform translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Rewards Earned"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Notifications when you earn USDT"})]}),s.jsx("button",{onClick:()=>c("rewards"),className:`w-12 h-6 rounded-full transition-colors ${a.rewards?"bg-blue-600":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.rewards?"transform translate-x-6":"transform translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"VIP Benefits"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"VIP status updates and exclusive offers"})]}),s.jsx("button",{onClick:()=>c("vip"),className:`w-12 h-6 rounded-full transition-colors ${a.vip?"bg-blue-600":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.vip?"transform translate-x-6":"transform translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Withdrawals"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Confirmations when withdrawals are processed"})]}),s.jsx("button",{onClick:()=>c("withdrawals"),className:`w-12 h-6 rounded-full transition-colors ${a.withdrawals?"bg-blue-600":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.withdrawals?"transform translate-x-6":"transform translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Referral Bonuses"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"When someone uses your referral code"})]}),s.jsx("button",{onClick:()=>c("referrals"),className:`w-12 h-6 rounded-full transition-colors ${a.referrals?"bg-blue-600":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a.referrals?"transform translate-x-6":"transform translate-x-1"}`})})]})]}),s.jsx("button",{onClick:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors mb-4",children:"Test Notification"})]}),s.jsx("button",{onClick:t,className:"w-full bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Close"})]})}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Notifications Not Supported"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Your browser doesn't support notifications. Please use a modern browser like Chrome, Firefox, or Safari."}),s.jsx("button",{onClick:t,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Close"})]})})},n0=({onClose:t})=>{const[e,r]=p.useState(!1),[i,n]=p.useState(!1),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,h]=p.useState(""),[m,u]=p.useState([]),[f,w]=p.useState("setup");p.useEffect(()=>{const y=JSON.parse(localStorage.getItem("user")||"{}");r(y.twoFactorEnabled||!1)},[]);const x=()=>{const y="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let N="";for(let A=0;A<32;A++)N+=y.charAt(Math.floor(Math.random()*y.length));return N},g=(y,N)=>{const A="USDT Rewards",D=N;return`otpauth://totp/${encodeURIComponent(A)}:${encodeURIComponent(D)}?secret=${y}&issuer=${encodeURIComponent(A)}&algorithm=SHA1&digits=6&period=30`},b=()=>{const y=[];for(let N=0;N<8;N++){const A=Math.random().toString(36).substring(2,8).toUpperCase();y.push(A)}return y},S=()=>{const y=JSON.parse(localStorage.getItem("user")||"{}"),N=x();c(N),o(g(N,y.email||"user@example.com")),n(!0),w("setup")},j=()=>{d.length===6?(w("backup"),u(b())):alert("Please enter a valid 6-digit code")},k=()=>{const y=JSON.parse(localStorage.getItem("user")||"{}");y.twoFactorEnabled=!0,y.twoFactorSecret=l,y.backupCodes=m,localStorage.setItem("user",JSON.stringify(y)),r(!0),n(!1),w("setup"),h(""),u([]),t()},C=()=>{const y=JSON.parse(localStorage.getItem("user")||"{}");y.twoFactorEnabled=!1,delete y.twoFactorSecret,delete y.backupCodes,localStorage.setItem("user",JSON.stringify(y)),r(!1)};return i?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Two-Factor Authentication"}),s.jsx("button",{onClick:()=>{n(!1),w("setup"),h(""),u([])},className:"text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f==="setup"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"Step 1: Scan QR Code"}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Open your authenticator app (Google Authenticator, Authy, etc.) and scan this QR code:"}),s.jsx("div",{className:"bg-white p-4 rounded-lg inline-block mb-4",children:s.jsx("div",{className:"w-48 h-48 bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),s.jsx("p",{className:"text-xs",children:"QR Code Placeholder"}),s.jsxs("p",{className:"text-xs mt-1",children:["Secret: ",l]})]})})}),s.jsxs("p",{className:"text-gray-400 text-xs",children:["Can't scan? Enter this code manually: ",s.jsx("code",{className:"bg-gray-700 px-2 py-1 rounded",children:l})]})]}),s.jsx("button",{onClick:()=>w("verify"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Next: Verify Code"})]}),f==="verify"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"Step 2: Verify Code"}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Enter the 6-digit code from your authenticator app:"}),s.jsx("input",{type:"text",value:d,onChange:y=>h(y.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full bg-gray-700 text-white px-4 py-3 rounded text-center text-2xl tracking-widest",maxLength:6})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>w("setup"),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Back"}),s.jsx("button",{onClick:j,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Verify"})]})]}),f==="backup"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"Step 3: Backup Codes"}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Save these backup codes in a secure location. You can use them to access your account if you lose your authenticator device:"}),s.jsx("div",{className:"bg-gray-700 p-4 rounded-lg",children:s.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.map((y,N)=>s.jsx("div",{className:"bg-gray-600 px-3 py-2 rounded text-center font-mono text-white",children:y},N))})}),s.jsx("p",{className:"text-yellow-400 text-xs mt-2",children:"⚠️ Store these codes securely. Each code can only be used once."})]}),s.jsx("button",{onClick:k,className:"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition-colors",children:"Complete Setup"})]})]})}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Two-Factor Authentication"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${e?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-white",children:e?"Two-Factor Authentication is enabled":"Two-Factor Authentication is disabled"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Two-factor authentication adds an extra layer of security to your account by requiring a code from your authenticator app in addition to your password."}),e?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"bg-green-600 bg-opacity-20 border border-green-600 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-400 font-semibold",children:"Security Enhanced"}),s.jsx("p",{className:"text-green-300 text-sm",children:"Your account is protected with 2FA"})]})]})}),s.jsx("button",{onClick:C,className:"w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition-colors",children:"Disable 2FA"})]}):s.jsx("button",{onClick:S,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Enable 2FA"})]})]})})},a0=({onClose:t})=>{const[e,r]=p.useState({firstName:"",lastName:"",dateOfBirth:"",nationality:"",documentType:"passport",documentNumber:"",documentFront:"",documentBack:"",selfie:"",status:"not_submitted"}),[i,n]=p.useState(1),[a,o]=p.useState(!1);p.useEffect(()=>{console.log("KYCVerification useEffect - userStorage object:",B);const u=B.getCurrentUser();console.log("KYCVerification useEffect - Current user:",u),u&&u.kycData&&r(u.kycData)},[]);const l=(u,f)=>{r(w=>({...w,[u]:f}))},c=(u,f)=>{console.log(`File upload for ${u}:`,f);const w=new FileReader;w.onload=x=>{console.log(`${u} file loaded successfully`),r(g=>({...g,[u]:x.target?.result}))},w.onerror=x=>{console.error(`Error loading ${u} file:`,x)},w.readAsDataURL(f)},d=()=>{console.log("handleSubmit called");const u=B.getCurrentUser();if(console.log("Current user:",u),!u){alert("User not found. Please log in again.");return}const f={...e,status:"pending",submittedAt:new Date().toISOString()},w={...u,kycData:f};B.updateUser(w);const x={id:`kyc_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:u.id,username:u.username,fullName:`${e.firstName} ${e.lastName}`,dateOfBirth:e.dateOfBirth,nationality:e.nationality,documentType:e.documentType,documentNumber:e.documentNumber,documentFront:e.documentFront,documentBack:e.documentBack,selfieWithDocument:e.selfie,status:"pending",submittedAt:new Date().toISOString(),adminNotes:void 0,rejectionReason:void 0},g=localStorage.getItem("kycVerifications");console.log("Existing KYC data from localStorage:",g);const b=g?JSON.parse(g):[];console.log("Parsed existing KYC list:",b),b.push(x),console.log("Updated KYC list with new submission:",b),localStorage.setItem("kycVerifications",JSON.stringify(b));const S=localStorage.getItem("kycVerifications");console.log("Verified saved data:",S),console.log("KYC submitted:",x),console.log("Updated KYC list:",b),r(f),o(!1),console.log("KYC submission completed successfully"),setTimeout(()=>{const j=localStorage.getItem("kycVerifications");if(console.log("Verification - Saved KYC data:",j),j){const k=JSON.parse(j);console.log("Verification - Number of KYC submissions:",k.length),alert(`KYC verification submitted successfully! Your submission is now under review. Total submissions: ${k.length}`)}else console.error("Verification - No KYC data found after submission!"),alert("KYC verification submitted, but there was an issue saving the data. Please contact support.")},100)},h=u=>{switch(u){case"approved":return"text-green-400";case"rejected":return"text-red-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}},m=u=>{switch(u){case"approved":return"Verified";case"rejected":return"Rejected";case"pending":return"Under Review";default:return"Not Submitted"}};return a?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"KYC Verification"}),s.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center space-x-2 sm:space-x-4",children:[1,2,3].map(u=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-sm sm:text-base ${i>=u?"bg-blue-600 text-white":"bg-gray-600 text-gray-400"}`,children:u}),u<3&&s.jsx("div",{className:`w-6 sm:w-12 h-1 mx-1 sm:mx-2 ${i>u?"bg-blue-600":"bg-gray-600"}`})]},u))}),i===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-medium text-white",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"First Name"}),s.jsx("input",{type:"text",value:e.firstName,onChange:u=>l("firstName",u.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Last Name"}),s.jsx("input",{type:"text",value:e.lastName,onChange:u=>l("lastName",u.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"Doe"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Date of Birth"}),s.jsx("input",{type:"date",value:e.dateOfBirth,onChange:u=>l("dateOfBirth",u.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Nationality"}),s.jsx("input",{type:"text",value:e.nationality,onChange:u=>l("nationality",u.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"United States"})]})]}),s.jsx("button",{onClick:()=>n(2),disabled:!e.firstName||!e.lastName||!e.dateOfBirth||!e.nationality,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Next: Document Information"})]}),i===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-medium text-white",children:"Document Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Document Type"}),s.jsxs("select",{value:e.documentType,onChange:u=>l("documentType",u.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",children:[s.jsx("option",{value:"passport",children:"Passport"}),s.jsx("option",{value:"national_id",children:"National ID"}),s.jsx("option",{value:"drivers_license",children:"Driver's License"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Document Number"}),s.jsx("input",{type:"text",value:e.documentNumber,onChange:u=>l("documentNumber",u.target.value),className:"w-full bg-gray-700 text-white px-4 py-2 rounded",placeholder:"123456789"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Document Front"}),s.jsx("input",{type:"file",accept:"image/*",onChange:u=>u.target.files?.[0]&&c("documentFront",u.target.files[0]),className:"w-full bg-gray-700 text-white px-4 py-2 rounded"}),e.documentFront&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:e.documentFront,alt:"Document Front",className:"w-full h-32 object-cover rounded"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Document Back"}),s.jsx("input",{type:"file",accept:"image/*",onChange:u=>u.target.files?.[0]&&c("documentBack",u.target.files[0]),className:"w-full bg-gray-700 text-white px-4 py-2 rounded"}),e.documentBack&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:e.documentBack,alt:"Document Back",className:"w-full h-32 object-cover rounded"})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsx("button",{onClick:()=>n(1),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Back"}),s.jsx("button",{onClick:()=>n(3),disabled:!e.documentNumber||!e.documentFront||!e.documentBack,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Next: Selfie"})]})]}),i===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-medium text-white",children:"Selfie Verification"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Take a Selfie"}),s.jsx("input",{type:"file",accept:"image/*",onChange:u=>u.target.files?.[0]&&c("selfie",u.target.files[0]),className:"w-full bg-gray-700 text-white px-4 py-2 rounded"}),e.selfie&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:e.selfie,alt:"Selfie",className:"w-32 h-32 sm:w-48 sm:h-48 object-cover rounded mx-auto"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsx("button",{onClick:()=>n(2),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Back"}),s.jsx("button",{onClick:()=>{console.log("Submit button clicked"),console.log("Current kycData:",e),console.log("Selfie exists:",!!e.selfie),e.selfie?d():alert("Please upload a selfie before submitting")},disabled:!e.selfie,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:e.selfie?"Submit for Review":"Upload Selfie First"})]})]})]})]})}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 sm:p-6 w-full max-w-md max-h-[95vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"KYC Verification"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${e.status==="approved"?"bg-green-500":e.status==="rejected"?"bg-red-500":e.status==="pending"?"bg-yellow-500":"bg-gray-500"}`}),s.jsxs("span",{className:`${h(e.status)}`,children:["Status: ",m(e.status)]})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Complete KYC verification to unlock higher withdrawal limits and access to premium features."}),e.status==="rejected"&&e.rejectionReason&&s.jsx("div",{className:"bg-red-600 bg-opacity-20 border border-red-600 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-400 text-sm",children:[s.jsx("strong",{children:"Rejection Reason:"})," ",e.rejectionReason]})}),e.status==="pending"&&s.jsx("div",{className:"bg-yellow-600 bg-opacity-20 border border-yellow-600 rounded-lg p-4",children:s.jsx("p",{className:"text-yellow-400 text-sm",children:"Your KYC submission is under review. This usually takes 1-3 business days."})}),e.status==="approved"&&s.jsx("div",{className:"bg-green-600 bg-opacity-20 border border-green-600 rounded-lg p-4",children:s.jsx("p",{className:"text-green-400 text-sm",children:"Your identity has been verified. You now have access to higher withdrawal limits."})}),e.status==="not_submitted"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>o(!0),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Start KYC Verification"}),s.jsx("button",{onClick:()=>{console.log("Test KYC submission"),r({firstName:"Test",lastName:"User",dateOfBirth:"1990-01-01",nationality:"United States",documentType:"passport",documentNumber:"123456789",documentFront:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",documentBack:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",selfie:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8A",status:"not_submitted"}),o(!0),n(3)},className:"w-full bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors text-sm",children:"Test: Fill Form with Sample Data"}),s.jsx("button",{onClick:()=>{console.log("=== KYC Data Check ===");const u=localStorage.getItem("kycVerifications");if(console.log("KYC data in localStorage:",u),u){const f=JSON.parse(u);console.log("Parsed KYC data:",f),console.log("Number of KYC submissions:",f.length),alert(`Found ${f.length} KYC submissions in localStorage`)}else console.log("No KYC data found in localStorage"),alert("No KYC data found in localStorage")},className:"w-full bg-yellow-600 text-white py-2 px-4 rounded hover:bg-yellow-700 transition-colors text-sm",children:"Check KYC Data in localStorage"})]}),e.status==="rejected"&&s.jsx("button",{onClick:()=>o(!0),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Resubmit KYC"})]})]})})},o0=()=>{const[t,e]=p.useState([]),[r,i]=p.useState([]),[n,a]=p.useState("30d"),[o,l]=p.useState(!1),[c,d]=p.useState(null);p.useEffect(()=>{h()},[n]);const h=()=>{const x=JSON.parse(localStorage.getItem("ads")||"[]"),g=JSON.parse(localStorage.getItem("users")||"[]"),b=x.map(j=>({id:j.id,title:j.title,views:j.views||0,earnings:(j.views||0)*(j.reward||0),completionRate:j.completionRate||85,averageWatchTime:j.averageWatchTime||45,createdAt:j.createdAt,scheduledStart:j.scheduledStart,scheduledEnd:j.scheduledEnd})),S=g.map(j=>({id:j.id,email:j.email,totalEarnings:j.totalEarnings||0,adsWatched:j.adsWatched||0,isVIP:j.isVIP||!1,lastActive:j.lastActive||new Date().toISOString(),joinDate:j.joinDate||new Date().toISOString()}));e(b),i(S)},m=()=>{const x=t.reduce((k,C)=>k+C.views,0),g=t.reduce((k,C)=>k+C.earnings,0),b=r.length,S=r.filter(k=>k.isVIP).length,j=t.length>0?t.reduce((k,C)=>k+C.completionRate,0)/t.length:0;return{totalViews:x,totalEarnings:g,totalUsers:b,vipUsers:S,averageCompletionRate:Math.round(j)}},u=x=>{d(x),l(!0)},f=(x,g)=>{if(!c)return;const S=JSON.parse(localStorage.getItem("ads")||"[]").map(j=>j.id===c.id?{...j,scheduledStart:x,scheduledEnd:g}:j);localStorage.setItem("ads",JSON.stringify(S)),h(),l(!1),d(null)},w=m();return s.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Admin Analytics"}),s.jsx("p",{className:"text-gray-400",children:"Comprehensive platform insights and performance metrics"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("select",{value:n,onChange:x=>a(x.target.value),className:"bg-gray-800 text-white px-4 py-2 rounded border border-gray-600",children:[s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"90d",children:"Last 90 days"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-2",children:w.totalViews.toLocaleString()}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Views"}),s.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+12% vs last period"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-400 mb-2",children:[w.totalEarnings.toFixed(2)," USDT"]}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Earnings"}),s.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+8% vs last period"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-2",children:w.totalUsers}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Users"}),s.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+5% vs last period"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-2",children:w.vipUsers}),s.jsx("div",{className:"text-gray-400 text-sm",children:"VIP Users"}),s.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+15% vs last period"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-400 mb-2",children:[w.averageCompletionRate,"%"]}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Avg Completion"}),s.jsx("div",{className:"text-green-400 text-xs mt-2",children:"+3% vs last period"})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Ad Performance Analytics"}),s.jsx("button",{onClick:()=>window.location.href="/admin",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Manage Ads"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("th",{className:"text-left py-3 px-4",children:"Ad Title"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Views"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Earnings"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Completion Rate"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Avg Watch Time"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),s.jsx("tbody",{children:t.map(x=>s.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[s.jsx("td",{className:"py-3 px-4",children:x.title}),s.jsx("td",{className:"py-3 px-4",children:x.views.toLocaleString()}),s.jsxs("td",{className:"py-3 px-4",children:[x.earnings.toFixed(2)," USDT"]}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-16 bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:`${x.completionRate}%`}})}),s.jsxs("span",{children:[x.completionRate,"%"]})]})}),s.jsxs("td",{className:"py-3 px-4",children:[x.averageWatchTime,"s"]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${x.scheduledStart&&x.scheduledEnd?"bg-yellow-600 text-yellow-100":"bg-green-600 text-green-100"}`,children:x.scheduledStart&&x.scheduledEnd?"Scheduled":"Active"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("button",{onClick:()=>u(x),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Schedule"})})]},x.id))})]})})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"User Analytics"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("th",{className:"text-left py-3 px-4",children:"User"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Total Earnings"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Ads Watched"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Last Active"}),s.jsx("th",{className:"text-left py-3 px-4",children:"Join Date"})]})}),s.jsx("tbody",{children:r.slice(0,10).map(x=>s.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700",children:[s.jsx("td",{className:"py-3 px-4",children:x.email}),s.jsxs("td",{className:"py-3 px-4",children:[x.totalEarnings.toFixed(2)," USDT"]}),s.jsx("td",{className:"py-3 px-4",children:x.adsWatched}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${x.isVIP?"bg-purple-600 text-purple-100":"bg-gray-600 text-gray-100"}`,children:x.isVIP?"VIP":"Standard"})}),s.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(x.lastActive).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(x.joinDate).toLocaleDateString()})]},x.id))})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Trend"}),s.jsx("div",{className:"h-64 bg-gray-700 rounded flex items-center justify-center",children:s.jsx("p",{className:"text-gray-400",children:"Chart placeholder - Revenue over time"})})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Growth"}),s.jsx("div",{className:"h-64 bg-gray-700 rounded flex items-center justify-center",children:s.jsx("p",{className:"text-gray-400",children:"Chart placeholder - User growth over time"})})]})]})]}),o&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Schedule Ad: ",c.title]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"Start Date & Time"}),s.jsx("input",{type:"datetime-local",className:"w-full bg-gray-700 text-white px-4 py-2 rounded",defaultValue:c.scheduledStart||""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-300 text-sm mb-2",children:"End Date & Time"}),s.jsx("input",{type:"datetime-local",className:"w-full bg-gray-700 text-white px-4 py-2 rounded",defaultValue:c.scheduledEnd||""})]})]}),s.jsxs("div",{className:"flex space-x-2 mt-6",children:[s.jsx("button",{onClick:()=>l(!1),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded hover:bg-gray-700 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{const x=document.querySelector('input[type="datetime-local"]:first-of-type'),g=document.querySelector('input[type="datetime-local"]:last-of-type');f(x.value,g.value)},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"Save Schedule"})]})]})})]})},l0=({onBack:t})=>{const[e,r]=p.useState("faq"),[i,n]=p.useState(""),[a,o]=p.useState(null),[l,c]=p.useState({subject:"",message:"",email:"",priority:"medium"}),d=[{question:"How do I start earning USDT?",answer:"To start earning USDT, simply watch ads on our platform. Each ad you watch earns you a small amount of USDT. The more ads you watch, the more you earn. You can also earn through our referral program by inviting friends."},{question:"What is the minimum withdrawal amount?",answer:"The minimum withdrawal amount is 10 USDT. This helps us cover transaction fees and ensure efficient processing of withdrawals."},{question:"How long does it take to receive my withdrawal?",answer:"Withdrawals are typically processed within 24-48 hours. USDT withdrawals are sent to your provided wallet address once approved by our team."},{question:"How does the referral program work?",answer:"When someone signs up using your referral code, you earn a bonus for each ad they watch. You can earn up to 20% of their earnings as referral bonuses."},{question:"What are VIP tiers and how do I unlock them?",answer:"VIP tiers provide additional benefits like higher earnings per ad, exclusive rewards, and priority support. You can unlock VIP tiers by watching a certain number of ads daily and maintaining an active streak."},{question:"Is my account secure?",answer:"Yes, we implement industry-standard security measures including two-factor authentication, KYC verification, and encrypted data storage to protect your account and funds."},{question:"Can I use multiple accounts?",answer:"No, we only allow one account per person. Using multiple accounts is against our terms of service and may result in account suspension."},{question:"What cryptocurrencies do you support?",answer:"We currently support USDT (TRC20 and ERC20), Bitcoin (BTC), and Ethereum (ETH) for deposits and withdrawals."}],h=[{title:"Getting Started Guide",description:"Learn how to create an account and start earning USDT",icon:"🚀",content:"Step-by-step guide to setting up your account and beginning your earning journey."},{title:"Ad Watching Tips",description:"Maximize your earnings with these proven strategies",icon:"📺",content:"Best practices for watching ads efficiently and earning more USDT."},{title:"Referral Program Guide",description:"Learn how to earn through our referral system",icon:"👥",content:"Complete guide to the referral program and how to maximize your referral earnings."},{title:"VIP Program Explained",description:"Everything you need to know about VIP tiers",icon:"👑",content:"Detailed explanation of VIP tiers, benefits, and how to unlock them."},{title:"Security Best Practices",description:"Keep your account and funds safe",icon:"🔒",content:"Essential security tips to protect your account and cryptocurrency."},{title:"Withdrawal Guide",description:"How to withdraw your earnings safely",icon:"💰",content:"Step-by-step process for withdrawing your USDT earnings to your wallet."}],m=[{name:"Email Support",description:"Get help via email",icon:ks,contact:"support@usdtrewards.com",responseTime:"Within 24 hours"},{name:"Live Chat",description:"Chat with our support team",icon:mc,contact:"Available 24/7",responseTime:"Instant"},{name:"Phone Support",description:"Call us directly",icon:xc,contact:"+1 (555) 123-4567",responseTime:"Within 2 hours"}],u=d.filter(x=>x.question.toLowerCase().includes(i.toLowerCase())||x.answer.toLowerCase().includes(i.toLowerCase())),f=x=>{x.preventDefault(),alert("Thank you for contacting us! We will get back to you within 24 hours."),c({subject:"",message:"",email:"",priority:"medium"})},w=x=>{o(a===x?null:x)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("button",{onClick:t,className:"mr-4 p-2 text-slate-400 hover:text-white transition-colors",children:s.jsx(ht,{size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Support & Help Center"}),s.jsx("p",{className:"text-slate-400",children:"Get help and find answers to your questions"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:"bg-slate-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(dc,{size:24,className:"text-blue-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 text-sm",children:"Support Tickets"}),s.jsx("p",{className:"text-white text-xl font-bold",children:"24/7"})]})]})}),s.jsx("div",{className:"bg-slate-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(hc,{size:24,className:"text-green-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 text-sm",children:"Response Time"}),s.jsx("p",{className:"text-white text-xl font-bold",children:"< 24h"})]})]})}),s.jsx("div",{className:"bg-slate-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(uc,{size:24,className:"text-purple-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-400 text-sm",children:"Help Articles"}),s.jsx("p",{className:"text-white text-xl font-bold",children:"50+"})]})]})})]}),s.jsx("div",{className:"bg-slate-800 rounded-lg p-1 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>r("faq"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${e==="faq"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"FAQ"}),s.jsx("button",{onClick:()=>r("guides"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${e==="guides"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Help Guides"}),s.jsx("button",{onClick:()=>r("contact"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${e==="contact"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Contact Support"})]})}),e==="faq"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fr,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search FAQ...",value:i,onChange:x=>n(x.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsx("div",{className:"space-y-4",children:u.map((x,g)=>s.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700",children:[s.jsxs("button",{onClick:()=>w(g),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-slate-700 transition-colors",children:[s.jsx("span",{className:"text-white font-medium",children:x.question}),a===g?s.jsx(Ca,{size:20,className:"text-slate-400"}):s.jsx(Sa,{size:20,className:"text-slate-400"})]}),a===g&&s.jsx("div",{className:"px-6 pb-4",children:s.jsx("p",{className:"text-slate-300",children:x.answer})})]},g))}),u.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-400",children:"No FAQ items found matching your search."})})]}),e==="guides"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((x,g)=>s.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700 hover:border-slate-600 transition-colors",children:[s.jsx("div",{className:"text-4xl mb-4",children:x.icon}),s.jsx("h3",{className:"text-white font-semibold mb-2",children:x.title}),s.jsx("p",{className:"text-slate-400 text-sm mb-4",children:x.description}),s.jsx("p",{className:"text-slate-300 text-sm",children:x.content}),s.jsx("button",{className:"mt-4 text-blue-400 hover:text-blue-300 text-sm font-medium",children:"Read More →"})]},g))}),e==="contact"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Contact Methods"}),m.map((x,g)=>s.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(x.icon,{size:24,className:"text-blue-400 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:x.name}),s.jsx("p",{className:"text-slate-400 text-sm",children:x.description})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-slate-300",children:x.contact}),s.jsxs("p",{className:"text-slate-400 text-sm",children:["Response time: ",x.responseTime]})]})]},g))]}),s.jsxs("div",{className:"bg-slate-800 rounded-lg p-6 border border-slate-700",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Send us a Message"}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Subject"}),s.jsx("input",{type:"text",value:l.subject,onChange:x=>c({...l,subject:x.target.value}),required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"What can we help you with?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Email"}),s.jsx("input",{type:"email",value:l.email,onChange:x=>c({...l,email:x.target.value}),required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Priority"}),s.jsxs("select",{value:l.priority,onChange:x=>c({...l,priority:x.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Message"}),s.jsx("textarea",{value:l.message,onChange:x=>c({...l,message:x.target.value}),required:!0,rows:5,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Please describe your issue in detail..."})]}),s.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Send Message"})]})]})]})]})})};function c0(){const t=Ts();return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-green-700 px-4 py-12",children:[s.jsxs("button",{onClick:()=>t("/"),className:"fixed top-4 left-8 flex items-center px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-full shadow text-white font-semibold hover:bg-white/20 transition z-50",children:[s.jsx(ht,{className:"w-5 h-5 mr-2"}),"Go Back"]}),s.jsxs("div",{className:"max-w-3xl w-full bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 sm:p-12 flex flex-col items-center text-center",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-4 bg-gradient-to-r from-purple-400 via-green-300 to-pink-400 bg-clip-text text-transparent",children:"About CryptoRewards"}),s.jsx("p",{className:"text-lg sm:text-xl text-white/80 max-w-2xl mx-auto",children:"CryptoRewards is building the future of decentralized earning. Our mission is to empower everyone to earn crypto effortlessly, securely, and globally—no matter your background or experience."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Our Mission"}),s.jsx("p",{className:"text-white/80 max-w-xl mx-auto",children:"We believe in financial inclusion and the power of blockchain to create new opportunities. By connecting users with innovative earning methods, we make crypto accessible, transparent, and rewarding for all."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Our Vision & Team"}),s.jsx("p",{className:"text-white/80 max-w-xl mx-auto mb-4",children:"Our team is a diverse group of crypto enthusiasts, engineers, and designers passionate about Web3. We are committed to building a safe, user-friendly, and rewarding platform for the next generation of digital earners."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:[s.jsx("div",{className:"bg-white/10 border border-white/20 rounded-xl px-6 py-4 text-white/90 font-semibold shadow-lg",children:"🌍 Global Team"}),s.jsx("div",{className:"bg-white/10 border border-white/20 rounded-xl px-6 py-4 text-white/90 font-semibold shadow-lg",children:"🔒 Security First"}),s.jsx("div",{className:"bg-white/10 border border-white/20 rounded-xl px-6 py-4 text-white/90 font-semibold shadow-lg",children:"🚀 Web3 Innovators"})]})]})]})]})}const Ke=({children:t,user:e})=>e?s.jsx(s.Fragment,{children:t}):s.jsx(Ge,{to:"/auth",replace:!0}),d0=({children:t,user:e})=>e?e.username!=="mhamad"?s.jsx(Ge,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:t}):s.jsx(Ge,{to:"/auth",replace:!0}),h0=()=>{console.log("AppContent: Component rendering...");const[t,e]=p.useState(null),[r,i]=p.useState(!1),[n,a]=p.useState(null),[o,l]=p.useState(!0),[c,d]=p.useState(!1),[h,m]=p.useState(!1),[u,f]=p.useState(!1),[w,x]=p.useState(!1),g=pc(),b=Ts(),j=t&&!c&&!["/auth","/reset-password","/admin/login"].includes(g.pathname),k=p.useCallback(async P=>{i(!0),a(null);try{console.log("Auth attempt:",{hasUsername:!!P.username,hasEmail:!!P.email,isSignup:!!(P.username&&P.email),userData:P});let T;if(P.username&&P.email)console.log("Attempting to create user..."),T=B.createUser({username:P.username,email:P.email,firstName:P.firstName||"",lastName:P.lastName||"",password:P.password,birthday:P.birthday,referralCode:P.referralCode,referrerId:P.referrerId}),P.country&&(T.country=P.country,B.updateUser(T)),console.log("User created successfully:",T.username);else{if(!P.username)throw new Error("Username is required for login");console.log("Attempting to authenticate user..."),T=B.authenticateUser(P.username,P.password),console.log("User authenticated successfully:",T.username)}B.setCurrentUser(T),e(T),T.username==="mhamad"?b("/admin"):b("/dashboard")}catch(T){console.error("Authentication failed:",T),a(T instanceof Error?T.message:"Authentication failed")}finally{i(!1)}},[b]),C=p.useCallback(()=>{if(t){const P=B.getCurrentSession(t.id);P&&B.terminateSession(P.id)}B.setCurrentUser(null),e(null),b("/")},[b,t]),y=p.useCallback(()=>{b("/"),a(null)},[b]),N=p.useCallback(P=>{B.updateUser(P),e(P)},[]),A=p.useCallback(P=>{switch(P){case"landing":b("/");break;case"auth":b("/auth");break;case"dashboard":b("/dashboard");break;case"ads":b("/ads");break;case"withdraw":b("/withdraw");break;case"profile":b("/profile");break;case"referrals":b("/referrals");break;case"admin":b("/admin");break;case"settings":b("/settings");break;case"security":b("/security");break;case"notifications":b("/notifications");break;case"vip":b("/vip");break;case"analytics":b("/analytics");break;case"support":b("/support");break}},[b]),D=p.useCallback(async P=>{i(!0),a(null);try{const T=B.authenticateUser(P.username,P.password);if(T.username==="mhamad")B.setCurrentUser(T),e(T),d(!0),b("/admin/dashboard");else throw new Error("Access denied. Admin privileges required.")}catch(T){console.error("Admin authentication failed:",T),a(T instanceof Error?T.message:"Authentication failed")}finally{i(!1)}},[b]),E=p.useCallback(()=>{if(t){const P=B.getCurrentSession(t.id);P&&B.terminateSession(P.id)}B.setCurrentUser(null),e(null),d(!1),b("/")},[b,t]),V=p.useCallback(P=>{b(P?`/auth?ref=${P}`:"/auth")},[b]),R=p.useCallback(()=>{b("/dashboard")},[b]);p.useEffect(()=>{const P=T=>{const{message:G,userCount:H}=T.detail;if(console.log("Data restored:",G,"Users:",H),typeof window<"u"){const O=document.createElement("div");O.style.cssText=`
          position: fixed;
          top: 20px;
          right: 20px;
          background: #10b981;
          color: white;
          padding: 12px 20px;
          border-radius: 8px;
          z-index: 10000;
          font-family: system-ui, -apple-system, sans-serif;
          font-size: 14px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          animation: slideIn 0.3s ease-out;
        `,O.textContent=G,document.body.appendChild(O),setTimeout(()=>{O.style.animation="slideOut 0.3s ease-in",setTimeout(()=>{O.parentNode&&O.parentNode.removeChild(O)},300)},5e3);const L=document.createElement("style");L.textContent=`
          @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
          }
        `,document.head.appendChild(L)}};return window.addEventListener("dataRestored",P),()=>{window.removeEventListener("dataRestored",P)}},[]);const F=p.useMemo(()=>{switch(g.pathname){case"/":return"landing";case"/auth":return"auth";case"/dashboard":return"dashboard";case"/ads":return"ads";case"/withdraw":return"withdraw";case"/profile":return"profile";case"/referrals":return"referrals";case"/settings":return"settings";case"/security":return"security";case"/notifications":return"notifications";case"/vip":return"vip";case"/analytics":return"analytics";case"/support":return"support";default:return"landing"}},[g.pathname]);return p.useEffect(()=>{t&&t.username==="mhamad"&&g.pathname.startsWith("/admin")?d(!0):d(!1)},[g.pathname,t]),p.useEffect(()=>{(async()=>{try{console.log("App initialization started"),B.getUserCount()===0&&(B.createDefaultAdmin(),console.log("Created default admin account (first time setup)"));const T=B.getCurrentUser();if(console.log("Initialization: savedUser from getCurrentUser:",T?T.username:"null"),T){console.log("Initialization: Found saved user:",T.username,"balance:",T.balance);const G=B.validateCurrentUser();console.log("Initialization: Current user validation result:",G);const H=B.getCurrentUser();console.log("Initialization: validatedUser:",H?H.username:"null"),H?(console.log("Initialization: Setting current user:",H.username,"balance:",H.balance),e(H),B.getCurrentSession(H.id)||(console.log("Initialization: No current session found, creating one for user:",H.id),B.createSession(H.id)),g.pathname==="/"&&(H.username==="mhamad"?b("/admin"):b("/dashboard"))):(console.log("Initialization: validatedUser is null, not setting current user"),B.setCurrentUser(null))}else console.log("Initialization: No saved user found")}catch(T){if(console.error("Error initializing app:",T),B.hasBackup()){console.log("Attempting to restore from backup...");try{if(B.restoreFromBackup()&&(console.log("Successfully restored from backup"),B.getUserCount()===0&&B.createDefaultAdmin(),B.getCurrentUser())){const H=B.validateCurrentUser();console.log("Backup restore: Current user validation result:",H);const O=B.getCurrentUser();O&&(e(O),B.getCurrentSession(O.id)||(console.log("Backup restore: No current session found, creating one for user:",O.id),B.createSession(O.id)),g.pathname==="/"&&(O.username==="mhamad"?b("/admin"):b("/dashboard")))}}catch(G){console.error("Failed to restore from backup:",G)}}else T instanceof Error&&(T.message.includes("storage")||T.message.includes("localStorage")||T.message.includes("JSON")||T.message.includes("Unexpected token"))?(console.log("Critical storage error detected, clearing data..."),B.clearAllData(),B.getUserCount()===0&&B.createDefaultAdmin()):console.log("Non-critical error, preserving user data")}finally{l(!1)}})()},[]),p.useEffect(()=>{if(!t)return;const P=()=>{const H=B.getCurrentSession(t.id);H&&B.updateSessionActivity(H.id)},T=()=>{P()},G=setInterval(P,5*60*1e3);return document.addEventListener("mousedown",T),document.addEventListener("keydown",T),document.addEventListener("scroll",T),document.addEventListener("touchstart",T),()=>{clearInterval(G),document.removeEventListener("mousedown",T),document.removeEventListener("keydown",T),document.removeEventListener("scroll",T),document.removeEventListener("touchstart",T)}},[t]),o?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center px-3 sm:px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-white text-lg sm:text-xl mb-3 sm:mb-4",children:"Loading Ad money..."}),s.jsx("div",{className:"text-white/60 text-sm sm:text-base",children:"Please wait while we initialize the application"})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 responsive-container",children:[j&&s.jsx(Sc,{currentPage:F,onNavigate:A,onLogout:C,user:t}),s.jsx("main",{className:`scrollable responsive-container ${j?"pt-[72px] sm:pt-16 lg:pt-20":""}`,children:s.jsxs(gc,{children:[s.jsx(de,{path:"/",element:s.jsx(lp,{onAuth:V})}),s.jsx(de,{path:"/auth",element:t?s.jsx(Ge,{to:"/dashboard",replace:!0}):s.jsx(dp,{onAuth:k,onBack:y,onResetPassword:()=>b("/reset-password"),isLoading:r,error:n})}),s.jsx(de,{path:"/reset-password",element:t?s.jsx(Ge,{to:"/dashboard",replace:!0}):s.jsx(hp,{onBack:()=>b("/auth"),onSuccess:()=>b("/auth")})}),s.jsx(de,{path:"/admin/login",element:t&&t.username==="mhamad"?s.jsx(Ge,{to:"/admin/dashboard",replace:!0}):s.jsx(t0,{onAdminLogin:D,onBack:y,isLoading:r,error:n})}),s.jsx(de,{path:"/admin/dashboard",element:t&&t.username==="mhamad"?s.jsx(s0,{onLogout:E,onBack:y}):s.jsx(Ge,{to:"/admin/login",replace:!0})}),s.jsx(de,{path:"/dashboard",element:s.jsx(Ke,{user:t,children:s.jsx(xp,{onNavigate:A,user:t,onUserUpdate:N})})}),s.jsx(de,{path:"/ads",element:s.jsx(Ke,{user:t,children:s.jsx(fp,{onNavigate:A,user:t,onUserUpdate:N})})}),s.jsx(de,{path:"/withdraw",element:s.jsx(Ke,{user:t,children:s.jsx(Yp,{user:t,onUserUpdate:N})})}),s.jsx(de,{path:"/profile",element:s.jsx(Ke,{user:t,children:s.jsx(qp,{user:t,onUserUpdate:N,navigate:P=>b(P)})})}),s.jsx(de,{path:"/referrals",element:s.jsx(Ke,{user:t,children:s.jsx(Jp,{onBack:R})})}),s.jsx(de,{path:"/settings",element:s.jsx(Ke,{user:t,children:s.jsx(Zp,{user:t,onUserUpdate:N,onBack:R,showSecurityAndNotifications:!0,onShowNotificationSettings:()=>m(!0),onShowTwoFactorAuth:()=>f(!0),onShowKYCVerification:()=>x(!0)})})}),s.jsx(de,{path:"/vip",element:s.jsx(Ke,{user:t,children:s.jsx(e0,{user:t,onUserUpdate:N,onBack:R})})}),s.jsx(de,{path:"/analytics",element:s.jsx(d0,{user:t,children:s.jsx(o0,{})})}),s.jsx(de,{path:"/support",element:s.jsx(Ke,{user:t,children:s.jsx(l0,{onBack:R})})}),s.jsx(de,{path:"/about",element:s.jsx(c0,{})}),s.jsx(de,{path:"*",element:s.jsx(Ge,{to:"/",replace:!0})})]})}),h&&s.jsx(i0,{onClose:()=>m(!1)}),u&&s.jsx(n0,{onClose:()=>f(!1)}),w&&s.jsx(a0,{onClose:()=>x(!1)})]})};function u0(){return console.log("App: Component rendering..."),p.useEffect(()=>{console.log("App: Component mounted")},[]),s.jsx(fc,{children:s.jsx(h0,{})})}class m0 extends p.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-white/80 mb-6",children:"We encountered an error while loading the application. Please try refreshing the page."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-400 text-black px-6 py-3 rounded-lg font-semibold hover:bg-yellow-300 transition-colors",children:"Refresh Page"}),this.state.error&&s.jsxs("details",{className:"mt-4 text-left",children:[s.jsx("summary",{className:"text-white/60 cursor-pointer",children:"Error Details"}),s.jsx("pre",{className:"text-red-400 text-xs mt-2 bg-black/20 p-2 rounded overflow-auto",children:this.state.error.toString()})]})]})}):this.props.children}}console.log("main.tsx: Starting application...");const Lr=document.getElementById("root");console.log("main.tsx: Root element found:",!!Lr);if(!Lr)console.error("main.tsx: Root element not found!");else try{const t=Da(Lr);console.log("main.tsx: React root created successfully"),t.render(s.jsx(p.StrictMode,{children:s.jsx(m0,{children:s.jsx(u0,{})})})),console.log("main.tsx: App rendered successfully")}catch(t){console.error("main.tsx: Error rendering app:",t)}
